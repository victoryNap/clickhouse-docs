"use strict";(self.webpackChunkclickhouse=self.webpackChunkclickhouse||[]).push([[98089],{3905:function(e,n,t){t.d(n,{Zo:function(){return s},kt:function(){return c}});var a=t(67294);function p(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function l(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);n&&(a=a.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,a)}return t}function r(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?l(Object(t),!0).forEach((function(n){p(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):l(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function i(e,n){if(null==e)return{};var t,a,p=function(e,n){if(null==e)return{};var t,a,p={},l=Object.keys(e);for(a=0;a<l.length;a++)t=l[a],n.indexOf(t)>=0||(p[t]=e[t]);return p}(e,n);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(a=0;a<l.length;a++)t=l[a],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(p[t]=e[t])}return p}var o=a.createContext({}),k=function(e){var n=a.useContext(o),t=n;return e&&(t="function"==typeof e?e(n):r(r({},n),e)),t},s=function(e){var n=k(e.components);return a.createElement(o.Provider,{value:n},e.children)},m={inlineCode:"code",wrapper:function(e){var n=e.children;return a.createElement(a.Fragment,{},n)}},u=a.forwardRef((function(e,n){var t=e.components,p=e.mdxType,l=e.originalType,o=e.parentName,s=i(e,["components","mdxType","originalType","parentName"]),u=k(t),c=p,d=u["".concat(o,".").concat(c)]||u[c]||m[c]||l;return t?a.createElement(d,r(r({ref:n},s),{},{components:t})):a.createElement(d,r({ref:n},s))}));function c(e,n){var t=arguments,p=n&&n.mdxType;if("string"==typeof e||p){var l=t.length,r=new Array(l);r[0]=u;var i={};for(var o in n)hasOwnProperty.call(n,o)&&(i[o]=n[o]);i.originalType=e,i.mdxType="string"==typeof e?e:p,r[1]=i;for(var k=2;k<l;k++)r[k]=t[k];return a.createElement.apply(null,r)}return a.createElement.apply(null,t)}u.displayName="MDXCreateElement"},33492:function(e,n,t){t.r(n),t.d(n,{assets:function(){return s},contentTitle:function(){return o},default:function(){return c},frontMatter:function(){return i},metadata:function(){return k},toc:function(){return m}});var a=t(87462),p=t(63366),l=(t(67294),t(3905)),r=["components"],i={},o="\u5982\u4f55\u7f16\u5199 C++ \u4ee3\u7801",k={unversionedId:"zh/development/style",id:"zh/development/style",title:"\u5982\u4f55\u7f16\u5199 C++ \u4ee3\u7801",description:"ru-he-bian-xie-c-dai-ma}",source:"@site/docs/zh/development/style.md",sourceDirName:"zh/development",slug:"/zh/development/style",permalink:"/zh/development/style",editUrl:"https://github.com/ClickHouse/ClickHouse/tree/docs-staging/docs/zh/development/style.md",tags:[],version:"current",frontMatter:{},sidebar:"chinese",previous:{title:"developer-instruction",permalink:"/zh/development/developer-instruction"},next:{title:"ClickHouse \u6d4b\u8bd5",permalink:"/zh/development/tests"}},s={},m=[{value:"\u4e00\u822c\u5efa\u8bae",id:"yi-ban-jian-yi",level:2},{value:"\u683c\u5f0f\u5316",id:"ge-shi-hua",level:2},{value:"\u8bc4\u8bba",id:"comments",level:2},{value:"\u59d3\u540d",id:"names",level:2},{value:"\u5982\u4f55\u7f16\u5199\u4ee3\u7801",id:"ru-he-bian-xie-dai-ma",level:2},{value:"\u6ca1\u6709\u7528\u5230\u7684 C++ \u7279\u6027\u3002",id:"mei-you-yong-dao-de-c-te-xing",level:2},{value:"\u5e73\u53f0",id:"ping-tai",level:2},{value:"\u5de5\u5177",id:"gong-ju",level:2},{value:"\u5e93",id:"ku",level:2},{value:"\u4e00\u822c\u5efa\u8bae",id:"yi-ban-jian-yi-1",level:2},{value:"\u5176\u4ed6\u5efa\u8bae",id:"qi-ta-jian-yi",level:2}],u={toc:m};function c(e){var n=e.components,t=(0,p.Z)(e,r);return(0,l.kt)("wrapper",(0,a.Z)({},u,t,{components:n,mdxType:"MDXLayout"}),(0,l.kt)("h1",{id:"ru-he-bian-xie-c-dai-ma"},"\u5982\u4f55\u7f16\u5199 C++ \u4ee3\u7801"),(0,l.kt)("h2",{id:"yi-ban-jian-yi"},"\u4e00\u822c\u5efa\u8bae"),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"1.")," \u4ee5\u4e0b\u662f\u5efa\u8bae\uff0c\u800c\u4e0d\u662f\u8981\u6c42\u3002"),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"2.")," \u5982\u679c\u4f60\u5728\u4fee\u6539\u4ee3\u7801\uff0c\u9075\u5b88\u5df2\u6709\u7684\u98ce\u683c\u662f\u6709\u610f\u4e49\u7684\u3002"),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"3.")," \u4ee3\u7801\u7684\u98ce\u683c\u9700\u4fdd\u6301\u4e00\u81f4\u3002\u4e00\u81f4\u7684\u98ce\u683c\u6709\u5229\u4e8e\u9605\u8bfb\u4ee3\u7801\uff0c\u5e76\u4e14\u65b9\u4fbf\u68c0\u7d22\u4ee3\u7801\u3002"),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"4.")," \u8bb8\u591a\u89c4\u5219\u6ca1\u6709\u903b\u8f91\u539f\u56e0\uff1b \u5b83\u4eec\u662f\u7531\u65e2\u5b9a\u7684\u505a\u6cd5\u51b3\u5b9a\u7684\u3002"),(0,l.kt)("h2",{id:"ge-shi-hua"},"\u683c\u5f0f\u5316"),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"1.")," \u5927\u591a\u6570\u683c\u5f0f\u5316\u53ef\u4ee5\u7528 ",(0,l.kt)("inlineCode",{parentName:"p"},"clang-format")," \u81ea\u52a8\u5b8c\u6210\u3002"),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"2.")," \u7f29\u8fdb\u662f4\u4e2a\u7a7a\u683c\u3002 \u914d\u7f6e\u5f00\u53d1\u73af\u5883\uff0c\u4f7f\u5f97 TAB \u4ee3\u8868\u6dfb\u52a0\u56db\u4e2a\u7a7a\u683c\u3002"),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"3.")," \u5de6\u53f3\u82b1\u62ec\u53f7\u9700\u5728\u5355\u72ec\u7684\u884c\u3002"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-cpp"},"inline void readBoolText(bool & x, ReadBuffer & buf)\n{\n    char tmp = '0';\n    readChar(tmp, buf);\n    x = tmp != '0';\n}\n")),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"4.")," \u82e5\u6574\u4e2a\u65b9\u6cd5\u4f53\u4ec5\u6709\u4e00\u884c ",(0,l.kt)("inlineCode",{parentName:"p"},"\u63cf\u8ff0"),"\uff0c \u5219\u53ef\u4ee5\u653e\u5230\u5355\u72ec\u7684\u884c\u4e0a\u3002 \u5728\u82b1\u62ec\u53f7\u5468\u56f4\u653e\u7f6e\u7a7a\u683c\uff08\u9664\u4e86\u884c\u5c3e\u7684\u7a7a\u683c\uff09\u3002"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-cpp"},"inline size_t mask() const                { return buf_size() - 1; }\ninline size_t place(HashValue x) const    { return x & mask(); }\n")),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"5.")," \u5bf9\u4e8e\u51fd\u6570\u3002 \u4e0d\u8981\u5728\u62ec\u53f7\u5468\u56f4\u653e\u7f6e\u7a7a\u683c\u3002"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-cpp"},"void reinsert(const Value & x)\n")),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-cpp"},"memcpy(&buf[place_value], &x, sizeof(x));\n")),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"6.")," \u5728",(0,l.kt)("inlineCode",{parentName:"p"},"if"),"\uff0c",(0,l.kt)("inlineCode",{parentName:"p"},"for"),"\uff0c",(0,l.kt)("inlineCode",{parentName:"p"},"while"),"\u548c\u5176\u4ed6\u8868\u8fbe\u5f0f\u4e2d\uff0c\u5728\u5f00\u62ec\u53f7\u524d\u9762\u63d2\u5165\u4e00\u4e2a\u7a7a\u683c\uff08\u4e0e\u51fd\u6570\u58f0\u660e\u76f8\u53cd\uff09\u3002"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-cpp"},"for (size_t i = 0; i < rows; i += storage.index_granularity)\n")),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"7.")," \u5728\u4e8c\u5143\u8fd0\u7b97\u7b26\uff08",(0,l.kt)("inlineCode",{parentName:"p"},"+"),"\uff0c",(0,l.kt)("inlineCode",{parentName:"p"},"-"),"\uff0c",(0,l.kt)("inlineCode",{parentName:"p"},"*"),"\uff0c",(0,l.kt)("inlineCode",{parentName:"p"},"/"),"\uff0c",(0,l.kt)("inlineCode",{parentName:"p"},"\uff05"),"\uff0c\u2026\uff09\u548c\u4e09\u5143\u8fd0\u7b97\u7b26 ",(0,l.kt)("inlineCode",{parentName:"p"},"?:")," \u5468\u56f4\u6dfb\u52a0\u7a7a\u683c\u3002"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-cpp"},"UInt16 year = (s[0] - '0') * 1000 + (s[1] - '0') * 100 + (s[2] - '0') * 10 + (s[3] - '0');\nUInt8 month = (s[5] - '0') * 10 + (s[6] - '0');\nUInt8 day = (s[8] - '0') * 10 + (s[9] - '0');\n")),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"8.")," \u82e5\u6709\u6362\u884c\uff0c\u65b0\u884c\u5e94\u8be5\u4ee5\u8fd0\u7b97\u7b26\u5f00\u5934\uff0c\u5e76\u4e14\u589e\u52a0\u5bf9\u5e94\u7684\u7f29\u8fdb\u3002"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-cpp"},'if (elapsed_ns)\n    message << " ("\n        << rows_read_on_server * 1000000000 / elapsed_ns << " rows/s., "\n        << bytes_read_on_server * 1000.0 / elapsed_ns << " MB/s.) ";\n')),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"9.")," \u5982\u679c\u9700\u8981\uff0c\u53ef\u4ee5\u5728\u4e00\u884c\u5185\u4f7f\u7528\u7a7a\u683c\u6765\u5bf9\u9f50\u3002"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-cpp"},"dst.ClickLogID         = click.LogID;\ndst.ClickEventID       = click.EventID;\ndst.ClickGoodEvent     = click.GoodEvent;\n")),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"10.")," \u4e0d\u8981\u5728 ",(0,l.kt)("inlineCode",{parentName:"p"},"."),"\uff0c",(0,l.kt)("inlineCode",{parentName:"p"},"->")," \u5468\u56f4\u52a0\u5165\u7a7a\u683c"),(0,l.kt)("p",null,"\u5982\u6709\u5fc5\u8981\uff0c\u8fd0\u7b97\u7b26\u53ef\u4ee5\u5305\u88f9\u5230\u4e0b\u4e00\u884c\u3002 \u5728\u8fd9\u79cd\u60c5\u51b5\u4e0b\uff0c\u5b83\u524d\u9762\u7684\u504f\u79fb\u91cf\u589e\u52a0\u3002"),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"11.")," \u4e0d\u8981\u4f7f\u7528\u7a7a\u683c\u6765\u5206\u5f00\u4e00\u5143\u8fd0\u7b97\u7b26 (",(0,l.kt)("inlineCode",{parentName:"p"},"--"),", ",(0,l.kt)("inlineCode",{parentName:"p"},"++"),", ",(0,l.kt)("inlineCode",{parentName:"p"},"*"),", ",(0,l.kt)("inlineCode",{parentName:"p"},"&"),", \u2026) \u548c\u53c2\u6570\u3002"),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"12.")," \u5728\u9017\u53f7\u540e\u9762\u52a0\u4e00\u4e2a\u7a7a\u683c\uff0c\u800c\u4e0d\u662f\u5728\u4e4b\u524d\u3002\u540c\u6837\u7684\u89c4\u5219\u4e5f\u9002\u5408 ",(0,l.kt)("inlineCode",{parentName:"p"},"for")," \u5faa\u73af\u4e2d\u7684\u5206\u53f7\u3002"),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"13.")," \u4e0d\u8981\u7528\u7a7a\u683c\u5206\u5f00 ",(0,l.kt)("inlineCode",{parentName:"p"},"[]")," \u8fd0\u7b97\u7b26\u3002"),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"14.")," \u5728 ",(0,l.kt)("inlineCode",{parentName:"p"},"template <...>")," \u8868\u8fbe\u5f0f\u4e2d\uff0c\u5728 ",(0,l.kt)("inlineCode",{parentName:"p"},"template")," \u548c ",(0,l.kt)("inlineCode",{parentName:"p"},"<")," \u4e2d\u52a0\u5165\u4e00\u4e2a\u7a7a\u683c\uff0c\u5728 ",(0,l.kt)("inlineCode",{parentName:"p"},"<")," \u540e\u9762\u6216\u5728 ",(0,l.kt)("inlineCode",{parentName:"p"},">")," \u524d\u9762\u90fd\u4e0d\u8981\u6709\u7a7a\u683c\u3002"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-cpp"},"template <typename TKey, typename TValue>\nstruct AggregatedStatElement\n{}\n")),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"15.")," \u5728\u7c7b\u548c\u7ed3\u6784\u4f53\u4e2d\uff0c ",(0,l.kt)("inlineCode",{parentName:"p"},"public"),"\uff0c ",(0,l.kt)("inlineCode",{parentName:"p"},"private")," \u4ee5\u53ca ",(0,l.kt)("inlineCode",{parentName:"p"},"protected")," \u540c ",(0,l.kt)("inlineCode",{parentName:"p"},"class/struct")," \u65e0\u9700\u7f29\u8fdb\uff0c\u5176\u4ed6\u4ee3\u7801\u987b\u7f29\u8fdb\u3002"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-cpp"},"template <typename T>\nclass MultiVersion\n{\npublic:\n    /// Version of object for usage. shared_ptr manage lifetime of version.\n    using Version = std::shared_ptr<const T>;\n    ...\n}\n")),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"16.")," \u5982\u679c\u5bf9\u6574\u4e2a\u6587\u4ef6\u4f7f\u7528\u76f8\u540c\u7684 ",(0,l.kt)("inlineCode",{parentName:"p"},"namespace"),"\uff0c\u5e76\u4e14\u6ca1\u6709\u5176\u4ed6\u91cd\u8981\u7684\u4e1c\u897f\uff0c\u5219 ",(0,l.kt)("inlineCode",{parentName:"p"},"namespace")," \u4e2d\u4e0d\u9700\u8981\u504f\u79fb\u91cf\u3002"),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"17.")," \u5728 ",(0,l.kt)("inlineCode",{parentName:"p"},"if"),", ",(0,l.kt)("inlineCode",{parentName:"p"},"for"),", ",(0,l.kt)("inlineCode",{parentName:"p"},"while")," \u4e2d\u5305\u88f9\u7684\u4ee3\u7801\u5757\u4e2d\uff0c\u82e5\u4ee3\u7801\u662f\u4e00\u4e2a\u5355\u884c\u7684 ",(0,l.kt)("inlineCode",{parentName:"p"},"statement"),"\uff0c\u90a3\u4e48\u5927\u62ec\u53f7\u662f\u53ef\u9009\u7684\u3002 \u53ef\u4ee5\u5c06 ",(0,l.kt)("inlineCode",{parentName:"p"},"statement")," \u653e\u5230\u4e00\u884c\u4e2d\u3002\u8fd9\u4e2a\u89c4\u5219\u540c\u6837\u9002\u7528\u4e8e\u5d4c\u5957\u7684 ",(0,l.kt)("inlineCode",{parentName:"p"},"if"),"\uff0c ",(0,l.kt)("inlineCode",{parentName:"p"},"for"),"\uff0c ",(0,l.kt)("inlineCode",{parentName:"p"},"while"),"\uff0c \u2026"),(0,l.kt)("p",null,"\u4f46\u662f\u5982\u679c\u5185\u90e8 ",(0,l.kt)("inlineCode",{parentName:"p"},"statement")," \u5305\u542b\u5927\u62ec\u53f7\u6216 ",(0,l.kt)("inlineCode",{parentName:"p"},"else"),"\uff0c\u5219\u5916\u90e8\u5757\u5e94\u8be5\u7528\u5927\u62ec\u53f7\u62ec\u8d77\u6765\u3002"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-cpp"},"/// Finish write.\nfor (auto & stream : streams)\n    stream.second->finalize();\n")),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"18.")," \u884c\u7684\u672b\u5c3e\u4e0d\u5e94\u8be5\u5305\u542b\u7a7a\u683c\u3002"),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"19.")," \u6e90\u6587\u4ef6\u5e94\u8be5\u7528 UTF-8 \u7f16\u7801\u3002"),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"20.")," \u975eASCII\u5b57\u7b26\u53ef\u7528\u4e8e\u5b57\u7b26\u4e32\u6587\u5b57\u3002"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-cpp"},'<< ", " << (timer.elapsed() / chunks_stats.hits) << " \u03bcsec/hit.";\n')),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"21")," \u4e0d\u8981\u5728\u4e00\u884c\u4e2d\u5199\u5165\u591a\u4e2a\u8868\u8fbe\u5f0f\u3002"),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"22.")," \u5c06\u51fd\u6570\u5185\u90e8\u7684\u4ee3\u7801\u6bb5\u5206\u7ec4\uff0c\u5e76\u5c06\u5b83\u4eec\u4e0e\u4e0d\u8d85\u8fc7\u4e00\u884c\u7684\u7a7a\u884c\u5206\u5f00\u3002"),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"23.")," \u5c06 \u51fd\u6570\uff0c\u7c7b\u7528\u4e00\u4e2a\u6216\u4e24\u4e2a\u7a7a\u884c\u5206\u5f00\u3002"),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"24.")," ",(0,l.kt)("inlineCode",{parentName:"p"},"const")," \u5fc5\u987b\u5199\u5728\u7c7b\u578b\u540d\u79f0\u4e4b\u524d\u3002"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-cpp"},"//correct\nconst char * pos\nconst std::string & s\n//incorrect\nchar const * pos\n")),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"25.")," \u58f0\u660e\u6307\u9488\u6216\u5f15\u7528\u65f6\uff0c",(0,l.kt)("inlineCode",{parentName:"p"},"*")," \u548c ",(0,l.kt)("inlineCode",{parentName:"p"},"\uff06")," \u7b26\u53f7\u4e24\u8fb9\u5e94\u8be5\u90fd\u7528\u7a7a\u683c\u5206\u9694\u3002"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-cpp"},"//correct\nconst char * pos\n//incorrect\nconst char* pos\nconst char *pos\n")),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"26.")," \u4f7f\u7528\u6a21\u677f\u7c7b\u578b\u65f6\uff0c\u4f7f\u7528 ",(0,l.kt)("inlineCode",{parentName:"p"},"using")," \u5173\u952e\u5b57\u5bf9\u5b83\u4eec\u8fdb\u884c\u522b\u540d\uff08\u6700\u7b80\u5355\u7684\u60c5\u51b5\u9664\u5916\uff09\u3002"),(0,l.kt)("p",null,"\u6362\u53e5\u8bdd\u8bf4\uff0c\u6a21\u677f\u53c2\u6570\u4ec5\u5728 ",(0,l.kt)("inlineCode",{parentName:"p"},"using")," \u4e2d\u6307\u5b9a\uff0c\u5e76\u4e14\u4e0d\u5728\u4ee3\u7801\u4e2d\u91cd\u590d\u3002"),(0,l.kt)("p",null,(0,l.kt)("inlineCode",{parentName:"p"},"using"),"\u53ef\u4ee5\u5728\u672c\u5730\u58f0\u660e\uff0c\u4f8b\u5982\u5728\u51fd\u6570\u5185\u90e8\u3002"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-cpp"},"//correct\nusing FileStreams = std::map<std::string, std::shared_ptr<Stream>>;\nFileStreams streams;\n//incorrect\nstd::map<std::string, std::shared_ptr<Stream>> streams;\n")),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"27.")," \u4e0d\u8981\u5728\u4e00\u4e2a\u8bed\u53e5\u4e2d\u58f0\u660e\u4e0d\u540c\u7c7b\u578b\u7684\u591a\u4e2a\u53d8\u91cf\u3002"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-cpp"},"//incorrect\nint x, *y;\n")),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"28.")," \u4e0d\u8981\u4f7f\u7528C\u98ce\u683c\u7684\u7c7b\u578b\u8f6c\u6362\u3002"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-cpp"},"//incorrect\nstd::cerr << (int)c <<; std::endl;\n//correct\nstd::cerr << static_cast<int>(c) << std::endl;\n")),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"29.")," \u5728\u7c7b\u548c\u7ed3\u6784\u4e2d\uff0c\u7ec4\u6210\u5458\u548c\u51fd\u6570\u5206\u522b\u5728\u6bcf\u4e2a\u53ef\u89c1\u8303\u56f4\u5185\u3002"),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"30.")," \u5bf9\u4e8e\u5c0f\u7c7b\u548c\u7ed3\u6784\uff0c\u6ca1\u6709\u5fc5\u8981\u5c06\u65b9\u6cd5\u58f0\u660e\u4e0e\u5b9e\u73b0\u5206\u5f00\u3002"),(0,l.kt)("p",null,"\u5bf9\u4e8e\u4efb\u4f55\u7c7b\u6216\u7ed3\u6784\u4e2d\u7684\u5c0f\u65b9\u6cd5\u4e5f\u662f\u5982\u6b64\u3002"),(0,l.kt)("p",null,"\u5bf9\u4e8e\u6a21\u677f\u5316\u7c7b\u548c\u7ed3\u6784\uff0c\u4e0d\u8981\u5c06\u65b9\u6cd5\u58f0\u660e\u4e0e\u5b9e\u73b0\u5206\u5f00\uff08\u56e0\u4e3a\u5426\u5219\u5b83\u4eec\u5fc5\u987b\u5728\u540c\u4e00\u4e2a\u8f6c\u6362\u5355\u5143\u4e2d\u5b9a\u4e49\uff09"),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"31.")," \u60a8\u53ef\u4ee5\u5c06\u6362\u884c\u89c4\u5219\u5b9a\u5728140\u4e2a\u5b57\u7b26\uff0c\u800c\u4e0d\u662f80\u4e2a\u5b57\u7b26\u3002"),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"32.")," \u5982\u679c\u4e0d\u9700\u8981 postfix\uff0c\u8bf7\u59cb\u7ec8\u4f7f\u7528\u524d\u7f00\u589e\u91cf/\u51cf\u91cf\u8fd0\u7b97\u7b26\u3002"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-cpp"},"for (Names::const_iterator it = column_names.begin(); it != column_names.end(); ++it)\n")),(0,l.kt)("h2",{id:"comments"},"\u8bc4\u8bba"),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"1.")," \u8bf7\u52a1\u5fc5\u4e3a\u6240\u6709\u975e\u5e38\u91cd\u8981\u7684\u4ee3\u7801\u90e8\u5206\u6dfb\u52a0\u6ce8\u91ca\u3002"),(0,l.kt)("p",null,"\u8fd9\u662f\u975e\u5e38\u91cd\u8981\u7684\u3002 \u7f16\u5199\u6ce8\u91ca\u53ef\u80fd\u4f1a\u5e2e\u52a9\u60a8\u610f\u8bc6\u5230\u4ee3\u7801\u4e0d\u662f\u5fc5\u9700\u7684\uff0c\u6216\u8005\u8bbe\u8ba1\u9519\u8bef\u3002"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-cpp"},"/** Part of piece of memory, that can be used.\n  * For example, if internal_buffer is 1MB, and there was only 10 bytes loaded to buffer from file for reading,\n  * then working_buffer will have size of only 10 bytes\n  * (working_buffer.end() will point to position right after those 10 bytes available for read).\n  */\n")),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"2.")," \u6ce8\u91ca\u53ef\u4ee5\u5c3d\u53ef\u80fd\u8be6\u7ec6\u3002"),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"3.")," \u5728\u4ed6\u4eec\u63cf\u8ff0\u7684\u4ee3\u7801\u4e4b\u524d\u653e\u7f6e\u6ce8\u91ca\u3002 \u5728\u6781\u5c11\u6570\u60c5\u51b5\u4e0b\uff0c\u6ce8\u91ca\u53ef\u4ee5\u5728\u4ee3\u7801\u4e4b\u540e\uff0c\u5728\u540c\u4e00\u884c\u4e0a\u3002"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-cpp"},"/** Parses and executes the query.\n*/\nvoid executeQuery(\n    ReadBuffer & istr, /// Where to read the query from (and data for INSERT, if applicable)\n    WriteBuffer & ostr, /// Where to write the result\n    Context & context, /// DB, tables, data types, engines, functions, aggregate functions...\n    BlockInputStreamPtr & query_plan, /// Here could be written the description on how query was executed\n    QueryProcessingStage::Enum stage = QueryProcessingStage::Complete /// Up to which stage process the SELECT query\n    )\n")),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"4.")," \u6ce8\u91ca\u5e94\u8be5\u53ea\u7528\u82f1\u6587\u64b0\u5199\u3002"),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"5.")," \u5982\u679c\u60a8\u6b63\u5728\u7f16\u5199\u5e93\uff0c\u8bf7\u5728\u4e3b\u5934\u6587\u4ef6\u4e2d\u5305\u542b\u89e3\u91ca\u5b83\u7684\u8be6\u7ec6\u6ce8\u91ca\u3002"),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"6.")," \u8bf7\u52ff\u6dfb\u52a0\u65e0\u6548\u7684\u6ce8\u91ca\u3002 \u7279\u522b\u662f\uff0c\u4e0d\u8981\u7559\u4e0b\u50cf\u8fd9\u6837\u7684\u7a7a\u6ce8\u91ca\uff1a"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-cpp"},"/*\n* Procedure Name:\n* Original procedure name:\n* Author:\n* Date of creation:\n* Dates of modification:\n* Modification authors:\n* Original file name:\n* Purpose:\n* Intent:\n* Designation:\n* Classes used:\n* Constants:\n* Local variables:\n* Parameters:\n* Date of creation:\n* Purpose:\n*/\n")),(0,l.kt)("p",null,"\u8fd9\u4e2a\u793a\u4f8b\u6765\u6e90\u4e8e ",(0,l.kt)("a",{parentName:"p",href:"http://home.tamk.fi/~jaalto/course/coding-style/doc/unmaintainable-code/%E3%80%82"},"http://home.tamk.fi/~jaalto/course/coding-style/doc/unmaintainable-code/\u3002")),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"7.")," \u4e0d\u8981\u5728\u6bcf\u4e2a\u6587\u4ef6\u7684\u5f00\u5934\u5199\u5165\u5783\u573e\u6ce8\u91ca\uff08\u4f5c\u8005\uff0c\u521b\u5efa\u65e5\u671f\u2026\uff09\u3002"),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"8.")," \u5355\u884c\u6ce8\u91ca\u7528\u4e09\u4e2a\u659c\u6746\uff1a ",(0,l.kt)("inlineCode",{parentName:"p"},"///")," \uff0c\u591a\u884c\u6ce8\u91ca\u4ee5 ",(0,l.kt)("inlineCode",{parentName:"p"},"/**"),"\u5f00\u59cb\u3002 \u8fd9\u4e9b\u6ce8\u91ca\u4f1a\u5f53\u505a\u6587\u6863\u3002"),(0,l.kt)("p",null,"\u6ce8\u610f\uff1a\u60a8\u53ef\u4ee5\u4f7f\u7528 Doxygen \u4ece\u8fd9\u4e9b\u6ce8\u91ca\u4e2d\u751f\u6210\u6587\u6863\u3002 \u4f46\u662f\u901a\u5e38\u4e0d\u4f7f\u7528 Doxygen\uff0c\u56e0\u4e3a\u5728 IDE \u4e2d\u5bfc\u822a\u4ee3\u7801\u66f4\u65b9\u4fbf\u3002"),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"9.")," \u591a\u884c\u6ce8\u91ca\u7684\u5f00\u5934\u548c\u7ed3\u5c3e\u4e0d\u5f97\u6709\u7a7a\u884c\uff08\u5173\u95ed\u591a\u884c\u6ce8\u91ca\u7684\u884c\u9664\u5916\uff09\u3002"),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"10.")," \u8981\u6ce8\u91ca\u6389\u4ee3\u7801\uff0c\u8bf7\u4f7f\u7528\u57fa\u672c\u6ce8\u91ca\uff0c\u800c\u4e0d\u662f\u201c\u6587\u6863\u201d\u6ce8\u91ca\u3002"),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"11.")," \u5728\u63d0\u4ea4\u4e4b\u524d\u5220\u9664\u4ee3\u7801\u7684\u65e0\u6548\u6ce8\u91ca\u90e8\u5206\u3002"),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"12.")," \u4e0d\u8981\u5728\u6ce8\u91ca\u6216\u4ee3\u7801\u4e2d\u4f7f\u7528\u4eb5\u6e0e\u8bed\u8a00\u3002"),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"13.")," \u4e0d\u8981\u4f7f\u7528\u5927\u5199\u5b57\u6bcd\u3002 \u4e0d\u8981\u4f7f\u7528\u8fc7\u591a\u7684\u6807\u70b9\u7b26\u53f7\u3002"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-cpp"},"/// WHAT THE FAIL???\n")),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"14.")," \u4e0d\u8981\u4f7f\u7528\u6ce8\u91ca\u6765\u5236\u4f5c\u5206\u9694\u7b26\u3002"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-cpp"},"///******************************************************\n")),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"15.")," \u4e0d\u8981\u5728\u6ce8\u91ca\u4e2d\u5f00\u59cb\u8ba8\u8bba\u3002"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-cpp"},"/// Why did you do this stuff?\n")),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"16.")," \u6ca1\u6709\u5fc5\u8981\u5728\u5757\u7684\u672b\u5c3e\u5199\u4e00\u6761\u6ce8\u91ca\u6765\u63cf\u8ff0\u5b83\u7684\u542b\u4e49\u3002"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-cpp"},"/// for\n")),(0,l.kt)("h2",{id:"names"},"\u59d3\u540d"),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"1.")," \u5728\u53d8\u91cf\u548c\u7c7b\u6210\u5458\u7684\u540d\u79f0\u4e2d\u4f7f\u7528\u5e26\u4e0b\u5212\u7ebf\u7684\u5c0f\u5199\u5b57\u6bcd\u3002"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-cpp"},"size_t max_block_size;\n")),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"2.")," \u5bf9\u4e8e\u51fd\u6570\uff08\u65b9\u6cd5\uff09\u7684\u540d\u79f0\uff0c\u8bf7\u4f7f\u7528\u4ee5\u5c0f\u5199\u5b57\u6bcd\u5f00\u5934\u7684\u9a7c\u5cf0\u6807\u8bc6\u3002"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-cpp"},'std::string getName() const override { return "Memory"; }\n')),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"3.")," \u5bf9\u4e8e\u7c7b\uff08\u7ed3\u6784\uff09\u7684\u540d\u79f0\uff0c\u4f7f\u7528\u4ee5\u5927\u5199\u5b57\u6bcd\u5f00\u5934\u7684\u9a7c\u5cf0\u6807\u8bc6\u3002\u63a5\u53e3\u540d\u79f0\u7528I\u524d\u7f00\u3002"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-cpp"},"class StorageMemory : public IStorage\n")),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"4.")," ",(0,l.kt)("inlineCode",{parentName:"p"},"using")," \u7684\u547d\u540d\u65b9\u5f0f\u4e0e\u7c7b\u76f8\u540c\uff0c\u6216\u8005\u4ee5__t","`","\u547d\u540d\u3002"),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"5.")," \u6a21\u677f\u7c7b\u578b\u53c2\u6570\u7684\u540d\u79f0\uff1a\u5728\u7b80\u5355\u7684\u60c5\u51b5\u4e0b\uff0c\u4f7f\u7528",(0,l.kt)("inlineCode",{parentName:"p"},"T"),"; ",(0,l.kt)("inlineCode",{parentName:"p"},"T"),"\uff0c",(0,l.kt)("inlineCode",{parentName:"p"},"U"),"; ",(0,l.kt)("inlineCode",{parentName:"p"},"T1"),"\uff0c",(0,l.kt)("inlineCode",{parentName:"p"},"T2"),"\u3002"),(0,l.kt)("p",null,"\u5bf9\u4e8e\u66f4\u590d\u6742\u7684\u60c5\u51b5\uff0c\u8981\u4e48\u9075\u5faa\u7c7b\u540d\u89c4\u5219\uff0c\u8981\u4e48\u6dfb\u52a0\u524d\u7f00",(0,l.kt)("inlineCode",{parentName:"p"},"T"),"\u3002"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-cpp"},"template <typename TKey, typename TValue>\nstruct AggregatedStatElement\n")),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"6.")," \u6a21\u677f\u5e38\u91cf\u53c2\u6570\u7684\u540d\u79f0\uff1a\u9075\u5faa\u53d8\u91cf\u540d\u79f0\u7684\u89c4\u5219\uff0c\u6216\u8005\u5728\u7b80\u5355\u7684\u60c5\u51b5\u4e0b\u4f7f\u7528 ",(0,l.kt)("inlineCode",{parentName:"p"},"N"),"\u3002"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-cpp"},"template <bool without_www>\nstruct ExtractDomain\n")),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"7.")," \u5bf9\u4e8e\u62bd\u8c61\u7c7b\uff08\u63a5\u53e3\uff09\uff0c\u7528 ",(0,l.kt)("inlineCode",{parentName:"p"},"I")," \u524d\u7f00\u3002"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-cpp"},"class IBlockInputStream\n")),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"8.")," \u5982\u679c\u5728\u672c\u5730\u4f7f\u7528\u53d8\u91cf\uff0c\u5219\u53ef\u4ee5\u4f7f\u7528\u77ed\u540d\u79f0\u3002"),(0,l.kt)("p",null,"\u5728\u6240\u6709\u5176\u4ed6\u60c5\u51b5\u4e0b\uff0c\u8bf7\u4f7f\u7528\u80fd\u63cf\u8ff0\u542b\u4e49\u7684\u540d\u79f0\u3002"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-cpp"},"bool info_successfully_loaded = false;\n")),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"9.")," ",(0,l.kt)("inlineCode",{parentName:"p"},"define")," \u548c\u5168\u5c40\u5e38\u91cf\u7684\u540d\u79f0\u4f7f\u7528\u5168\u5927\u5199\u5e26\u4e0b\u5212\u7ebf\u7684\u5f62\u5f0f\uff0c\u5982 ",(0,l.kt)("inlineCode",{parentName:"p"},"ALL_CAPS"),"\u3002"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-cpp"},"#define MAX_SRC_TABLE_NAMES_TO_STORE 1000\n")),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"10.")," \u6587\u4ef6\u540d\u5e94\u4f7f\u7528\u4e0e\u5176\u5185\u5bb9\u76f8\u540c\u7684\u6837\u5f0f\u3002"),(0,l.kt)("p",null,"\u5982\u679c\u6587\u4ef6\u5305\u542b\u5355\u4e2a\u7c7b\uff0c\u5219\u4ee5\u4e0e\u8be5\u7c7b\u540d\u79f0\u76f8\u540c\u7684\u65b9\u5f0f\u547d\u540d\u8be5\u6587\u4ef6\uff08CamelCase\uff09\u3002"),(0,l.kt)("p",null,"\u5982\u679c\u6587\u4ef6\u5305\u542b\u5355\u4e2a\u51fd\u6570\uff0c\u5219\u4ee5\u4e0e\u51fd\u6570\u540d\u79f0\u76f8\u540c\u7684\u65b9\u5f0f\u547d\u540d\u6587\u4ef6\uff08camelCase\uff09\u3002"),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"11.")," \u5982\u679c\u540d\u79f0\u5305\u542b\u7f29\u5199\uff0c\u5219\uff1a"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"\u5bf9\u4e8e\u53d8\u91cf\u540d\uff0c\u7f29\u5199\u5e94\u4f7f\u7528\u5c0f\u5199\u5b57\u6bcd ",(0,l.kt)("inlineCode",{parentName:"li"},"mysql_connection"),"\uff08\u4e0d\u662f ",(0,l.kt)("inlineCode",{parentName:"li"},"mySQL_connection")," \uff09\u3002"),(0,l.kt)("li",{parentName:"ul"},"\u5bf9\u4e8e\u7c7b\u548c\u51fd\u6570\u7684\u540d\u79f0\uff0c\u8bf7\u5c06\u5927\u5199\u5b57\u6bcd\u4fdd\u7559\u5728\u7f29\u5199 ",(0,l.kt)("inlineCode",{parentName:"li"},"MySQLConnection"),"\uff08\u4e0d\u662f ",(0,l.kt)("inlineCode",{parentName:"li"},"MySqlConnection"),"\uff09\u3002")),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"12.")," \u4ec5\u7528\u4e8e\u521d\u59cb\u5316\u7c7b\u6210\u5458\u7684\u6784\u9020\u65b9\u6cd5\u53c2\u6570\u7684\u547d\u540d\u65b9\u5f0f\u5e94\u4e0e\u7c7b\u6210\u5458\u76f8\u540c\uff0c\u4f46\u6700\u540e\u4f7f\u7528\u4e0b\u5212\u7ebf\u3002"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-cpp"},'FileQueueProcessor(\n    const std::string & path_,\n    const std::string & prefix_,\n    std::shared_ptr<FileHandler> handler_)\n    : path(path_),\n    prefix(prefix_),\n    handler(handler_),\n    log(&Logger::get("FileQueueProcessor"))\n{\n}\n')),(0,l.kt)("p",null,"\u5982\u679c\u6784\u9020\u51fd\u6570\u4f53\u4e2d\u672a\u4f7f\u7528\u8be5\u53c2\u6570\uff0c\u5219\u53ef\u4ee5\u7701\u7565\u4e0b\u5212\u7ebf\u540e\u7f00\u3002"),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"13.")," \u5c40\u90e8\u53d8\u91cf\u548c\u7c7b\u6210\u5458\u7684\u540d\u79f0\u6ca1\u6709\u533a\u522b\uff08\u4e0d\u9700\u8981\u524d\u7f00\uff09\u3002"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-cpp"},"timer (not m_timer)\n")),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"14.")," \u5bf9\u4e8e ",(0,l.kt)("inlineCode",{parentName:"p"},"enum")," \u4e2d\u7684\u5e38\u91cf\uff0c\u8bf7\u4f7f\u7528\u5e26\u5927\u5199\u5b57\u6bcd\u7684\u9a7c\u5cf0\u6807\u8bc6\u3002ALL_CAPS \u4e5f\u53ef\u4ee5\u63a5\u53d7\u3002\u5982\u679c ",(0,l.kt)("inlineCode",{parentName:"p"},"enum")," \u662f\u975e\u672c\u5730\u7684\uff0c\u8bf7\u4f7f\u7528 ",(0,l.kt)("inlineCode",{parentName:"p"},"enum class"),"\u3002"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-cpp"},"enum class CompressionMethod\n{\n    QuickLZ = 0,\n    LZ4     = 1,\n};\n")),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"15.")," \u6240\u6709\u540d\u5b57\u5fc5\u987b\u662f\u82f1\u6587\u3002\u4e0d\u5141\u8bb8\u97f3\u8bd1\u4fc4\u8bed\u5355\u8bcd\u3002"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre"},"not Stroka\n")),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"16.")," \u7f29\u5199\u987b\u662f\u4f17\u6240\u5468\u77e5\u7684\uff08\u5f53\u60a8\u53ef\u4ee5\u5728\u7ef4\u57fa\u767e\u79d1\u6216\u641c\u7d22\u5f15\u64ce\u4e2d\u8f7b\u677e\u627e\u5230\u7f29\u5199\u7684\u542b\u4e49\u65f6\uff09\u3002"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre"},"`AST`, `SQL`.\n\nNot `NVDH` (some random letters)\n")),(0,l.kt)("p",null,"\u5982\u679c\u7f29\u77ed\u7248\u672c\u662f\u5e38\u7528\u7684\uff0c\u5219\u53ef\u4ee5\u63a5\u53d7\u4e0d\u5b8c\u6574\u7684\u5355\u8bcd\u3002"),(0,l.kt)("p",null,"\u5982\u679c\u65c1\u8fb9\u6709\u6ce8\u91ca\u5305\u542b\u5168\u540d\uff0c\u60a8\u4e5f\u53ef\u4ee5\u4f7f\u7528\u7f29\u5199\u3002"),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"17.")," C++ \u6e90\u7801\u6587\u4ef6\u540d\u79f0\u5fc5\u987b\u4e3a ",(0,l.kt)("inlineCode",{parentName:"p"},".cpp")," \u62d3\u5c55\u540d\u3002 \u5934\u6587\u4ef6\u5fc5\u987b\u4e3a ",(0,l.kt)("inlineCode",{parentName:"p"},".h")," \u62d3\u5c55\u540d\u3002"),(0,l.kt)("h2",{id:"ru-he-bian-xie-dai-ma"},"\u5982\u4f55\u7f16\u5199\u4ee3\u7801"),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"1.")," \u5185\u5b58\u7ba1\u7406\u3002"),(0,l.kt)("p",null,"\u624b\u52a8\u5185\u5b58\u91ca\u653e (",(0,l.kt)("inlineCode",{parentName:"p"},"delete"),") \u53ea\u80fd\u5728\u5e93\u4ee3\u7801\u4e2d\u4f7f\u7528\u3002"),(0,l.kt)("p",null,"\u5728\u5e93\u4ee3\u7801\u4e2d\uff0c ",(0,l.kt)("inlineCode",{parentName:"p"},"delete")," \u8fd0\u7b97\u7b26\u53ea\u80fd\u5728\u6790\u6784\u51fd\u6570\u4e2d\u4f7f\u7528\u3002"),(0,l.kt)("p",null,"\u5728\u5e94\u7528\u7a0b\u5e8f\u4ee3\u7801\u4e2d\uff0c\u5185\u5b58\u5fc5\u987b\u7531\u62e5\u6709\u5b83\u7684\u5bf9\u8c61\u91ca\u653e\u3002"),(0,l.kt)("p",null,"\u793a\u4f8b\uff1a"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"\u6700\u7b80\u5355\u7684\u65b9\u6cd5\u662f\u5c06\u5bf9\u8c61\u653e\u5728\u5806\u6808\u4e0a\uff0c\u6216\u4f7f\u5176\u6210\u4e3a\u53e6\u4e00\u4e2a\u7c7b\u7684\u6210\u5458\u3002"),(0,l.kt)("li",{parentName:"ul"},"\u5bf9\u4e8e\u5927\u91cf\u5c0f\u5bf9\u8c61\uff0c\u8bf7\u4f7f\u7528\u5bb9\u5668\u3002"),(0,l.kt)("li",{parentName:"ul"},"\u5bf9\u4e8e\u81ea\u52a8\u91ca\u653e\u5c11\u91cf\u5728\u5806\u4e2d\u7684\u5bf9\u8c61\uff0c\u53ef\u4ee5\u7528 ",(0,l.kt)("inlineCode",{parentName:"li"},"shared_ptr/unique_ptr"),"\u3002")),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"2.")," \u8d44\u6e90\u7ba1\u7406\u3002"),(0,l.kt)("p",null,"\u4f7f\u7528 ",(0,l.kt)("inlineCode",{parentName:"p"},"RAII")," \u4ee5\u53ca\u67e5\u770b\u4ee5\u4e0a\u8bf4\u660e\u3002"),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"3.")," \u9519\u8bef\u5904\u7406\u3002"),(0,l.kt)("p",null,"\u5728\u5927\u591a\u6570\u60c5\u51b5\u4e0b\uff0c\u60a8\u53ea\u9700\u8981\u629b\u51fa\u4e00\u4e2a\u5f02\u5e38\uff0c\u800c\u4e0d\u9700\u8981\u6355\u83b7\u5b83\uff08\u56e0\u4e3a",(0,l.kt)("inlineCode",{parentName:"p"},"RAII"),"\uff09\u3002"),(0,l.kt)("p",null,"\u5728\u79bb\u7ebf\u6570\u636e\u5904\u7406\u5e94\u7528\u7a0b\u5e8f\u4e2d\uff0c\u901a\u5e38\u53ef\u4ee5\u63a5\u53d7\u4e0d\u6355\u83b7\u5f02\u5e38\u3002"),(0,l.kt)("p",null,"\u5728\u5904\u7406\u7528\u6237\u8bf7\u6c42\u7684\u670d\u52a1\u5668\u4e2d\uff0c\u6355\u83b7\u8fde\u63a5\u5904\u7406\u7a0b\u5e8f\u9876\u5c42\u7684\u5f02\u5e38\u901a\u5e38\u5c31\u8db3\u591f\u4e86\u3002"),(0,l.kt)("p",null,"\u5728\u7ebf\u7a0b\u51fd\u6570\u4e2d\uff0c\u4f60\u5e94\u8be5\u5728 ",(0,l.kt)("inlineCode",{parentName:"p"},"join")," \u4e4b\u540e\u6355\u83b7\u5e76\u4fdd\u7559\u6240\u6709\u5f02\u5e38\u4ee5\u5728\u4e3b\u7ebf\u7a0b\u4e2d\u91cd\u65b0\u629b\u51fa\u5b83\u4eec\u3002"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-cpp"},"/// If there weren't any calculations yet, calculate the first block synchronously\nif (!started)\n{\n    calculate();\n    started = true;\n}\nelse /// If calculations are already in progress, wait for the result\n    pool.wait();\n\nif (exception)\n    exception->rethrow();\n")),(0,l.kt)("p",null,"\u4e0d\u5904\u7406\u5c31\u4e0d\u8981\u9690\u85cf\u5f02\u5e38\u3002 \u6c38\u8fdc\u4e0d\u8981\u76f2\u76ee\u5730\u628a\u6240\u6709\u5f02\u5e38\u90fd\u8bb0\u5f55\u5230\u65e5\u5fd7\u4e2d\u3002"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-cpp"},"//Not correct\ncatch (...) {}\n")),(0,l.kt)("p",null,"\u5982\u679c\u60a8\u9700\u8981\u5ffd\u7565\u67d0\u4e9b\u5f02\u5e38\uff0c\u8bf7\u4ec5\u9488\u5bf9\u7279\u5b9a\u5f02\u5e38\u6267\u884c\u6b64\u64cd\u4f5c\u5e76\u91cd\u65b0\u629b\u51fa\u5176\u4f59\u5f02\u5e38\u3002"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-cpp"},"catch (const DB::Exception & e)\n{\n    if (e.code() == ErrorCodes::UNKNOWN_AGGREGATE_FUNCTION)\n        return nullptr;\n    else\n        throw;\n}\n")),(0,l.kt)("p",null,"\u5f53\u4f7f\u7528\u5177\u6709\u8fd4\u56de\u7801\u6216 ",(0,l.kt)("inlineCode",{parentName:"p"},"errno")," \u7684\u51fd\u6570\u65f6\uff0c\u8bf7\u59cb\u7ec8\u68c0\u67e5\u7ed3\u679c\u5e76\u5728\u51fa\u73b0\u9519\u8bef\u65f6\u629b\u51fa\u5f02\u5e38\u3002"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-cpp"},'if (0 != close(fd))\n    throwFromErrno("Cannot close file " + file_name, ErrorCodes::CANNOT_CLOSE_FILE);\n')),(0,l.kt)("p",null,(0,l.kt)("inlineCode",{parentName:"p"},"\u4e0d\u8981\u4f7f\u7528\u65ad\u8a00"),"\u3002"),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"4.")," \u5f02\u5e38\u7c7b\u578b\u3002"),(0,l.kt)("p",null,"\u4e0d\u9700\u8981\u5728\u5e94\u7528\u7a0b\u5e8f\u4ee3\u7801\u4e2d\u4f7f\u7528\u590d\u6742\u7684\u5f02\u5e38\u5c42\u6b21\u7ed3\u6784\u3002 \u7cfb\u7edf\u7ba1\u7406\u5458\u5e94\u8be5\u53ef\u4ee5\u7406\u89e3\u5f02\u5e38\u6587\u672c\u3002"),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"5.")," \u4ece\u6790\u6784\u51fd\u6570\u4e2d\u629b\u51fa\u5f02\u5e38\u3002"),(0,l.kt)("p",null,"\u4e0d\u5efa\u8bae\u8fd9\u6837\u505a\uff0c\u4f46\u5141\u8bb8\u8fd9\u6837\u505a\u3002"),(0,l.kt)("p",null,"\u6309\u7167\u4ee5\u4e0b\u9009\u9879\uff1a"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"\u521b\u5efa\u4e00\u4e2a\u51fd\u6570\uff08 ",(0,l.kt)("inlineCode",{parentName:"li"},"done\uff08\uff09")," \u6216 ",(0,l.kt)("inlineCode",{parentName:"li"},"finalize\uff08\uff09")," \uff09\uff0c\u5b83\u5c06\u63d0\u524d\u5b8c\u6210\u6240\u6709\u53ef\u80fd\u5bfc\u81f4\u5f02\u5e38\u7684\u5de5\u4f5c\u3002 \u5982\u679c\u8c03\u7528\u4e86\u8be5\u51fd\u6570\uff0c\u5219\u7a0d\u540e\u5728\u6790\u6784\u51fd\u6570\u4e2d\u5e94\u8be5\u6ca1\u6709\u5f02\u5e38\u3002"),(0,l.kt)("li",{parentName:"ul"},"\u8fc7\u4e8e\u590d\u6742\u7684\u4efb\u52a1\uff08\u4f8b\u5982\u901a\u8fc7\u7f51\u7edc\u53d1\u9001\u6d88\u606f\uff09\u53ef\u4ee5\u653e\u5728\u5355\u72ec\u7684\u65b9\u6cd5\u4e2d\uff0c\u7c7b\u7528\u6237\u5fc5\u987b\u5728\u9500\u6bc1\u4e4b\u524d\u8c03\u7528\u5b83\u4eec\u3002"),(0,l.kt)("li",{parentName:"ul"},"\u5982\u679c\u6790\u6784\u51fd\u6570\u4e2d\u5b58\u5728\u5f02\u5e38\uff0c\u5219\u6700\u597d\u8bb0\u5f55\u5b83\u800c\u4e0d\u662f\u9690\u85cf\u5b83\uff08\u5982\u679c logger \u53ef\u7528\uff09\u3002"),(0,l.kt)("li",{parentName:"ul"},"\u5728\u7b80\u5355\u7684\u5e94\u7528\u7a0b\u5e8f\u4e2d\uff0c\u4f9d\u8d56\u4e8e",(0,l.kt)("inlineCode",{parentName:"li"},"std::terminate"),"\uff08\u5bf9\u4e8eC++ 11\u4e2d\u9ed8\u8ba4\u60c5\u51b5\u4e0b\u4e3a ",(0,l.kt)("inlineCode",{parentName:"li"},"noexcept")," \u7684\u60c5\u51b5\uff09\u6765\u5904\u7406\u5f02\u5e38\u662f\u53ef\u4ee5\u63a5\u53d7\u7684\u3002")),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"6.")," \u533f\u540d\u4ee3\u7801\u5757\u3002"),(0,l.kt)("p",null,"\u60a8\u53ef\u4ee5\u5728\u5355\u4e2a\u51fd\u6570\u5185\u521b\u5efa\u5355\u72ec\u7684\u4ee3\u7801\u5757\uff0c\u4ee5\u4f7f\u67d0\u4e9b\u53d8\u91cf\u6210\u4e3a\u5c40\u90e8\u53d8\u91cf\uff0c\u4ee5\u4fbf\u5728\u9000\u51fa\u5757\u65f6\u8c03\u7528\u6790\u6784\u51fd\u6570\u3002"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-cpp"},"Block block = data.in->read();\n\n{\n    std::lock_guard<std::mutex> lock(mutex);\n    data.ready = true;\n    data.block = block;\n}\n\nready_any.set();\n")),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"7.")," \u591a\u7ebf\u7a0b\u3002"),(0,l.kt)("p",null,"\u5728\u79bb\u7ebf\u6570\u636e\u5904\u7406\u7a0b\u5e8f\u4e2d\uff1a"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"\u5c1d\u8bd5\u5728\u5355\u4e2aCPU\u6838\u5fc3\u4e0a\u83b7\u5f97\u6700\u4f73\u6027\u80fd\u3002 \u7136\u540e\uff0c\u60a8\u53ef\u4ee5\u6839\u636e\u9700\u8981\u5e76\u884c\u5316\u4ee3\u7801\u3002")),(0,l.kt)("p",null,"\u5728\u670d\u52a1\u7aef\u5e94\u7528\u4e2d\uff1a"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"\u4f7f\u7528\u7ebf\u7a0b\u6c60\u6765\u5904\u7406\u8bf7\u6c42\u3002 \u6b64\u65f6\uff0c\u6211\u4eec\u8fd8\u6ca1\u6709\u4efb\u4f55\u9700\u8981\u7528\u6237\u7a7a\u95f4\u4e0a\u4e0b\u6587\u5207\u6362\u7684\u4efb\u52a1\u3002")),(0,l.kt)("p",null,"Fork\u4e0d\u7528\u4e8e\u5e76\u884c\u5316\u3002"),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"8.")," \u540c\u6b65\u7ebf\u7a0b\u3002"),(0,l.kt)("p",null,"\u901a\u5e38\u53ef\u4ee5\u4f7f\u4e0d\u540c\u7684\u7ebf\u7a0b\u4f7f\u7528\u4e0d\u540c\u7684\u5b58\u50a8\u5355\u5143\uff08\u751a\u81f3\u66f4\u597d\uff1a\u4e0d\u540c\u7684\u7f13\u5b58\u7ebf\uff09\uff0c\u5e76\u4e14\u4e0d\u4f7f\u7528\u4efb\u4f55\u7ebf\u7a0b\u540c\u6b65\uff08\u9664\u4e86",(0,l.kt)("inlineCode",{parentName:"p"},"joinAll"),"\uff09\u3002"),(0,l.kt)("p",null,"\u5982\u679c\u9700\u8981\u540c\u6b65\uff0c\u5728\u5927\u591a\u6570\u60c5\u51b5\u4e0b\uff0c\u5728 ",(0,l.kt)("inlineCode",{parentName:"p"},"lock_guard")," \u4e0b\u4f7f\u7528\u4e92\u65a5\u91cf\u5c31\u8db3\u591f\u4e86\u3002"),(0,l.kt)("p",null,"\u5728\u5176\u4ed6\u60c5\u51b5\u4e0b\uff0c\u4f7f\u7528\u7cfb\u7edf\u540c\u6b65\u539f\u8bed\u3002\u4e0d\u8981\u4f7f\u7528\u5fd9\u7b49\u5f85\u3002"),(0,l.kt)("p",null,"\u4ec5\u5728\u6700\u7b80\u5355\u7684\u60c5\u51b5\u4e0b\u624d\u5e94\u4f7f\u7528\u539f\u5b50\u64cd\u4f5c\u3002"),(0,l.kt)("p",null,"\u9664\u975e\u662f\u60a8\u7684\u4e3b\u8981\u4e13\u4e1a\u9886\u57df\uff0c\u5426\u5219\u4e0d\u8981\u5c1d\u8bd5\u5b9e\u65bd\u65e0\u9501\u6570\u636e\u7ed3\u6784\u3002"),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"9.")," \u6307\u9488\u548c\u5f15\u7528\u3002"),(0,l.kt)("p",null,"\u5927\u90e8\u5206\u60c5\u51b5\u4e0b\uff0c\u8bf7\u7528\u5f15\u7528\u3002"),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"10.")," \u5e38\u91cf\u3002"),(0,l.kt)("p",null,"\u4f7f\u7528 const \u5f15\u7528\u3001\u6307\u9488\uff0c\u6307\u5411\u5e38\u91cf\u3001",(0,l.kt)("inlineCode",{parentName:"p"},"const_iterator"),"\u548c const \u65b9\u6cd5\u3002"),(0,l.kt)("p",null,"\u5c06 ",(0,l.kt)("inlineCode",{parentName:"p"},"const")," \u89c6\u4e3a\u9ed8\u8ba4\u503c\uff0c\u4ec5\u5728\u5fc5\u8981\u65f6\u4f7f\u7528\u975e ",(0,l.kt)("inlineCode",{parentName:"p"},"const"),"\u3002"),(0,l.kt)("p",null,"\u5f53\u6309\u503c\u4f20\u9012\u53d8\u91cf\u65f6\uff0c\u4f7f\u7528 ",(0,l.kt)("inlineCode",{parentName:"p"},"const")," \u901a\u5e38\u6ca1\u6709\u610f\u4e49\u3002"),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"11.")," \u65e0\u7b26\u53f7\u3002"),(0,l.kt)("p",null,"\u5fc5\u8981\u65f6\u4f7f\u7528",(0,l.kt)("inlineCode",{parentName:"p"},"unsigned"),"\u3002"),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"12.")," \u6570\u503c\u7c7b\u578b\u3002"),(0,l.kt)("p",null,"\u4f7f\u7528 ",(0,l.kt)("inlineCode",{parentName:"p"},"UInt8"),"\uff0c ",(0,l.kt)("inlineCode",{parentName:"p"},"UInt16"),"\uff0c ",(0,l.kt)("inlineCode",{parentName:"p"},"UInt32"),"\uff0c ",(0,l.kt)("inlineCode",{parentName:"p"},"UInt64"),"\uff0c ",(0,l.kt)("inlineCode",{parentName:"p"},"Int8"),"\uff0c ",(0,l.kt)("inlineCode",{parentName:"p"},"Int16"),"\uff0c ",(0,l.kt)("inlineCode",{parentName:"p"},"Int32")," \u548c ",(0,l.kt)("inlineCode",{parentName:"p"},"Int64"),"\uff0c\u540c\u6837\u8fd8\u6709 ",(0,l.kt)("inlineCode",{parentName:"p"},"size_t"),"\uff0c ",(0,l.kt)("inlineCode",{parentName:"p"},"ssize_t")," \u548c ",(0,l.kt)("inlineCode",{parentName:"p"},"ptrdiff_t"),"\u3002"),(0,l.kt)("p",null,"\u4e0d\u8981\u4f7f\u7528\u8fd9\u4e9b\u7c7b\u578b\uff1a",(0,l.kt)("inlineCode",{parentName:"p"},"signed / unsigned long"),"\uff0c",(0,l.kt)("inlineCode",{parentName:"p"},"long long"),"\uff0c",(0,l.kt)("inlineCode",{parentName:"p"},"short"),"\uff0c",(0,l.kt)("inlineCode",{parentName:"p"},"signed / unsigned char"),"\uff0c",(0,l.kt)("inlineCode",{parentName:"p"},"char"),"\u3002"),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"13.")," \u53c2\u6570\u4f20\u9012\u3002"),(0,l.kt)("p",null,"\u901a\u8fc7\u5f15\u7528\u4f20\u9012\u590d\u6742\u7c7b\u578b \uff08\u5305\u62ec ",(0,l.kt)("inlineCode",{parentName:"p"},"std::string"),"\uff09\u3002"),(0,l.kt)("p",null,"\u5982\u679c\u51fd\u6570\u4e2d\u4f20\u9012\u5806\u4e2d\u521b\u5efa\u7684\u5bf9\u8c61\uff0c\u5219\u4f7f\u53c2\u6570\u7c7b\u578b\u4e3a ",(0,l.kt)("inlineCode",{parentName:"p"},"shared_ptr")," \u6216\u8005 ",(0,l.kt)("inlineCode",{parentName:"p"},"unique_ptr"),"."),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"14.")," \u8fd4\u56de\u503c"),(0,l.kt)("p",null,"\u5927\u90e8\u5206\u60c5\u51b5\u4e0b\u4f7f\u7528 ",(0,l.kt)("inlineCode",{parentName:"p"},"return"),"\u3002\u4e0d\u8981\u4f7f\u7528 ",(0,l.kt)("inlineCode",{parentName:"p"},"return std::move(res)"),"\u3002"),(0,l.kt)("p",null,"\u5982\u679c\u51fd\u6570\u5728\u5806\u4e0a\u5206\u914d\u5bf9\u8c61\u5e76\u8fd4\u56de\u5b83\uff0c\u8bf7\u4f7f\u7528 ",(0,l.kt)("inlineCode",{parentName:"p"},"shared_ptr")," \u6216 ",(0,l.kt)("inlineCode",{parentName:"p"},"unique_ptr"),"\u3002"),(0,l.kt)("p",null,"\u5728\u6781\u5c11\u6570\u60c5\u51b5\u4e0b\uff0c\u60a8\u53ef\u80fd\u9700\u8981\u901a\u8fc7\u53c2\u6570\u8fd4\u56de\u503c\u3002 \u5728\u8fd9\u79cd\u60c5\u51b5\u4e0b\uff0c\u53c2\u6570\u5e94\u8be5\u662f\u5f15\u7528\u4f20\u9012\u7684\u3002"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-cpp"},"using AggregateFunctionPtr = std::shared_ptr<IAggregateFunction>;\n\n/** Allows creating an aggregate function by its name.\n  */\nclass AggregateFunctionFactory\n{\npublic:\n    AggregateFunctionFactory();\n    AggregateFunctionPtr get(const String & name, const DataTypes & argument_types) const;\n")),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"15.")," \u547d\u540d\u7a7a\u95f4\u3002"),(0,l.kt)("p",null,"\u6ca1\u6709\u5fc5\u8981\u4e3a\u5e94\u7528\u7a0b\u5e8f\u4ee3\u7801\u4f7f\u7528\u5355\u72ec\u7684 ",(0,l.kt)("inlineCode",{parentName:"p"},"namespace")," \u3002"),(0,l.kt)("p",null,"\u5c0f\u578b\u5e93\u4e5f\u4e0d\u9700\u8981\u8fd9\u4e2a\u3002"),(0,l.kt)("p",null,"\u5bf9\u4e8e\u4e2d\u5927\u578b\u5e93\uff0c\u987b\u5c06\u6240\u6709\u4ee3\u7801\u653e\u5728 ",(0,l.kt)("inlineCode",{parentName:"p"},"namespace")," \u4e2d\u3002"),(0,l.kt)("p",null,"\u5728\u5e93\u7684 ",(0,l.kt)("inlineCode",{parentName:"p"},".h")," \u6587\u4ef6\u4e2d\uff0c\u60a8\u53ef\u4ee5\u4f7f\u7528 ",(0,l.kt)("inlineCode",{parentName:"p"},"namespace detail")," \u6765\u9690\u85cf\u5e94\u7528\u7a0b\u5e8f\u4ee3\u7801\u4e0d\u9700\u8981\u7684\u5b9e\u73b0\u7ec6\u8282\u3002"),(0,l.kt)("p",null,"\u5728 ",(0,l.kt)("inlineCode",{parentName:"p"},".cpp")," \u6587\u4ef6\u4e2d\uff0c\u60a8\u53ef\u4ee5\u4f7f\u7528 ",(0,l.kt)("inlineCode",{parentName:"p"},"static")," \u6216\u533f\u540d\u547d\u540d\u7a7a\u95f4\u6765\u9690\u85cf\u7b26\u53f7\u3002"),(0,l.kt)("p",null,"\u540c\u6837 ",(0,l.kt)("inlineCode",{parentName:"p"},"namespace")," \u53ef\u7528\u4e8e ",(0,l.kt)("inlineCode",{parentName:"p"},"enum")," \u4ee5\u9632\u6b62\u76f8\u5e94\u7684\u540d\u79f0\u843d\u5165\u5916\u90e8 ",(0,l.kt)("inlineCode",{parentName:"p"},"namespace"),"\uff08\u4f46\u6700\u597d\u4f7f\u7528",(0,l.kt)("inlineCode",{parentName:"p"},"enum class"),"\uff09\u3002"),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"16.")," \u5ef6\u8fdf\u521d\u59cb\u5316\u3002"),(0,l.kt)("p",null,"\u5982\u679c\u521d\u59cb\u5316\u9700\u8981\u53c2\u6570\uff0c\u90a3\u4e48\u901a\u5e38\u4e0d\u5e94\u8be5\u7f16\u5199\u9ed8\u8ba4\u6784\u9020\u51fd\u6570\u3002"),(0,l.kt)("p",null,"\u5982\u679c\u7a0d\u540e\u60a8\u9700\u8981\u5ef6\u8fdf\u521d\u59cb\u5316\uff0c\u5219\u53ef\u4ee5\u6dfb\u52a0\u5c06\u521b\u5efa\u65e0\u6548\u5bf9\u8c61\u7684\u9ed8\u8ba4\u6784\u9020\u51fd\u6570\u3002 \u6216\u8005\uff0c\u5bf9\u4e8e\u5c11\u91cf\u5bf9\u8c61\uff0c\u60a8\u53ef\u4ee5\u4f7f\u7528 ",(0,l.kt)("inlineCode",{parentName:"p"},"shared_ptr / unique_ptr"),"\u3002"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-cpp"},"Loader(DB::Connection * connection_, const std::string & query, size_t max_block_size_);\n\n/// For deferred initialization\nLoader() {}\n")),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"17.")," \u865a\u51fd\u6570\u3002"),(0,l.kt)("p",null,"\u5982\u679c\u8be5\u7c7b\u4e0d\u662f\u7528\u4e8e\u591a\u6001\u4f7f\u7528\uff0c\u5219\u4e0d\u9700\u8981\u5c06\u51fd\u6570\u8bbe\u7f6e\u4e3a\u865a\u62df\u3002\u8fd9\u4e5f\u9002\u7528\u4e8e\u6790\u6784\u51fd\u6570\u3002"),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"18.")," \u7f16\u7801\u3002"),(0,l.kt)("p",null,"\u5728\u6240\u6709\u60c5\u51b5\u4e0b\u4f7f\u7528 UTF-8 \u7f16\u7801\u3002\u4f7f\u7528 ",(0,l.kt)("inlineCode",{parentName:"p"},"std::string")," \u548c ",(0,l.kt)("inlineCode",{parentName:"p"},"char *"),"\u3002\u4e0d\u8981\u4f7f\u7528 ",(0,l.kt)("inlineCode",{parentName:"p"},"std::wstring")," \u548c ",(0,l.kt)("inlineCode",{parentName:"p"},"wchar_t"),"\u3002"),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"19.")," \u65e5\u5fd7\u3002"),(0,l.kt)("p",null,"\u8bf7\u53c2\u9605\u4ee3\u7801\u4e2d\u7684\u793a\u4f8b\u3002"),(0,l.kt)("p",null,"\u5728\u63d0\u4ea4\u4e4b\u524d\uff0c\u5220\u9664\u6240\u6709\u65e0\u610f\u4e49\u548c\u8c03\u8bd5\u65e5\u5fd7\u8bb0\u5f55\uff0c\u4ee5\u53ca\u4efb\u4f55\u5176\u4ed6\u7c7b\u578b\u7684\u8c03\u8bd5\u8f93\u51fa\u3002"),(0,l.kt)("p",null,"\u5e94\u8be5\u907f\u514d\u5faa\u73af\u8bb0\u5f55\u65e5\u5fd7\uff0c\u5373\u4f7f\u5728 Trace \u7ea7\u522b\u4e5f\u662f\u5982\u6b64\u3002"),(0,l.kt)("p",null,"\u65e5\u5fd7\u5fc5\u987b\u5728\u4efb\u4f55\u65e5\u5fd7\u8bb0\u5f55\u7ea7\u522b\u90fd\u53ef\u8bfb\u3002"),(0,l.kt)("p",null,"\u5728\u5927\u591a\u6570\u60c5\u51b5\u4e0b\uff0c\u53ea\u5e94\u5728\u5e94\u7528\u7a0b\u5e8f\u4ee3\u7801\u4e2d\u4f7f\u7528\u65e5\u5fd7\u8bb0\u5f55\u3002"),(0,l.kt)("p",null,"\u65e5\u5fd7\u6d88\u606f\u5fc5\u987b\u7528\u82f1\u6587\u5199\u6210\u3002"),(0,l.kt)("p",null,"\u5bf9\u4e8e\u7cfb\u7edf\u7ba1\u7406\u5458\u6765\u8bf4\uff0c\u65e5\u5fd7\u6700\u597d\u662f\u53ef\u4ee5\u7406\u89e3\u7684\u3002"),(0,l.kt)("p",null,"\u4e0d\u8981\u5728\u65e5\u5fd7\u4e2d\u4f7f\u7528\u4eb5\u6e0e\u8bed\u8a00\u3002"),(0,l.kt)("p",null,"\u5728\u65e5\u5fd7\u4e2d\u4f7f\u7528UTF-8\u7f16\u7801\u3002 \u5728\u6781\u5c11\u6570\u60c5\u51b5\u4e0b\uff0c\u60a8\u53ef\u4ee5\u5728\u65e5\u5fd7\u4e2d\u4f7f\u7528\u975eASCII\u5b57\u7b26\u3002"),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"20.")," \u8f93\u5165-\u8f93\u51fa\u3002"),(0,l.kt)("p",null,"\u4e0d\u8981\u4f7f\u7528 ",(0,l.kt)("inlineCode",{parentName:"p"},"iostreams")," \u5728\u5bf9\u5e94\u7528\u7a0b\u5e8f\u6027\u80fd\u81f3\u5173\u91cd\u8981\u7684\u5185\u90e8\u5faa\u73af\u4e2d\uff08\u5e76\u4e14\u6c38\u8fdc\u4e0d\u8981\u4f7f\u7528 ",(0,l.kt)("inlineCode",{parentName:"p"},"stringstream")," \uff09\u3002"),(0,l.kt)("p",null,"\u4f7f\u7528 ",(0,l.kt)("inlineCode",{parentName:"p"},"DB/IO")," \u5e93\u66ff\u4ee3\u3002"),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"21.")," \u65e5\u671f\u548c\u65f6\u95f4\u3002"),(0,l.kt)("p",null,"\u53c2\u8003 ",(0,l.kt)("inlineCode",{parentName:"p"},"DateLUT")," \u5e93\u3002"),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"22.")," \u5f15\u5165\u5934\u6587\u4ef6\u3002"),(0,l.kt)("p",null,"\u4e00\u76f4\u7528 ",(0,l.kt)("inlineCode",{parentName:"p"},"#pragma once")," \u800c\u4e0d\u662f\u5176\u4ed6\u5b8f\u3002"),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"23.")," using \u8bed\u6cd5"),(0,l.kt)("p",null,(0,l.kt)("inlineCode",{parentName:"p"},"using namespace")," \u4e0d\u4f1a\u88ab\u4f7f\u7528\u3002 \u60a8\u53ef\u4ee5\u4f7f\u7528\u7279\u5b9a\u7684 ",(0,l.kt)("inlineCode",{parentName:"p"},"using"),"\u3002 \u4f46\u662f\u5728\u7c7b\u6216\u51fd\u6570\u4e2d\u4f7f\u5b83\u6210\u4e3a\u5c40\u90e8\u7684\u3002"),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"24.")," \u4e0d\u8981\u4f7f\u7528 ",(0,l.kt)("inlineCode",{parentName:"p"},"trailing return type")," \u4e3a\u5fc5\u8981\u7684\u529f\u80fd\u3002"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-cpp"},"auto f() -> void\n")),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"25.")," \u58f0\u660e\u548c\u521d\u59cb\u5316\u53d8\u91cf\u3002"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-cpp"},'//right way\nstd::string s = "Hello";\nstd::string s{"Hello"};\n\n//wrong way\nauto s = std::string{"Hello"};\n')),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"26.")," \u5bf9\u4e8e\u865a\u51fd\u6570\uff0c\u5728\u57fa\u7c7b\u4e2d\u7f16\u5199 ",(0,l.kt)("inlineCode",{parentName:"p"},"virtual"),"\uff0c\u4f46\u5728\u540e\u4ee3\u7c7b\u4e2d\u5199 ",(0,l.kt)("inlineCode",{parentName:"p"},"override")," \u800c\u4e0d\u662f",(0,l.kt)("inlineCode",{parentName:"p"},"virtual"),"\u3002"),(0,l.kt)("h2",{id:"mei-you-yong-dao-de-c-te-xing"},"\u6ca1\u6709\u7528\u5230\u7684 C++ \u7279\u6027\u3002"),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"1.")," \u4e0d\u4f7f\u7528\u865a\u62df\u7ee7\u627f\u3002"),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"2.")," \u4e0d\u4f7f\u7528 C++03 \u4e2d\u7684\u5f02\u5e38\u6807\u51c6\u3002"),(0,l.kt)("h2",{id:"ping-tai"},"\u5e73\u53f0"),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"1.")," \u6211\u4eec\u4e3a\u7279\u5b9a\u5e73\u53f0\u7f16\u5199\u4ee3\u7801\u3002"),(0,l.kt)("p",null,"\u4f46\u5728\u5176\u4ed6\u6761\u4ef6\u76f8\u540c\u7684\u60c5\u51b5\u4e0b\uff0c\u9996\u9009\u8de8\u5e73\u53f0\u6216\u53ef\u79fb\u690d\u4ee3\u7801\u3002"),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"2.")," \u8bed\u8a00\uff1a C++20."),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"3.")," \u7f16\u8bd1\u5668\uff1a ",(0,l.kt)("inlineCode",{parentName:"p"},"clang"),"\u3002 \u6b64\u65f6\uff082021\u5e7403\u6708\uff09\uff0c\u4ee3\u7801\u4f7f\u752811\u7248\u7f16\u8bd1\u3002\uff08\u5b83\u4e5f\u53ef\u4ee5\u4f7f\u7528",(0,l.kt)("inlineCode",{parentName:"p"},"gcc")," \u7f16\u8bd1 but it is not suitable for production\uff09"),(0,l.kt)("p",null,"\u4f7f\u7528\u6807\u51c6\u5e93 (",(0,l.kt)("inlineCode",{parentName:"p"},"libc++"),")\u3002"),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"4.")," \u64cd\u4f5c\u7cfb\u7edf\uff1aLinux Ubuntu\uff0c\u4e0d\u6bd4 Precise \u65e9\u3002"),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"5.")," \u4ee3\u7801\u662f\u4e3ax86_64 CPU\u67b6\u6784\u7f16\u5199\u7684\u3002"),(0,l.kt)("p",null,"CPU\u6307\u4ee4\u96c6\u662f\u6211\u4eec\u670d\u52a1\u5668\u4e2d\u652f\u6301\u7684\u6700\u5c0f\u96c6\u5408\u3002 \u76ee\u524d\uff0c\u5b83\u662fSSE 4.2\u3002"),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"6.")," \u4f7f\u7528 ",(0,l.kt)("inlineCode",{parentName:"p"},"-Wall -Wextra -Werror")," \u7f16\u8bd1\u53c2\u6570\u3002"),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"7.")," \u5bf9\u6240\u6709\u5e93\u4f7f\u7528\u9759\u6001\u94fe\u63a5\uff0c\u9664\u4e86\u90a3\u4e9b\u96be\u4ee5\u9759\u6001\u8fde\u63a5\u7684\u5e93\uff08\u53c2\u89c1 ",(0,l.kt)("inlineCode",{parentName:"p"},"ldd")," \u547d\u4ee4\u7684\u8f93\u51fa\uff09."),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"8.")," \u4f7f\u7528\u53d1\u5e03\u7684\u8bbe\u7f6e\u6765\u5f00\u53d1\u548c\u8c03\u8bd5\u4ee3\u7801\u3002"),(0,l.kt)("h2",{id:"gong-ju"},"\u5de5\u5177"),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"1.")," KDevelop \u662f\u4e00\u4e2a\u597d\u7684 IDE."),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"2.")," \u8c03\u8bd5\u53ef\u4ee5\u4f7f\u7528 ",(0,l.kt)("inlineCode",{parentName:"p"},"gdb"),"\uff0c ",(0,l.kt)("inlineCode",{parentName:"p"},"valgrind")," (",(0,l.kt)("inlineCode",{parentName:"p"},"memcheck"),")\uff0c ",(0,l.kt)("inlineCode",{parentName:"p"},"strace"),"\uff0c ",(0,l.kt)("inlineCode",{parentName:"p"},"-fsanitize=..."),"\uff0c \u6216 ",(0,l.kt)("inlineCode",{parentName:"p"},"tcmalloc_minimal_debug"),"."),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"3.")," \u5bf9\u4e8e\u6027\u80fd\u5206\u6790\uff0c\u4f7f\u7528 ",(0,l.kt)("inlineCode",{parentName:"p"},"Linux Perf"),"\uff0c ",(0,l.kt)("inlineCode",{parentName:"p"},"valgrind")," (",(0,l.kt)("inlineCode",{parentName:"p"},"callgrind"),")\uff0c\u6216\u8005 ",(0,l.kt)("inlineCode",{parentName:"p"},"strace -cf"),"\u3002"),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"4.")," \u6e90\u4ee3\u7801\u7528 Git \u4f5c\u7248\u672c\u63a7\u5236\u3002"),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"5.")," \u4f7f\u7528 ",(0,l.kt)("inlineCode",{parentName:"p"},"CMake")," \u6784\u5efa\u3002"),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"6.")," \u7a0b\u5e8f\u7684\u53d1\u5e03\u4f7f\u7528 ",(0,l.kt)("inlineCode",{parentName:"p"},"deb")," \u5b89\u88c5\u5305\u3002"),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"7.")," \u63d0\u4ea4\u5230 master \u5206\u652f\u7684\u4ee3\u7801\u4e0d\u80fd\u7834\u574f\u7f16\u8bd1\u3002"),(0,l.kt)("p",null,"\u867d\u7136\u53ea\u6709\u9009\u5b9a\u7684\u4fee\u8ba2\u88ab\u8ba4\u4e3a\u662f\u53ef\u884c\u7684\u3002"),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"8.")," \u5c3d\u53ef\u80fd\u7ecf\u5e38\u5730\u8fdb\u884c\u63d0\u4ea4\uff0c\u5373\u4f7f\u4ee3\u7801\u53ea\u662f\u90e8\u5206\u51c6\u5907\u597d\u4e86\u3002"),(0,l.kt)("p",null,"\u4e3a\u4e86\u8fd9\u79cd\u76ee\u7684\u53ef\u4ee5\u521b\u5efa\u5206\u652f\u3002"),(0,l.kt)("p",null,"\u5982\u679c\u60a8\u7684\u4ee3\u7801\u5728 ",(0,l.kt)("inlineCode",{parentName:"p"},"master")," \u5206\u652f\u4e2d\u5c1a\u4e0d\u53ef\u6784\u5efa\uff0c\u5728 ",(0,l.kt)("inlineCode",{parentName:"p"},"push")," \u4e4b\u524d\u9700\u8981\u5c06\u5176\u4ece\u6784\u5efa\u4e2d\u6392\u9664\u3002\u60a8\u9700\u8981\u5728\u51e0\u5929\u5185\u5b8c\u6210\u6216\u5220\u9664\u5b83\u3002"),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"9.")," \u5bf9\u4e8e\u975e\u4e00\u822c\u7684\u66f4\u6539\uff0c\u8bf7\u4f7f\u7528\u5206\u652f\u5e76\u5728\u670d\u52a1\u5668\u4e0a\u53d1\u5e03\u5b83\u4eec\u3002"),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"10.")," \u672a\u4f7f\u7528\u7684\u4ee3\u7801\u5c06\u4ece repo \u4e2d\u5220\u9664\u3002"),(0,l.kt)("h2",{id:"ku"},"\u5e93"),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"1.")," The C++20 standard library is used (experimental extensions are allowed), as well as ",(0,l.kt)("inlineCode",{parentName:"p"},"boost")," and ",(0,l.kt)("inlineCode",{parentName:"p"},"Poco")," frameworks."),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"2.")," It is not allowed to use libraries from OS packages. It is also not allowed to use pre-installed libraries. All libraries should be placed in form of source code in ",(0,l.kt)("inlineCode",{parentName:"p"},"contrib")," directory and built with ClickHouse."),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"3.")," Preference is always given to libraries that are already in use."),(0,l.kt)("h2",{id:"yi-ban-jian-yi-1"},"\u4e00\u822c\u5efa\u8bae"),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"1.")," \u5c3d\u53ef\u80fd\u7cbe\u7b80\u4ee3\u7801\u3002"),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"2.")," \u5c1d\u8bd5\u7528\u6700\u7b80\u5355\u7684\u65b9\u5f0f\u5b9e\u73b0\u3002"),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"3.")," \u5728\u4f60\u77e5\u9053\u4ee3\u7801\u662f\u5982\u4f55\u5de5\u4f5c\u4ee5\u53ca\u5185\u90e8\u5faa\u73af\u5982\u4f55\u8fd0\u4f5c\u4e4b\u524d\uff0c\u4e0d\u8981\u7f16\u5199\u4ee3\u7801\u3002"),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"4.")," \u5728\u6700\u7b80\u5355\u7684\u60c5\u51b5\u4e0b\uff0c\u4f7f\u7528 ",(0,l.kt)("inlineCode",{parentName:"p"},"using")," \u800c\u4e0d\u662f\u7c7b\u6216\u7ed3\u6784\u3002"),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"5.")," \u5982\u679c\u53ef\u80fd\uff0c\u4e0d\u8981\u7f16\u5199\u590d\u5236\u6784\u9020\u51fd\u6570\uff0c\u8d4b\u503c\u8fd0\u7b97\u7b26\uff0c\u6790\u6784\u51fd\u6570\uff08\u865a\u62df\u51fd\u6570\u9664\u5916\uff0c\u5982\u679c\u7c7b\u5305\u542b\u81f3\u5c11\u4e00\u4e2a\u865a\u51fd\u6570\uff09\uff0c\u79fb\u52a8\u6784\u9020\u51fd\u6570\u6216\u79fb\u52a8\u8d4b\u503c\u8fd0\u7b97\u7b26\u3002 \u6362\u53e5\u8bdd\u8bf4\uff0c\u7f16\u8bd1\u5668\u751f\u6210\u7684\u51fd\u6570\u5fc5\u987b\u6b63\u5e38\u5de5\u4f5c\u3002 \u60a8\u53ef\u4ee5\u4f7f\u7528 ",(0,l.kt)("inlineCode",{parentName:"p"},"default"),"\u3002"),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"6.")," \u9f13\u52b1\u7b80\u5316\u4ee3\u7801\u3002 \u5c3d\u53ef\u80fd\u51cf\u5c0f\u4ee3\u7801\u7684\u5927\u5c0f\u3002"),(0,l.kt)("h2",{id:"qi-ta-jian-yi"},"\u5176\u4ed6\u5efa\u8bae"),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"1.")," \u4ece ",(0,l.kt)("inlineCode",{parentName:"p"},"stddef.h")," \u660e\u786e\u6307\u5b9a ",(0,l.kt)("inlineCode",{parentName:"p"},"std ::")," \u7684\u7c7b\u578b\u3002"),(0,l.kt)("p",null,"\u4e0d\u63a8\u8350\u3002 \u6362\u53e5\u8bdd\u8bf4\uff0c\u6211\u4eec\u5efa\u8bae\u5199 ",(0,l.kt)("inlineCode",{parentName:"p"},"size_t")," \u800c\u4e0d\u662f ",(0,l.kt)("inlineCode",{parentName:"p"},"std::size_t"),"\uff0c\u56e0\u4e3a\u5b83\u66f4\u77ed\u3002"),(0,l.kt)("p",null,"\u4e5f\u63a5\u53d7\u6dfb\u52a0 ",(0,l.kt)("inlineCode",{parentName:"p"},"std::"),"\u3002"),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"2.")," \u4e3a\u6807\u51c6C\u5e93\u4e2d\u7684\u51fd\u6570\u660e\u786e\u6307\u5b9a ",(0,l.kt)("inlineCode",{parentName:"p"},"std::")),(0,l.kt)("p",null,"\u4e0d\u63a8\u8350\u3002\u6362\u53e5\u8bdd\u8bf4\uff0c\u5199 ",(0,l.kt)("inlineCode",{parentName:"p"},"memcpy")," \u800c\u4e0d\u662f",(0,l.kt)("inlineCode",{parentName:"p"},"std::memcpy"),"\u3002"),(0,l.kt)("p",null,"\u539f\u56e0\u662f\u6709\u7c7b\u4f3c\u7684\u975e\u6807\u51c6\u529f\u80fd\uff0c\u4f8b\u5982 ",(0,l.kt)("inlineCode",{parentName:"p"},"memmem"),"\u3002\u6211\u4eec\u5076\u5c14\u4f1a\u4f7f\u7528\u8fd9\u4e9b\u529f\u80fd\u3002",(0,l.kt)("inlineCode",{parentName:"p"},"namespace std"),"\u4e2d\u4e0d\u5b58\u5728\u8fd9\u4e9b\u51fd\u6570\u3002"),(0,l.kt)("p",null,"\u5982\u679c\u4f60\u5230\u5904\u90fd\u5199 ",(0,l.kt)("inlineCode",{parentName:"p"},"std::memcpy")," \u800c\u4e0d\u662f ",(0,l.kt)("inlineCode",{parentName:"p"},"memcpy"),"\uff0c\u90a3\u4e48\u6ca1\u6709 ",(0,l.kt)("inlineCode",{parentName:"p"},"std::")," \u7684 ",(0,l.kt)("inlineCode",{parentName:"p"},"memmem")," \u4f1a\u663e\u5f97\u5f88\u5947\u602a\u3002"),(0,l.kt)("p",null,"\u4e0d\u8fc7\uff0c\u5982\u679c\u60a8\u613f\u610f\uff0c\u4ecd\u7136\u53ef\u4ee5\u4f7f\u7528 ",(0,l.kt)("inlineCode",{parentName:"p"},"std::"),"\u3002"),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"3.")," \u5f53\u6807\u51c6C++\u5e93\u4e2d\u63d0\u4f9b\u76f8\u540c\u7684\u51fd\u6570\u65f6\uff0c\u4f7f\u7528C\u4e2d\u7684\u51fd\u6570\u3002"),(0,l.kt)("p",null,"\u5982\u679c\u5b83\u66f4\u9ad8\u6548\uff0c\u8fd9\u662f\u53ef\u4ee5\u63a5\u53d7\u7684\u3002"),(0,l.kt)("p",null,"\u4f8b\u5982\uff0c\u4f7f\u7528",(0,l.kt)("inlineCode",{parentName:"p"},"memcpy"),"\u800c\u4e0d\u662f",(0,l.kt)("inlineCode",{parentName:"p"},"std::copy"),"\u6765\u590d\u5236\u5927\u5757\u5185\u5b58\u3002"),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"4.")," \u51fd\u6570\u7684\u591a\u884c\u53c2\u6570\u3002"),(0,l.kt)("p",null,"\u5141\u8bb8\u4ee5\u4e0b\u4efb\u4f55\u5305\u88c5\u6837\u5f0f\uff1a"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-cpp"},"function(\n  T1 x1,\n  T2 x2)\n")),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-cpp"},"function(\n  size_t left, size_t right,\n  const & RangesInDataParts ranges,\n  size_t limit)\n")),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-cpp"},"function(size_t left, size_t right,\n  const & RangesInDataParts ranges,\n  size_t limit)\n")),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-cpp"},"function(size_t left, size_t right,\n      const & RangesInDataParts ranges,\n      size_t limit)\n")),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-cpp"},"function(\n      size_t left,\n      size_t right,\n      const & RangesInDataParts ranges,\n      size_t limit)\n")),(0,l.kt)("p",null,(0,l.kt)("a",{parentName:"p",href:"https://clickhouse.com/docs/en/development/style/"},"\u6765\u6e90\u6587\u7ae0")," "))}c.isMDXComponent=!0}}]);