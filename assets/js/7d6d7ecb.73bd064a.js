"use strict";(self.webpackChunkclickhouse=self.webpackChunkclickhouse||[]).push([[19397],{3905:function(e,t,a){a.d(t,{Zo:function(){return d},kt:function(){return N}});var n=a(67294);function r(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function l(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function p(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?l(Object(a),!0).forEach((function(t){r(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):l(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function i(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},l=Object.keys(e);for(n=0;n<l.length;n++)a=l[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(n=0;n<l.length;n++)a=l[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}var o=n.createContext({}),m=function(e){var t=n.useContext(o),a=t;return e&&(a="function"==typeof e?e(t):p(p({},t),e)),a},d=function(e){var t=m(e.components);return n.createElement(o.Provider,{value:t},e.children)},s={inlineCode:"code",wrapper:function(e){var t=e.children;return n.createElement(n.Fragment,{},t)}},k=n.forwardRef((function(e,t){var a=e.components,r=e.mdxType,l=e.originalType,o=e.parentName,d=i(e,["components","mdxType","originalType","parentName"]),k=m(a),N=r,u=k["".concat(o,".").concat(N)]||k[N]||s[N]||l;return a?n.createElement(u,p(p({ref:t},d),{},{components:a})):n.createElement(u,p({ref:t},d))}));function N(e,t){var a=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var l=a.length,p=new Array(l);p[0]=k;var i={};for(var o in t)hasOwnProperty.call(t,o)&&(i[o]=t[o]);i.originalType=e,i.mdxType="string"==typeof e?e:r,p[1]=i;for(var m=2;m<l;m++)p[m]=a[m];return n.createElement.apply(null,p)}return n.createElement.apply(null,a)}k.displayName="MDXCreateElement"},58843:function(e,t,a){a.r(t),a.d(t,{assets:function(){return d},contentTitle:function(){return o},default:function(){return N},frontMatter:function(){return i},metadata:function(){return m},toc:function(){return s}});var n=a(87462),r=a(63366),l=(a(67294),a(3905)),p=["components"],i={sidebar_position:21,sidebar_label:"\u8f93\u5165/\u8f93\u51fa\u683c\u5f0f"},o="\u8f93\u5165/\u8f93\u51fa\u683c\u5f0f",m={unversionedId:"zh/interfaces/formats",id:"zh/interfaces/formats",title:"\u8f93\u5165/\u8f93\u51fa\u683c\u5f0f",description:"formats}",source:"@site/docs/zh/interfaces/formats.md",sourceDirName:"zh/interfaces",slug:"/zh/interfaces/formats",permalink:"/zh/interfaces/formats",editUrl:"https://github.com/ClickHouse/ClickHouse/tree/docs-staging/docs/zh/interfaces/formats.md",tags:[],version:"current",sidebarPosition:21,frontMatter:{sidebar_position:21,sidebar_label:"\u8f93\u5165/\u8f93\u51fa\u683c\u5f0f"},sidebar:"chinese",previous:{title:"MySQL\u63a5\u53e3",permalink:"/zh/interfaces/mysql"},next:{title:"JDBC\u9a71\u52a8",permalink:"/zh/interfaces/jdbc"}},d={},s=[{value:"TabSeparated",id:"tabseparated",level:2},{value:"\u6570\u636e\u683c\u5f0f\u5316",id:"data-formatting",level:3},{value:"TabSeparatedRaw",id:"tabseparatedraw",level:2},{value:"TabSeparatedWithNames",id:"tabseparatedwithnames",level:2},{value:"TabSeparatedWithNamesAndTypes",id:"tabseparatedwithnamesandtypes",level:2},{value:"Template",id:"format-template",level:2},{value:"TemplateIgnoreSpaces",id:"templateignorespaces",level:2},{value:"TSKV",id:"tskv",level:2},{value:"CSV",id:"csv",level:2},{value:"CSVWithNames",id:"csvwithnames",level:2},{value:"CustomSeparated",id:"format-customseparated",level:2},{value:"JSON",id:"json",level:2},{value:"JSONStrings",id:"jsonstrings",level:2},{value:"JSONAsString",id:"jsonasstring",level:2},{value:"JSONCompact",id:"jsoncompact",level:2},{value:"JSONCompactStrings",id:"jsoncompactstrings",level:2},{value:"JSONEachRow",id:"jsoneachrow",level:2},{value:"JSONStringsEachRow",id:"jsonstringseachrow",level:2},{value:"JSONCompactEachRow",id:"jsoncompacteachrow",level:2},{value:"JSONCompactStringsEachRow",id:"jsoncompactstringseachrow",level:2},{value:"JSONEachRowWithProgress",id:"jsoneachrowwithprogress",level:2},{value:"JSONStringsEachRowWithProgress",id:"jsonstringseachrowwithprogress",level:2},{value:"JSONCompactEachRowWithNamesAndTypes",id:"jsoncompacteachrowwithnamesandtypes",level:2},{value:"JSONCompactStringsEachRowWithNamesAndTypes",id:"jsoncompactstringseachrowwithnamesandtypes",level:2},{value:"Inserting Data",id:"inserting-data",level:3},{value:"Selecting Data",id:"selecting-data",level:3},{value:"Nested Structures",id:"jsoneachrow-nested",level:3},{value:"Native",id:"native",level:2},{value:"Null",id:"null",level:2},{value:"Pretty",id:"pretty",level:2},{value:"PrettyCompact",id:"prettycompact",level:2},{value:"PrettyCompactMonoBlock",id:"prettycompactmonoblock",level:2},{value:"PrettyNoEscapes",id:"prettynoescapes",level:2},{value:"PrettyCompactNoEscapes",id:"prettycompactnoescapes",level:3},{value:"PrettySpaceNoEscapes",id:"prettyspacenoescapes",level:3},{value:"PrettySpace",id:"prettyspace",level:2},{value:"RowBinary",id:"rowbinary",level:2},{value:"RowBinaryWithNamesAndTypes",id:"rowbinarywithnamesandtypes",level:2},{value:"Values",id:"data-format-values",level:2},{value:"Vertical",id:"vertical",level:2},{value:"XML",id:"xml",level:2},{value:"CapnProto",id:"capnproto",level:2},{value:"Protobuf",id:"protobuf",level:2},{value:"Avro",id:"data-format-avro",level:2},{value:"\u6570\u636e\u7c7b\u578b\u5339\u914d{#sql_reference/data_types-matching}",id:"data-types-matching-sql_referencedata_types-matching",level:3},{value:"\u63d2\u5165\u6570\u636e",id:"inserting-data",level:3},{value:"\u9009\u62e9\u6570\u636e",id:"selecting-data",level:3},{value:"AvroConfluent",id:"data-format-avro-confluent",level:2},{value:"\u6570\u636e\u7c7b\u578b\u5339\u914d{#sql_reference/data_types-matching-1}",id:"data-types-matching-sql_referencedata_types-matching-1",level:3},{value:"\u7528\u9014",id:"usage",level:3},{value:"Parquet",id:"data-format-parquet",level:2},{value:"\u6570\u636e\u7c7b\u578b\u5339\u914d{#sql_reference/data_types-matching-2}",id:"data-types-matching-sql_referencedata_types-matching-2",level:3},{value:"\u63d2\u5165\u548c\u9009\u62e9\u6570\u636e",id:"inserting-and-selecting-data",level:3},{value:"Arrow",id:"data-format-arrow",level:2},{value:"ArrowStream",id:"data-format-arrow",level:2},{value:"ORC",id:"data-format-orc",level:2},{value:"\u6570\u636e\u7c7b\u578b\u5339\u914d{#sql_reference/data_types-matching-3}",id:"data-types-matching-sql_referencedata_types-matching-3",level:3},{value:"\u63d2\u5165\u6570\u636e",id:"inserting-data-1",level:3},{value:"\u9009\u62e9\u6570\u636e",id:"selecting-data-1",level:3},{value:"LineAsString",id:"lineasstring",level:2},{value:"\u793a\u4f8b\uff1a",id:"\u793a\u4f8b",level:3},{value:"Regexp",id:"regexp",level:2},{value:"\u7528\u6cd5",id:"usage-1",level:3},{value:"\u793a\u4f8b",id:"example-1",level:3},{value:"RawBLOB",id:"rawblob",level:2},{value:"\u793a\u4f8b",id:"example-4",level:3},{value:"\u683c\u5f0f\u67b6\u6784",id:"formatschema",level:2},{value:"\u8df3\u8fc7\u9519\u8bef",id:"skippingerrors",level:2}],k={toc:s};function N(e){var t=e.components,a=(0,r.Z)(e,p);return(0,l.kt)("wrapper",(0,n.Z)({},k,a,{components:t,mdxType:"MDXLayout"}),(0,l.kt)("h1",{id:"formats"},"\u8f93\u5165/\u8f93\u51fa\u683c\u5f0f"),(0,l.kt)("p",null,"ClickHouse\u53ef\u4ee5\u63a5\u53d7\u548c\u8fd4\u56de\u5404\u79cd\u683c\u5f0f\u7684\u6570\u636e\u3002\u53d7\u652f\u6301\u7684\u8f93\u5165\u683c\u5f0f\u53ef\u7528\u4e8e\u63d0\u4ea4\u7ed9",(0,l.kt)("inlineCode",{parentName:"p"},"INSERT"),"\u8bed\u53e5\u3001\u4ece\u6587\u4ef6\u8868(File,URL,HDFS\u6216\u8005\u5916\u90e8\u76ee\u5f55)\u6267\u884c",(0,l.kt)("inlineCode",{parentName:"p"},"SELECT"),"\u8bed\u53e5\uff0c\u53d7\u652f\u6301\u7684\u8f93\u51fa\u683c\u5f0f\u53ef\u7528\u4e8e\u683c\u5f0f\u5316",(0,l.kt)("inlineCode",{parentName:"p"},"SELECT"),"\u8bed\u53e5\u7684\u8fd4\u56de\u7ed3\u679c\uff0c\u6216\u8005\u901a\u8fc7",(0,l.kt)("inlineCode",{parentName:"p"},"INSERT"),"\u5199\u5165\u5230\u6587\u4ef6\u8868\u3002"),(0,l.kt)("p",null,"\u4ee5\u4e0b\u662f\u652f\u6301\u7684\u683c\u5f0f:"),(0,l.kt)("table",null,(0,l.kt)("thead",{parentName:"table"},(0,l.kt)("tr",{parentName:"thead"},(0,l.kt)("th",{parentName:"tr",align:null},"\u683c\u5f0f"),(0,l.kt)("th",{parentName:"tr",align:null},"\u8f93\u5165"),(0,l.kt)("th",{parentName:"tr",align:null},"\u8f93\u51fa"))),(0,l.kt)("tbody",{parentName:"table"},(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("a",{parentName:"td",href:"#tabseparated"},"TabSeparated")),(0,l.kt)("td",{parentName:"tr",align:null},"\u2714"),(0,l.kt)("td",{parentName:"tr",align:null},"\u2714")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("a",{parentName:"td",href:"#tabseparatedraw"},"TabSeparatedRaw")),(0,l.kt)("td",{parentName:"tr",align:null},"\u2714"),(0,l.kt)("td",{parentName:"tr",align:null},"\u2714")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("a",{parentName:"td",href:"#tabseparatedwithnames"},"TabSeparatedWithNames")),(0,l.kt)("td",{parentName:"tr",align:null},"\u2714"),(0,l.kt)("td",{parentName:"tr",align:null},"\u2714")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("a",{parentName:"td",href:"#tabseparatedwithnamesandtypes"},"TabSeparatedWithNamesAndTypes")),(0,l.kt)("td",{parentName:"tr",align:null},"\u2714"),(0,l.kt)("td",{parentName:"tr",align:null},"\u2714")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("a",{parentName:"td",href:"#format-template"},"Template")),(0,l.kt)("td",{parentName:"tr",align:null},"\u2714"),(0,l.kt)("td",{parentName:"tr",align:null},"\u2714")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("a",{parentName:"td",href:"#templateignorespaces"},"TemplateIgnoreSpaces")),(0,l.kt)("td",{parentName:"tr",align:null},"\u2714"),(0,l.kt)("td",{parentName:"tr",align:null},"\u2717")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("a",{parentName:"td",href:"#csv"},"CSV")),(0,l.kt)("td",{parentName:"tr",align:null},"\u2714"),(0,l.kt)("td",{parentName:"tr",align:null},"\u2714")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("a",{parentName:"td",href:"#csvwithnames"},"CSVWithNames")),(0,l.kt)("td",{parentName:"tr",align:null},"\u2714"),(0,l.kt)("td",{parentName:"tr",align:null},"\u2714")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("a",{parentName:"td",href:"#format-customseparated"},"CustomSeparated")),(0,l.kt)("td",{parentName:"tr",align:null},"\u2714"),(0,l.kt)("td",{parentName:"tr",align:null},"\u2714")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("a",{parentName:"td",href:"#data-format-values"},"Values")),(0,l.kt)("td",{parentName:"tr",align:null},"\u2714"),(0,l.kt)("td",{parentName:"tr",align:null},"\u2714")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("a",{parentName:"td",href:"#vertical"},"Vertical")),(0,l.kt)("td",{parentName:"tr",align:null},"\u2717"),(0,l.kt)("td",{parentName:"tr",align:null},"\u2714")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("a",{parentName:"td",href:"#json"},"JSON")),(0,l.kt)("td",{parentName:"tr",align:null},"\u2717"),(0,l.kt)("td",{parentName:"tr",align:null},"\u2714")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("a",{parentName:"td",href:"#jsonasstring"},"JSONAsString")),(0,l.kt)("td",{parentName:"tr",align:null},"\u2714"),(0,l.kt)("td",{parentName:"tr",align:null},"\u2717")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("a",{parentName:"td",href:"#jsonstrings"},"JSONStrings")),(0,l.kt)("td",{parentName:"tr",align:null},"\u2717"),(0,l.kt)("td",{parentName:"tr",align:null},"\u2714")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("a",{parentName:"td",href:"#jsoncompact"},"JSONCompact")),(0,l.kt)("td",{parentName:"tr",align:null},"\u2717"),(0,l.kt)("td",{parentName:"tr",align:null},"\u2714")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("a",{parentName:"td",href:"#jsoncompactstrings"},"JSONCompactStrings")),(0,l.kt)("td",{parentName:"tr",align:null},"\u2717"),(0,l.kt)("td",{parentName:"tr",align:null},"\u2714")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("a",{parentName:"td",href:"#jsoneachrow"},"JSONEachRow")),(0,l.kt)("td",{parentName:"tr",align:null},"\u2714"),(0,l.kt)("td",{parentName:"tr",align:null},"\u2714")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("a",{parentName:"td",href:"#jsoneachrowwithprogress"},"JSONEachRowWithProgress")),(0,l.kt)("td",{parentName:"tr",align:null},"\u2717"),(0,l.kt)("td",{parentName:"tr",align:null},"\u2714")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("a",{parentName:"td",href:"#jsonstringseachrow"},"JSONStringsEachRow")),(0,l.kt)("td",{parentName:"tr",align:null},"\u2714"),(0,l.kt)("td",{parentName:"tr",align:null},"\u2714")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("a",{parentName:"td",href:"#jsonstringseachrowwithprogress"},"JSONStringsEachRowWithProgress")),(0,l.kt)("td",{parentName:"tr",align:null},"\u2717"),(0,l.kt)("td",{parentName:"tr",align:null},"\u2714")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("a",{parentName:"td",href:"#jsoncompacteachrow"},"JSONCompactEachRow")),(0,l.kt)("td",{parentName:"tr",align:null},"\u2714"),(0,l.kt)("td",{parentName:"tr",align:null},"\u2714")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("a",{parentName:"td",href:"#jsoncompacteachrowwithnamesandtypes"},"JSONCompactEachRowWithNamesAndTypes")),(0,l.kt)("td",{parentName:"tr",align:null},"\u2714"),(0,l.kt)("td",{parentName:"tr",align:null},"\u2714")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("a",{parentName:"td",href:"#jsoncompactstringseachrow"},"JSONCompactStringsEachRow")),(0,l.kt)("td",{parentName:"tr",align:null},"\u2714"),(0,l.kt)("td",{parentName:"tr",align:null},"\u2714")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("a",{parentName:"td",href:"#jsoncompactstringseachrowwithnamesandtypes"},"JSONCompactStringsEachRowWithNamesAndTypes")),(0,l.kt)("td",{parentName:"tr",align:null},"\u2714"),(0,l.kt)("td",{parentName:"tr",align:null},"\u2714")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("a",{parentName:"td",href:"#tskv"},"TSKV")),(0,l.kt)("td",{parentName:"tr",align:null},"\u2714"),(0,l.kt)("td",{parentName:"tr",align:null},"\u2714")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("a",{parentName:"td",href:"#pretty"},"Pretty")),(0,l.kt)("td",{parentName:"tr",align:null},"\u2717"),(0,l.kt)("td",{parentName:"tr",align:null},"\u2714")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("a",{parentName:"td",href:"#prettycompact"},"PrettyCompact")),(0,l.kt)("td",{parentName:"tr",align:null},"\u2717"),(0,l.kt)("td",{parentName:"tr",align:null},"\u2714")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("a",{parentName:"td",href:"#prettycompactmonoblock"},"PrettyCompactMonoBlock")),(0,l.kt)("td",{parentName:"tr",align:null},"\u2717"),(0,l.kt)("td",{parentName:"tr",align:null},"\u2714")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("a",{parentName:"td",href:"#prettynoescapes"},"PrettyNoEscapes")),(0,l.kt)("td",{parentName:"tr",align:null},"\u2717"),(0,l.kt)("td",{parentName:"tr",align:null},"\u2714")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("a",{parentName:"td",href:"#prettyspace"},"PrettySpace")),(0,l.kt)("td",{parentName:"tr",align:null},"\u2717"),(0,l.kt)("td",{parentName:"tr",align:null},"\u2714")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("a",{parentName:"td",href:"#protobuf"},"Protobuf")),(0,l.kt)("td",{parentName:"tr",align:null},"\u2714"),(0,l.kt)("td",{parentName:"tr",align:null},"\u2714")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("a",{parentName:"td",href:"#protobufsingle"},"ProtobufSingle")),(0,l.kt)("td",{parentName:"tr",align:null},"\u2714"),(0,l.kt)("td",{parentName:"tr",align:null},"\u2714")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("a",{parentName:"td",href:"#data-format-avro"},"Avro")),(0,l.kt)("td",{parentName:"tr",align:null},"\u2714"),(0,l.kt)("td",{parentName:"tr",align:null},"\u2714")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("a",{parentName:"td",href:"#data-format-avro-confluent"},"AvroConfluent")),(0,l.kt)("td",{parentName:"tr",align:null},"\u2714"),(0,l.kt)("td",{parentName:"tr",align:null},"\u2717")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("a",{parentName:"td",href:"#data-format-parquet"},"Parquet")),(0,l.kt)("td",{parentName:"tr",align:null},"\u2714"),(0,l.kt)("td",{parentName:"tr",align:null},"\u2714")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("a",{parentName:"td",href:"#data-format-arrow"},"Arrow")),(0,l.kt)("td",{parentName:"tr",align:null},"\u2714"),(0,l.kt)("td",{parentName:"tr",align:null},"\u2714")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("a",{parentName:"td",href:"#data-format-arrow-stream"},"ArrowStream")),(0,l.kt)("td",{parentName:"tr",align:null},"\u2714"),(0,l.kt)("td",{parentName:"tr",align:null},"\u2714")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("a",{parentName:"td",href:"#data-format-orc"},"ORC")),(0,l.kt)("td",{parentName:"tr",align:null},"\u2714"),(0,l.kt)("td",{parentName:"tr",align:null},"\u2714")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("a",{parentName:"td",href:"#rowbinary"},"RowBinary")),(0,l.kt)("td",{parentName:"tr",align:null},"\u2714"),(0,l.kt)("td",{parentName:"tr",align:null},"\u2714")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("a",{parentName:"td",href:"#rowbinarywithnamesandtypes"},"RowBinaryWithNamesAndTypes")),(0,l.kt)("td",{parentName:"tr",align:null},"\u2714"),(0,l.kt)("td",{parentName:"tr",align:null},"\u2714")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("a",{parentName:"td",href:"#native"},"Native")),(0,l.kt)("td",{parentName:"tr",align:null},"\u2714"),(0,l.kt)("td",{parentName:"tr",align:null},"\u2714")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("a",{parentName:"td",href:"#null"},"Null")),(0,l.kt)("td",{parentName:"tr",align:null},"\u2717"),(0,l.kt)("td",{parentName:"tr",align:null},"\u2714")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("a",{parentName:"td",href:"#xml"},"XML")),(0,l.kt)("td",{parentName:"tr",align:null},"\u2717"),(0,l.kt)("td",{parentName:"tr",align:null},"\u2714")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("a",{parentName:"td",href:"#capnproto"},"CapnProto")),(0,l.kt)("td",{parentName:"tr",align:null},"\u2714"),(0,l.kt)("td",{parentName:"tr",align:null},"\u2717")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("a",{parentName:"td",href:"#lineasstring"},"LineAsString")),(0,l.kt)("td",{parentName:"tr",align:null},"\u2714"),(0,l.kt)("td",{parentName:"tr",align:null},"\u2717")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("a",{parentName:"td",href:"#data-format-regexp"},"Regexp")),(0,l.kt)("td",{parentName:"tr",align:null},"\u2714"),(0,l.kt)("td",{parentName:"tr",align:null},"\u2717")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("a",{parentName:"td",href:"#rawblob"},"RawBLOB")),(0,l.kt)("td",{parentName:"tr",align:null},"\u2714"),(0,l.kt)("td",{parentName:"tr",align:null},"\u2714")))),(0,l.kt)("p",null,"\u60a8\u53ef\u4ee5\u4f7f\u7528ClickHouse\u8bbe\u7f6e\u4e00\u4e9b\u683c\u5f0f\u5316\u53c2\u6570\u3002\u66f4\u591a\u8be6\u60c5\u8bbe\u7f6e\u8bf7\u53c2\u8003",(0,l.kt)("a",{parentName:"p",href:"/zh/operations/settings/"},"\u8bbe\u7f6e")),(0,l.kt)("h2",{id:"tabseparated"},"TabSeparated"),(0,l.kt)("p",null,"\u5728TabSeparated\u5206\u9694\u683c\u5f0f\u4e2d\uff0c\u6570\u636e\u6309\u884c\u5199\u5165\u3002\u6bcf\u884c\u5305\u542b\u7531\u5236\u8868\u7b26\u5206\u9694\u7684\u503c\uff0c\u6bcf\u4e2a\u503c\u540e\u8ddf\u4e00\u4e2a\u5236\u8868\u7b26\uff0c\u9664\u4e86\u884c\u4e2d\u6700\u540e\u4e00\u4e2a\u503c\uff0c\u6700\u540e\u7684\u503c\u540e\u9762\u662f\u4e00\u4e2a\u6362\u884c\u7b26\u3002\u5728\u4efb\u4f55\u5730\u65b9\u90fd\u91c7\u7528\u4e25\u683c\u7684Unix\u6362\u884c(\\n)\u3002\u6700\u540e\u4e00\u884c\u7ed3\u675f\u540e\u5fc5\u987b\u518d\u63d2\u5165\u4e00\u4e2a\u6362\u884c\u7b26\u3002\u503c\u4ee5\u6587\u672c\u683c\u5f0f\u7f16\u5199\uff0c\u4e0d\u5305\u542b\u5f15\u53f7\uff0c\u5e76\u4f7f\u7528\u8f6c\u4e49\u7684\u7279\u6b8a\u5b57\u7b26\u3002"),(0,l.kt)("p",null,"\u8fd9\u79cd\u683c\u5f0f\u4e5f\u88ab\u79f0\u4e3a",(0,l.kt)("inlineCode",{parentName:"p"},"TSV"),"\u3002"),(0,l.kt)("p",null,(0,l.kt)("inlineCode",{parentName:"p"},"TabSeparated"),"\u683c\u5f0f\u4fbf\u4e8e\u5176\u4ed6\u7684\u7a0b\u5e8f\u548c\u811a\u672c\u5904\u7406\u6570\u636e\u3002\u9ed8\u8ba4\u60c5\u51b5\u4e0b\uff0cHTTP\u63a5\u53e3\u548c\u547d\u4ee4\u884c\u5ba2\u6237\u7aef\u7684\u6279\u5904\u7406\u6a21\u5f0f\u4e2d\u4f1a\u4f7f\u7528\u8fd9\u4e2a\u683c\u5f0f\u3002\u8fd9\u79cd\u683c\u5f0f\u8fd8\u5141\u8bb8\u5728\u4e0d\u540cdbms\u4e4b\u95f4\u4f20\u8f93\u6570\u636e\u3002\u4f8b\u5982\uff0c\u60a8\u53ef\u4ee5\u4eceMySQL\u83b7\u53d6\u8f6c\u50a8\u5e76\u5c06\u5176\u4e0a\u4f20\u5230ClickHouse\uff0c\u53cd\u4e4b\u4ea6\u7136\u3002"),(0,l.kt)("p",null,(0,l.kt)("inlineCode",{parentName:"p"},"TabSeparated"),"\u683c\u5f0f\u652f\u6301\u8f93\u51fa\u603b\u8ba1\u7684\u7ed3\u679c(\u5f53SQL\u8bed\u53e5\u5305\u542b",(0,l.kt)("inlineCode",{parentName:"p"},"WITH TOTALS"),")\u548c\u6781\u503c(\u5f53",(0,l.kt)("inlineCode",{parentName:"p"},"extremes"),"\u88ab\u8bbe\u7f6e\u4e3a1\u65f6)\u3002\u5728\u8fd9\u79cd\u60c5\u51b5\u4e0b\uff0c\u603b\u8ba1\u503c\u548c\u6781\u503c\u4f1a\u5728\u4e3b\u6570\u636e\u540e\u8f93\u51fa\u3002\u4e3b\u8981\u7ed3\u679c\u3001\u603b\u503c\u548c\u6781\u503c\u4e4b\u95f4\u7528\u7a7a\u884c\u5206\u9694\u3002\u793a\u4f8b:"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-sql"},"set extremes=1;\nSELECT EventDate, count() AS c FROM test.hits_v1 GROUP BY EventDate WITH TOTALS ORDER BY EventDate FORMAT TabSeparated;\n")),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-text"},"2014-03-17      1406958\n2014-03-18      1383658\n2014-03-19      1405797\n2014-03-20      1353623\n2014-03-21      1245779\n2014-03-22      1031592\n2014-03-23      1046491\n\n0000-00-00      8873898\n\n2014-03-17      1031592\n2014-03-23      1406958\n")),(0,l.kt)("h3",{id:"data-formatting"},"\u6570\u636e\u683c\u5f0f\u5316"),(0,l.kt)("p",null,"\u6574\u6570\u662f\u7528\u5341\u8fdb\u5236\u5f62\u5f0f\u5199\u7684\u3002\u6570\u5b57\u53ef\u4ee5\u5728\u5f00\u5934\u5305\u542b\u4e00\u4e2a\u989d\u5916\u7684",(0,l.kt)("inlineCode",{parentName:"p"},"+"),"\u5b57\u7b26(\u89e3\u6790\u65f6\u5ffd\u7565\u8be5\u7b26\u53f7\uff0c\u683c\u5f0f\u5316\u65f6\u4e0d\u8bb0\u5f55\u8be5\u7b26\u53f7)\u3002\u975e\u8d1f\u6570\u4e0d\u80fd\u5305\u542b\u8d1f\u53f7\u3002\u5728\u8bfb\u53d6\u65f6\uff0c\u5141\u8bb8\u5c06\u7a7a\u5b57\u7b26\u4e32\u89e3\u6790\u4e3a\u96f6\uff0c\u6216\u8005(\u5bf9\u4e8e\u6709\u7b26\u53f7\u7c7b\u578b)\u5c06'-'(\u4ec5\u6709\u51cf\u53f7\u7684\u5b57\u7b26\u4e32)\u89e3\u6790\u4e3a\u96f6\u3002\u4e0d\u7b26\u5408\u76f8\u5e94\u6570\u636e\u7c7b\u578b\u7684\u6570\u5b57\u53ef\u80fd\u88ab\u89e3\u6790\u4e3a\u6570\u503c\uff0c\u800c\u4e0d\u4f1a\u51fa\u73b0\u9519\u8bef\u6d88\u606f\u3002"),(0,l.kt)("p",null,"\u6d6e\u70b9\u6570\u4ee5\u5341\u8fdb\u5236\u5f62\u5f0f\u4e66\u5199\u3002\u7528",(0,l.kt)("inlineCode",{parentName:"p"},"."),"\u4f5c\u4e3a\u5c0f\u6570\u70b9\u7684\u7b26\u53f7\u3002\u652f\u6301\u6307\u6570\u7b26\u53f7\uff0c\u5982",(0,l.kt)("inlineCode",{parentName:"p"},"inf"),"\u3001",(0,l.kt)("inlineCode",{parentName:"p"},"+inf"),"\u3001",(0,l.kt)("inlineCode",{parentName:"p"},"-inf"),"\u548c",(0,l.kt)("inlineCode",{parentName:"p"},"nan"),"\u3002\u5c0f\u6570\u70b9\u524d\u6216\u540e\u53ef\u4ee5\u4e0d\u51fa\u73b0\u6570\u5b57(\u5982123.\u6216.123)\u3002\n\u5728\u683c\u5f0f\u5316\u671f\u95f4\uff0c\u6d6e\u70b9\u6570\u7cbe\u5ea6\u53ef\u80fd\u4f1a\u4e22\u5931\u3002\n\u5728\u89e3\u6790\u671f\u95f4\uff0c\u5e76\u4e0d\u4e25\u683c\u8981\u6c42\u8bfb\u53d6\u4e0e\u673a\u5668\u53ef\u4ee5\u8868\u793a\u7684\u6700\u63a5\u8fd1\u7684\u6570\u503c\u3002"),(0,l.kt)("p",null,"\u65e5\u671f\u4ee5",(0,l.kt)("inlineCode",{parentName:"p"},"YYYY-MM-DD"),"\u683c\u5f0f\u7f16\u5199\uff0c\u5e76\u4ee5\u76f8\u540c\u7684\u683c\u5f0f\u89e3\u6790\uff0c\u4f46\u5141\u8bb8\u4f7f\u7528\u4efb\u4f55\u5b57\u7b26\u4f5c\u4e3a\u5206\u9694\u7b26\u3002\n\u65e5\u671f\u548c\u65f6\u95f4\u4ee5",(0,l.kt)("inlineCode",{parentName:"p"},"YYYY-MM-DD hh:mm:ss"),"\u7684\u683c\u5f0f\u4e66\u5199\uff0c\u5e76\u4ee5\u76f8\u540c\u7684\u683c\u5f0f\u89e3\u6790\uff0c\u4f46\u5141\u8bb8\u4f7f\u7528\u4efb\u4f55\u5b57\u7b26\u4f5c\u4e3a\u5206\u9694\u7b26\u3002\n\u65f6\u533a\u91c7\u7528\u5ba2\u6237\u7aef\u6216\u670d\u52a1\u5668\u7aef\u65f6\u533a(\u53d6\u51b3\u4e8e\u8c01\u5bf9\u6570\u636e\u8fdb\u884c\u683c\u5f0f\u5316)\u3002\u5bf9\u4e8e\u5e26\u6709\u65f6\u95f4\u7684\u65e5\u671f\uff0c\u6ca1\u6709\u662f\u54e6\u7528\u590f\u65f6\u5236\u65f6\u95f4\u3002\u56e0\u6b64\uff0c\u5982\u679c\u5bfc\u51fa\u7684\u6570\u636e\u91c7\u7528\u4e86\u590f\u65f6\u5236\uff0c\u5219\u5b9e\u9645\u5165\u5e93\u7684\u65f6\u95f4\u4e0d\u4e00\u5b9a\u4e0e\u9884\u671f\u7684\u65f6\u95f4\u5bf9\u5e94\uff0c\u89e3\u6790\u5c06\u6839\u636e\u89e3\u6790\u52a8\u4f5c\u53d1\u8d77\u65b9\u9009\u62e9\u65f6\u95f4\u3002\n\u5728\u8bfb\u53d6\u64cd\u4f5c\u671f\u95f4\uff0c\u4e0d\u6b63\u786e\u7684\u65e5\u671f\u548c\u5177\u6709\u65f6\u95f4\u7684\u65e5\u671f\u53ef\u4ee5\u81ea\u7136\u6ea2\u51fa(\u59822021-01-32)\u6216\u8bbe\u7f6e\u6210\u7a7a\u65e5\u671f\u548c\u65f6\u95f4\uff0c\u800c\u4e0d\u4f1a\u51fa\u73b0\u9519\u8bef\u6d88\u606f\u3002"),(0,l.kt)("p",null,"\u6709\u4e2a\u4f8b\u5916\u60c5\u51b5\uff0c\u65f6\u95f4\u89e3\u6790\u4e5f\u652f\u6301Unix\u65f6\u95f4\u6233(\u5982\u679c\u5b83\u6070\u597d\u753110\u4e2a\u5341\u8fdb\u5236\u6570\u5b57\u7ec4\u6210)\u3002\u5176\u7ed3\u679c\u4e0e\u65f6\u533a\u65e0\u5173\u3002\u683c\u5f0f",(0,l.kt)("inlineCode",{parentName:"p"},"YYYY-MM-DD hh:mm:ss"),"\u548c",(0,l.kt)("inlineCode",{parentName:"p"},"NNNNNNNNNN"),"\u8fd9\u4e24\u79cd\u683c\u5f0f\u4f1a\u81ea\u52a8\u8f6c\u6362\u3002"),(0,l.kt)("p",null,"\u5b57\u7b26\u4e32\u8f93\u51fa\u65f6\uff0c\u7279\u6b8a\u5b57\u7b26\u4f1a\u81ea\u52a8\u8f6c\u4e49\u3002\u4ee5\u4e0b\u8f6c\u4e49\u5e8f\u5217\u7528\u4e8e\u8f93\u51fa:",(0,l.kt)("inlineCode",{parentName:"p"},"\\b"),", ",(0,l.kt)("inlineCode",{parentName:"p"},"\\f"),", ",(0,l.kt)("inlineCode",{parentName:"p"},"\\r"),", ",(0,l.kt)("inlineCode",{parentName:"p"},"\\n"),", ",(0,l.kt)("inlineCode",{parentName:"p"},"\\t"),", ",(0,l.kt)("inlineCode",{parentName:"p"},"\\0"),", ",(0,l.kt)("inlineCode",{parentName:"p"},"\\'"),", ",(0,l.kt)("inlineCode",{parentName:"p"},"\\\\"),"\u3002\u89e3\u6790\u8fd8\u652f\u6301",(0,l.kt)("inlineCode",{parentName:"p"},"\\a"),"\u3001",(0,l.kt)("inlineCode",{parentName:"p"},"\\v"),"\u548c",(0,l.kt)("inlineCode",{parentName:"p"},"\\xHH"),"(HH\u4ee3\u8868\u5341\u516d\u8fdb\u5236\u7f16\u7801)\u548c",(0,l.kt)("inlineCode",{parentName:"p"},"\\c"),"\uff0c\u5176\u4e2d",(0,l.kt)("inlineCode",{parentName:"p"},"c"),"\u662f\u4efb\u4f55\u5b57\u7b26(\u8fd9\u4e9b\u5e8f\u5217\u88ab\u8f6c\u6362\u4e3a",(0,l.kt)("inlineCode",{parentName:"p"},"c"),")\u3002\u56e0\u6b64\uff0c\u8bfb\u53d6\u6570\u636e\u65f6\uff0c\u6362\u884c\u7b26\u53ef\u4ee5\u5199\u6210",(0,l.kt)("inlineCode",{parentName:"p"},"\\n"),"\u6216",(0,l.kt)("inlineCode",{parentName:"p"},"\\"),"\u3002\u4f8b\u5982\uff0c\u5982\u679c\u8981\u8868\u793a\u5b57\u7b26\u4e32",(0,l.kt)("inlineCode",{parentName:"p"},"Hello world"),"\u4e2d'Hello'\u4e0e'world'\u4e2d\u95f4\u7684\u7a7a\u683c\u5b9e\u9645\u4e0a\u662f\u4e2a\u6362\u884c\u7b26\uff0c\u53ef\u4ee5\u5199\u6210\u4e0b\u9762\u7684\u5f62\u5f0f:"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-text"},"Hello\\nworld\n")),(0,l.kt)("p",null,"\u7b49\u540c\u4e8e"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-text"},"Hello\\\nworld\n")),(0,l.kt)("p",null,"\u7b2c\u4e8c\u79cd\u5f62\u5f0f\u4e5f\u53d7\u652f\u6301\uff0c\u56e0\u4e3aMySQL\u5bfc\u51fatab-separated\u683c\u5f0f\u7684\u6570\u636e\u65f6\u4f7f\u7528\u8fd9\u79cd\u683c\u5f0f\u3002"),(0,l.kt)("p",null,"\u4f7f\u7528TabSeparated\u683c\u5f0f\u4f20\u9012\u6570\u636e\u65f6\u81f3\u5c11\u9700\u8981\u8f6c\u4e49\u4ee5\u4e0b\u7279\u6b8a\u5b57\u7b26:\u5236\u8868\u7b26(\\t)\u3001\u6362\u884c\u7b26(\\n)\u548c\u53cd\u659c\u6760(","\\",")\u3002"),(0,l.kt)("p",null,"\u53ea\u6709\u4e00\u5c0f\u90e8\u5206\u7b26\u53f7\u88ab\u8f6c\u4e49\u3002\u60a8\u53ef\u4ee5\u5f88\u5bb9\u6613\u5730\u627e\u5230\u4e00\u4e2a\u80fd\u591f\u7834\u574f\u547d\u4ee4\u884c\u7ec8\u7aef\u8f93\u51fa\u7684\u7279\u6b8a\u5b57\u7b26\u3002"),(0,l.kt)("p",null,"\u6570\u7ec4\u7528\u65b9\u62ec\u53f7\u5305\u88f9\u3001\u9017\u53f7\u5206\u9694\u7684\u5f62\u5f0f\u8868\u793a(\u4f8b\u5982",(0,l.kt)("inlineCode",{parentName:"p"},"[11,22,33]"),")\u3002\u6570\u7ec4\u4e2d\u7684\u6570\u5b57\u9879\u6309\u4e0a\u8ff0\u89c4\u5219\u8fdb\u884c\u683c\u5f0f\u5316\u3002",(0,l.kt)("inlineCode",{parentName:"p"},"\u65e5\u671f"),"\u548c",(0,l.kt)("inlineCode",{parentName:"p"},"\u65e5\u671f\u65f6\u95f4"),"\u7c7b\u578b\u7528\u5355\u5f15\u53f7\u5305\u88f9\u3002\u5b57\u7b26\u4e32\u7528\u5355\u5f15\u53f7\u5305\u88f9\uff0c\u9075\u5faa\u4e0a\u8ff0\u8f6c\u4e49\u89c4\u5219\u3002"),(0,l.kt)("p",null,(0,l.kt)("a",{parentName:"p",href:"https://clickhouse.com/docs/zh/sql-reference/syntax/"},"NULL"),"\u5c06\u8f93\u51fa\u4e3a",(0,l.kt)("inlineCode",{parentName:"p"},"\\N"),"\u3002"),(0,l.kt)("p",null,(0,l.kt)("a",{parentName:"p",href:"https://clickhouse.com/docs/zh/sql-reference/data-types/nested-data-structures/nested/"},"Nested"),"\u7ed3\u6784\u7684\u6bcf\u4e2a\u5143\u7d20\u90fd\u8868\u793a\u4e3a\u6570\u7ec4\u3002"),(0,l.kt)("p",null,"\u793a\u4f8b\uff1a"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-sql"},"CREATE TABLE nestedt\n(\n    `id` UInt8,\n    `aux` Nested(\n        a UInt8,\n        b String\n    )\n)\nENGINE = TinyLog\n")),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-sql"},"INSERT INTO nestedt Values ( 1, [1], ['a'])\n")),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-sql"},"SELECT * FROM nestedt FORMAT TSV\n")),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-text"},"1  [1]    ['a']\n")),(0,l.kt)("h2",{id:"tabseparatedraw"},"TabSeparatedRaw"),(0,l.kt)("p",null,"\u4e0e",(0,l.kt)("inlineCode",{parentName:"p"},"TabSeparated"),"\u683c\u5f0f\u7684\u4e0d\u540c\u4e4b\u5904\u5728\u4e8e\uff0c\u5199\u5165\u7684\u6570\u636e\u4e0d\u4f1a\u8fdb\u884c\u8f6c\u4e49\u5904\u7406\u3002\n\u4f7f\u7528\u8fd9\u79cd\u683c\u5f0f\u89e3\u6790\u65f6\uff0c\u6bcf\u4e2a\u5b57\u6bb5\u4e2d\u4e0d\u5141\u8bb8\u51fa\u73b0\u5236\u8868\u7b26\u6216\u6362\u884c\u7b26\u3002"),(0,l.kt)("p",null,"\u8fd9\u79cd\u683c\u5f0f\u4e5f\u88ab\u79f0\u4e3a",(0,l.kt)("inlineCode",{parentName:"p"},"TSVRaw"),"\u3002"),(0,l.kt)("h2",{id:"tabseparatedwithnames"},"TabSeparatedWithNames"),(0,l.kt)("p",null,"\u4e0d\u540c\u4e8e",(0,l.kt)("inlineCode",{parentName:"p"},"TabSeparated"),"\uff0c\u5217\u540d\u4f1a\u5199\u5728\u7b2c\u4e00\u884c\u3002\n\u5728\u89e3\u6790\u8fc7\u7a0b\u4e2d\uff0c\u7b2c\u4e00\u884c\u88ab\u5b8c\u5168\u5ffd\u7565\u3002\u60a8\u4e0d\u80fd\u4f9d\u8d56\u5217\u540d\u6765\u786e\u5b9a\u5b83\u4eec\u7684\u4f4d\u7f6e\u6216\u68c0\u67e5\u5b83\u4eec\u7684\u6b63\u786e\u6027\u3002\n(\u5c06\u6765\u53ef\u80fd\u4f1a\u6dfb\u52a0\u5bf9\u5934\u884c\u89e3\u6790\u7684\u652f\u6301\u3002)"),(0,l.kt)("p",null,"\u8fd9\u79cd\u683c\u5f0f\u4e5f\u88ab\u79f0\u4e3a",(0,l.kt)("inlineCode",{parentName:"p"},"TSVWithNames"),"\u3002"),(0,l.kt)("h2",{id:"tabseparatedwithnamesandtypes"},"TabSeparatedWithNamesAndTypes"),(0,l.kt)("p",null,"\u4e0e",(0,l.kt)("inlineCode",{parentName:"p"},"TabSeparated"),"\u683c\u5f0f\u4e0d\u540c\u7684\u662f\u5217\u540d\u5199\u5728\u7b2c\u4e00\u884c\uff0c\u800c\u5217\u7c7b\u578b\u5199\u5728\u7b2c\u4e8c\u884c\u3002\n\u5728\u89e3\u6790\u8fc7\u7a0b\u4e2d\uff0c\u5c06\u5b8c\u5168\u5ffd\u7565\u7b2c\u4e00\u884c\u548c\u7b2c\u4e8c\u884c\u3002"),(0,l.kt)("p",null,"\u8fd9\u79cd\u683c\u5f0f\u4e5f\u88ab\u79f0\u4e3a",(0,l.kt)("inlineCode",{parentName:"p"},"TSVWithNamesAndTypes"),"\u3002"),(0,l.kt)("h2",{id:"format-template"},"Template"),(0,l.kt)("p",null,"\u6b64\u683c\u5f0f\u5141\u8bb8\u6307\u5b9a\u5e26\u6709\u5360\u4f4d\u7b26\u7684\u81ea\u5b9a\u4e49\u683c\u5f0f\u5b57\u7b26\u4e32\uff0c\u8fd9\u4e9b\u5360\u4f4d\u7b26\u7528\u4e8e\u6307\u5b9a\u8f6c\u4e49\u89c4\u5219\u3002"),(0,l.kt)("p",null,"\u5b83\u4f7f\u7528",(0,l.kt)("inlineCode",{parentName:"p"},"format_schema"),", ",(0,l.kt)("inlineCode",{parentName:"p"},"format_schema_rows"),", ",(0,l.kt)("inlineCode",{parentName:"p"},"format_schema_rows_between_delimiter"),"\u4ee5\u53ca\u5176\u4ed6\u683c\u5f0f\u7684\u4e00\u4e9b\u8bbe\u7f6e(\u4f8b\u5982\u8f6c\u4e49",(0,l.kt)("inlineCode",{parentName:"p"},"JSON"),"\u65f6\u4f7f\u7528",(0,l.kt)("inlineCode",{parentName:"p"},"output_format_json_quote_64bit_integers"),"\uff0c\u5177\u4f53\u8bf7\u5411\u4e0b\u9605\u8bfb)"),(0,l.kt)("p",null,"\u8bbe\u7f6e",(0,l.kt)("inlineCode",{parentName:"p"},"format_template_row"),"\u7528\u4e8e\u6307\u5b9a\u884c\u683c\u5f0f\u6587\u4ef6\u7684\u8def\u5f84\uff0c\u8be5\u683c\u5f0f\u6587\u4ef6\u5305\u542b\u884c\u683c\u5f0f\u5b57\u7b26\u4e32\uff0c\u8bed\u6cd5\u5982\u4e0b:"),(0,l.kt)("p",null,(0,l.kt)("inlineCode",{parentName:"p"},"delimiter_i${column_i:serializeAs_i}delimiter_i${column_i:serializeAs_i} ... delimiter_i"),","),(0,l.kt)("p",null,"\u5176\u4e2d\uff0c",(0,l.kt)("inlineCode",{parentName:"p"},"delimiter_i"),"\u662f\u5404\u503c\u4e4b\u95f4\u7684\u5206\u9694\u7b26(",(0,l.kt)("inlineCode",{parentName:"p"},"$"),"\u7b26\u53f7\u53ef\u4ee5\u8f6c\u4e49\u4e3a",(0,l.kt)("inlineCode",{parentName:"p"},"$$"),")\uff0c\n",(0,l.kt)("inlineCode",{parentName:"p"},"column_i"),"\u662f\u9009\u62e9\u6216\u63d2\u5165\u503c\u7684\u5217\u7684\u540d\u79f0\u6216\u7d22\u5f15(\u5982\u679c\u4e3a\u7a7a\uff0c\u5219\u8df3\u8fc7\u8be5\u5217)\uff0c\n",(0,l.kt)("inlineCode",{parentName:"p"},"serializeAs_i"),"\u662f\u5217\u503c\u7684\u8f6c\u4e49\u89c4\u5219\u3002\u652f\u6301\u4ee5\u4e0b\u8f6c\u4e49\u89c4\u5219:"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"CSV"),", ",(0,l.kt)("inlineCode",{parentName:"li"},"JSON"),", ",(0,l.kt)("inlineCode",{parentName:"li"},"XML")," (\u7c7b\u4f3c\u4e8e\u76f8\u540c\u540d\u79f0\u7684\u683c\u5f0f)"),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"Escaped")," (\u7c7b\u4f3c\u4e8e",(0,l.kt)("inlineCode",{parentName:"li"},"TSV"),")"),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"Quoted")," (\u7c7b\u4f3c\u4e8e",(0,l.kt)("inlineCode",{parentName:"li"},"Values"),")"),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"Raw")," (\u4e0d\u8f6c\u4e49\uff0c\u7c7b\u4f3c\u4e8e",(0,l.kt)("inlineCode",{parentName:"li"},"TSVRaw"),")"),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"None")," (\u4e0d\u8f6c\u4e49\uff0c\u5177\u4f53\u8bf7\u5411\u4e0b\u9605\u8bfb)")),(0,l.kt)("p",null,"\u5982\u679c\u7701\u7565\u4e86\u8f6c\u4e49\u89c4\u5219\uff0c\u90a3\u4e48\u5c06\u4f7f\u7528",(0,l.kt)("inlineCode",{parentName:"p"},"None"),"\u3002",(0,l.kt)("inlineCode",{parentName:"p"},"XML"),"\u548c",(0,l.kt)("inlineCode",{parentName:"p"},"Raw"),"\u53ea\u9002\u7528\u4e8e\u8f93\u51fa\u3002"),(0,l.kt)("p",null,"\u5bf9\u4e8e\u4e0b\u9762\u7684\u683c\u5f0f\u5b57\u7b26\u4e32:"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre"},"  `Search phrase: ${SearchPhrase:Quoted}, count: ${c:Escaped}, ad price: $$${price:JSON};`\n")),(0,l.kt)("p",null,(0,l.kt)("inlineCode",{parentName:"p"},"SearchPhrase"),"\u3001",(0,l.kt)("inlineCode",{parentName:"p"},"c"),"\u548c",(0,l.kt)("inlineCode",{parentName:"p"},"price"),"\u5217\u7684\u503c\u9075\u5faa",(0,l.kt)("inlineCode",{parentName:"p"},"Quoted"),"\u3001",(0,l.kt)("inlineCode",{parentName:"p"},"Escaped"),"\u548c",(0,l.kt)("inlineCode",{parentName:"p"},"JSON"),"\u8f6c\u4e49\u89c4\u5219\uff0c\u5c06\u5206\u522b\u5728",(0,l.kt)("inlineCode",{parentName:"p"},"Search phrase:"),"\uff0c ",(0,l.kt)("inlineCode",{parentName:"p"},"\uff0c count: "),"\uff0c ",(0,l.kt)("inlineCode",{parentName:"p"},"\uff0c ad price: $"),"\u548c",(0,l.kt)("inlineCode",{parentName:"p"},";"),"\u5206\u9694\u7b26\u4e4b\u95f4\u6253\u5370(\u7528\u4e8e",(0,l.kt)("inlineCode",{parentName:"p"},"SELECT"),")\u6216\u8f93\u5165\u671f\u671b\u7684\u503c(\u7528\u4e8e",(0,l.kt)("inlineCode",{parentName:"p"},"INSERT"),")\u3002\u4f8b\u5982:"),(0,l.kt)("p",null,(0,l.kt)("inlineCode",{parentName:"p"},"Search phrase: 'bathroom interior design', count: 2166, ad price: $3;")),(0,l.kt)("p",null,(0,l.kt)("inlineCode",{parentName:"p"},"format_template_rows_between_delimiter"),"\u8bbe\u7f6e\u6307\u5b9a\u884c\u4e4b\u95f4\u7684\u5206\u9694\u7b26\uff0c\u5b83\u5c06\u6253\u5370(\u6216\u8f93\u5165\u671f\u671b\u503c)\u5728\u6bcf\u4e00\u884c\u4e4b\u540e\uff0c\u6700\u540e\u4e00\u884c\u9664\u5916(\u8be5\u8bbe\u7f6e\u9ed8\u8ba4\u503c\u4e3a",(0,l.kt)("inlineCode",{parentName:"p"},"\\n"),")\u3002"),(0,l.kt)("p",null,"\u8bbe\u7f6e",(0,l.kt)("inlineCode",{parentName:"p"},"format_template_resultset"),"\u6307\u5b9a\u7ed3\u679c\u96c6\u683c\u5f0f\u6587\u4ef6\u8def\u5f84\uff0c\u8be5\u6587\u4ef6\u5305\u542b\u7ed3\u679c\u96c6\u7684\u683c\u5f0f\u5b57\u7b26\u4e32\u3002\u7ed3\u679c\u96c6\u7684\u683c\u5f0f\u5b57\u7b26\u4e32\u4e0e\u4e0a\u8ff0\u7684\u884c\u683c\u5f0f\u5b57\u7b26\u4e32\u5177\u6709\u76f8\u540c\u7684\u8bed\u6cd5\uff0c\u5e76\u5141\u8bb8\u6307\u5b9a\u524d\u7f00\u3001\u540e\u7f00\uff0c\u8fd8\u63d0\u4f9b\u6253\u5370\u4e00\u4e9b\u9644\u52a0\u4fe1\u606f\u7684\u65b9\u6cd5\u3002\u8be5\u6587\u4ef6\u4f7f\u7528\u5982\u4e0b\u5360\u4f4d\u7b26\uff0c\u7528\u4e8e\u53d6\u4ee3\u884c\u683c\u5f0f\u5b57\u7b26\u4e32\u7684\u5217\u540d\u7684\u4f4d\u7f6e(\u5373",(0,l.kt)("inlineCode",{parentName:"p"},"column_i"),"):"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"data")," \u4ee3\u8868\u9075\u5faa",(0,l.kt)("inlineCode",{parentName:"li"},"format_template_row"),"\u683c\u5f0f\u7684\u6570\u636e\u884c\uff0c\u7531",(0,l.kt)("inlineCode",{parentName:"li"},"format_template_rows_between_delimiter"),"\u8bbe\u7f6e\u5236\u5b9a\u7684\u5b57\u7b26\u5206\u9694\u3002\u6b64\u5360\u4f4d\u7b26\u5fc5\u987b\u662f\u683c\u5f0f\u5b57\u7b26\u4e32\u4e2d\u7684\u7b2c\u4e00\u4e2a\u5360\u4f4d\u7b26\u3002"),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"totals")," \u4ee3\u8868\u9075\u5faa",(0,l.kt)("inlineCode",{parentName:"li"},"format_template_row"),"\u683c\u5f0f\u7684\u6570\u636e\u884c\uff0c\u8be5\u884c\u7528\u4e8e\u4ee3\u8868\u7ed3\u679c\u7684\u603b\u8ba1\u503c(\u5f53SQL\u8bed\u53e5\u5305\u542b\u4e86",(0,l.kt)("inlineCode",{parentName:"li"},"WITH TOTALS"),")"),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"min")," \u4ee3\u8868\u9075\u5faa",(0,l.kt)("inlineCode",{parentName:"li"},"format_template_row"),"\u683c\u5f0f\u7684\u6570\u636e\u884c\uff0c\u8be5\u884c\u7528\u4e8e\u4ee3\u8868\u7ed3\u679c\u7684\u6700\u5c0f\u503c(\u5f53",(0,l.kt)("inlineCode",{parentName:"li"},"extremes"),"\u8bbe\u7f6e\u4e3a1\u65f6)"),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"max")," \u4ee3\u8868\u9075\u5faa",(0,l.kt)("inlineCode",{parentName:"li"},"format_template_row"),"\u683c\u5f0f\u7684\u6570\u636e\u884c\uff0c\u8be5\u884c\u7528\u4e8e\u4ee3\u8868\u7ed3\u679c\u7684\u6700\u5927\u503c(\u5f53",(0,l.kt)("inlineCode",{parentName:"li"},"extremes"),"\u8bbe\u7f6e\u4e3a1\u65f6)"),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"rows")," \u4ee3\u8868\u8f93\u51fa\u884c\u7684\u603b\u6570"),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"rows_before_limit")," \u4ee3\u8868\u6ca1\u6709LIMIT\u9650\u5236\u7684\u7ed3\u679c\u6700\u5c0f\u884c\u6570\u3002\u4ec5\u5f53\u67e5\u8be2\u5305\u542bLIMIT\u65f6\u624d\u8f93\u51fa\u6b64\u503c\u3002\u5982\u679c\u67e5\u8be2\u5305\u542bGROUP BY\uff0c\u90a3\u4e48",(0,l.kt)("inlineCode",{parentName:"li"},"rows_before_limit_at_least"),"\u5c31\u662f\u6ca1\u6709LIMIT\u7684\u786e\u5207\u884c\u6570\u3002"),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"time")," \u4ee3\u8868\u8bf7\u6c42\u6267\u884c\u65f6\u95f4(\u79d2)"),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"rows_read")," \u4ee3\u8868\u5df2\u8bfb\u53d6\u7684\u884c\u6570"),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"bytes_read")," \u4ee3\u8868\u5df2\u8bfb\u53d6(\u672a\u538b\u7f29)\u7684\u5b57\u8282\u6570")),(0,l.kt)("p",null,"\u5360\u4f4d\u7b26",(0,l.kt)("inlineCode",{parentName:"p"},"data"),"\u3001",(0,l.kt)("inlineCode",{parentName:"p"},"totals"),"\u3001",(0,l.kt)("inlineCode",{parentName:"p"},"min"),"\u548c",(0,l.kt)("inlineCode",{parentName:"p"},"max"),"\u4e0d\u5141\u8bb8\u6307\u5b9a\u8f6c\u4e49\u89c4\u5219(\u5141\u8bb8\u663e\u5f0f\u6307\u5b9a",(0,l.kt)("inlineCode",{parentName:"p"},"None"),")\u3002\u5176\u4f59\u5360\u4f4d\u7b26\u53ef\u4ee5\u6307\u5b9a\u4efb\u4f55\u8f6c\u4e49\u89c4\u5219\u3002\n\u5982\u679c",(0,l.kt)("inlineCode",{parentName:"p"},"format_template_resultset"),"\u8bbe\u7f6e\u4e3a\u7a7a\uff0c\u5219\u4f7f\u7528",(0,l.kt)("inlineCode",{parentName:"p"},"${data}"),"\u4f5c\u4e3a\u9ed8\u8ba4\u503c\u3002\n\u5bf9\u4e8einsert\u67e5\u8be2\uff0c\u683c\u5f0f\u5141\u8bb8\u8df3\u8fc7\u67d0\u4e9b\u5217\u6216\u67d0\u4e9b\u5b57\u6bb5\u7684\u524d\u7f00\u6216\u540e\u7f00(\u53c2\u89c1\u793a\u4f8b)\u3002"),(0,l.kt)("p",null,"Select\u793a\u4f8b:"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-sql"},"SELECT SearchPhrase, count() AS c FROM test.hits GROUP BY SearchPhrase ORDER BY c DESC LIMIT 5 FORMAT Template SETTINGS\nformat_template_resultset = '/some/path/resultset.format', format_template_row = '/some/path/row.format', format_template_rows_between_delimiter = '\\n    '\n")),(0,l.kt)("p",null,(0,l.kt)("inlineCode",{parentName:"p"},"/some/path/resultset.format"),":"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-text"},'<!DOCTYPE HTML>\n<html> <head> <title>Search phrases</title> </head>\n <body>\n  <table border="1"> <caption>Search phrases</caption>\n    <tr> <th>Search phrase</th> <th>Count</th> </tr>\n    ${data}\n  </table>\n  <table border="1"> <caption>Max</caption>\n    ${max}\n  </table>\n  <b>Processed ${rows_read:XML} rows in ${time:XML} sec</b>\n </body>\n</html>\n')),(0,l.kt)("p",null,(0,l.kt)("inlineCode",{parentName:"p"},"/some/path/row.format"),":"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-text"},"<tr> <td>${0:XML}</td> <td>${1:XML}</td> </tr>\n")),(0,l.kt)("p",null,"\u7ed3\u679c\uff1a"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-html"},'<!DOCTYPE HTML>\n<html> <head> <title>Search phrases</title> </head>\n <body>\n  <table border="1"> <caption>Search phrases</caption>\n    <tr> <th>Search phrase</th> <th>Count</th> </tr>\n    <tr> <td></td> <td>8267016</td> </tr>\n    <tr> <td>bathroom interior design</td> <td>2166</td> </tr>\n    <tr> <td>yandex</td> <td>1655</td> </tr>\n    <tr> <td>spring 2014 fashion</td> <td>1549</td> </tr>\n    <tr> <td>freeform photos</td> <td>1480</td> </tr>\n  </table>\n  <table border="1"> <caption>Max</caption>\n    <tr> <td></td> <td>8873898</td> </tr>\n  </table>\n  <b>Processed 3095973 rows in 0.1569913 sec</b>\n </body>\n</html>\n')),(0,l.kt)("p",null,"Insert\u793a\u4f8b\uff1a"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-text"},"Some header\nPage views: 5, User id: 4324182021466249494, Useless field: hello, Duration: 146, Sign: -1\nPage views: 6, User id: 4324182021466249494, Useless field: world, Duration: 185, Sign: 1\nTotal rows: 2\n")),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-sql"},"INSERT INTO UserActivity FORMAT Template SETTINGS\nformat_template_resultset = '/some/path/resultset.format', format_template_row = '/some/path/row.format'\n")),(0,l.kt)("p",null,(0,l.kt)("inlineCode",{parentName:"p"},"/some/path/resultset.format"),":"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-text"},"Some header\\n${data}\\nTotal rows: ${:CSV}\\n\n")),(0,l.kt)("p",null,(0,l.kt)("inlineCode",{parentName:"p"},"/some/path/row.format"),":"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-text"},"Page views: ${PageViews:CSV}, User id: ${UserID:CSV}, Useless field: ${:CSV}, Duration: ${Duration:CSV}, Sign: ${Sign:CSV}\n")),(0,l.kt)("p",null,(0,l.kt)("inlineCode",{parentName:"p"},"PageViews"),", ",(0,l.kt)("inlineCode",{parentName:"p"},"UserID"),", ",(0,l.kt)("inlineCode",{parentName:"p"},"Duration"),"\u548c",(0,l.kt)("inlineCode",{parentName:"p"},"Sign")," \u5360\u4f4d\u7b26\u662f\u8868\u4e2d\u5217\u7684\u540d\u79f0\u3002\u5c06\u5ffd\u7565\u884c\u4e2d",(0,l.kt)("inlineCode",{parentName:"p"},"Useless field"),"\u540e\u9762\u548c\u540e\u7f00\u4e2d",(0,l.kt)("inlineCode",{parentName:"p"},"\\nTotal rows:"),"\u4e4b\u540e\u7684\u503c\u3002\n\u8f93\u5165\u6570\u636e\u4e2d\u7684\u6240\u6709\u5206\u9694\u7b26\u5fc5\u987b\u4e25\u683c\u7b49\u4e8e\u6307\u5b9a\u683c\u5f0f\u5b57\u7b26\u4e32\u4e2d\u7684\u5206\u9694\u7b26\u3002"),(0,l.kt)("h2",{id:"templateignorespaces"},"TemplateIgnoreSpaces"),(0,l.kt)("p",null,"\u8fd9\u79cd\u683c\u5f0f\u53ea\u9002\u7528\u4e8e\u8f93\u5165\u3002\n\u7c7b\u4f3c\u4e8e",(0,l.kt)("inlineCode",{parentName:"p"},"Template"),"\uff0c\u4f46\u8df3\u8fc7\u8f93\u5165\u6d41\u4e2d\u5206\u9694\u7b26\u548c\u503c\u4e4b\u95f4\u7684\u7a7a\u767d\u5b57\u7b26\u3002\u4f46\u662f\uff0c\u5982\u679c\u683c\u5f0f\u5b57\u7b26\u4e32\u5305\u542b\u7a7a\u683c\u5b57\u7b26\uff0c\u8fd9\u4e9b\u5b57\u7b26\u5c06\u4f1a\u51fa\u73b0\u5728\u8f93\u5165\u6d41\u4e2d\u3002\u4e5f\u5141\u8bb8\u6307\u5b9a\u7a7a\u5360\u4f4d\u7b26(",(0,l.kt)("inlineCode",{parentName:"p"},"${}"),"\u6216",(0,l.kt)("inlineCode",{parentName:"p"},"${:None}"),")\u6765\u5c06\u4e00\u4e9b\u5206\u9694\u7b26\u5206\u5272\u4e3a\u5355\u72ec\u7684\u90e8\u5206\uff0c\u4ee5\u5ffd\u7565\u5b83\u4eec\u4e4b\u95f4\u7684\u7a7a\u683c\u3002\u8fd9\u79cd\u5360\u4f4d\u7b26\u4ec5\u7528\u4e8e\u8df3\u8fc7\u7a7a\u767d\u5b57\u7b26\u3002\n\u5982\u679c\u5217\u7684\u503c\u5728\u6240\u6709\u884c\u7684\u987a\u5e8f\u76f8\u540c\uff0c\u90a3\u4e48\u53ef\u4ee5\u4f7f\u7528\u8fd9\u79cd\u683c\u5f0f\u8bfb\u53d6",(0,l.kt)("inlineCode",{parentName:"p"},"JSON"),"\u3002\u53ef\u4ee5\u4f7f\u7528\u4ee5\u4e0b\u8bf7\u6c42\u4ece\u683c\u5f0f\u4e3a",(0,l.kt)("a",{parentName:"p",href:"#json"},"JSON"),"\u7684\u8f93\u51fa\u793a\u4f8b\u4e2d\u63d2\u5165\u6570\u636e\uff1a"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-sql"},"INSERT INTO table_name FORMAT TemplateIgnoreSpaces SETTINGS\nformat_template_resultset = '/some/path/resultset.format', format_template_row = '/some/path/row.format', format_template_rows_between_delimiter = ','\n")),(0,l.kt)("p",null,(0,l.kt)("inlineCode",{parentName:"p"},"/some/path/resultset.format"),":"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-text"},'{${}"meta"${}:${:JSON},${}"data"${}:${}[${data}]${},${}"totals"${}:${:JSON},${}"extremes"${}:${:JSON},${}"rows"${}:${:JSON},${}"rows_before_limit_at_least"${}:${:JSON}${}}\n')),(0,l.kt)("p",null,(0,l.kt)("inlineCode",{parentName:"p"},"/some/path/row.format"),":"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-text"},'{${}"SearchPhrase"${}:${}${phrase:JSON}${},${}"c"${}:${}${cnt:JSON}${}}\n')),(0,l.kt)("h2",{id:"tskv"},"TSKV"),(0,l.kt)("p",null,"\u7c7b\u4f3c\u4e8eTabSeparated\uff0c\u4f46\u662f\u8f93\u51fa\u7684\u503c\u662fname=value\u683c\u5f0f\u3002\u540d\u79f0\u7684\u8f6c\u4e49\u65b9\u5f0f\u4e0eTabSeparated\u683c\u5f0f\u76f8\u540c\uff0c=\u7b26\u53f7\u4e5f\u4f1a\u88ab\u8f6c\u4e49\u3002"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-text"},"SearchPhrase=   count()=8267016\nSearchPhrase=bathroom interior design    count()=2166\nSearchPhrase=yandex     count()=1655\nSearchPhrase=2014 spring fashion    count()=1549\nSearchPhrase=freeform photos       count()=1480\nSearchPhrase=angelina jolie    count()=1245\nSearchPhrase=omsk       count()=1112\nSearchPhrase=photos of dog breeds    count()=1091\nSearchPhrase=curtain designs        count()=1064\nSearchPhrase=baku       count()=1000\n")),(0,l.kt)("p",null,(0,l.kt)("a",{parentName:"p",href:"/zh/sql-reference/syntax"},"NULL"),"\u8f6c\u5316\u4e3a",(0,l.kt)("inlineCode",{parentName:"p"},"\\N"),"\u3002"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-sql"},"SELECT * FROM t_null FORMAT TSKV\n")),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-text"},"x=1    y=\\N\n")),(0,l.kt)("p",null,"\u5f53\u6709\u5927\u91cf\u7684\u5c0f\u5217\u65f6\uff0c\u8fd9\u79cd\u683c\u5f0f\u6548\u7387\u5341\u5206\u4f4e\u4e0b\uff0c\u5e76\u4e14\u901a\u5e38\u6ca1\u6709\u7406\u7531\u4f7f\u7528\u5b83\u3002\u4e0d\u8fc7\uff0c\u5c31\u6548\u7387\u800c\u8a00\uff0c\u5b83\u5e76\u4e0d\u6bd4JSONEachRow\u5dee\u3002\n\u8fd9\u79cd\u683c\u5f0f\u652f\u6301\u6570\u636e\u8f93\u51fa\u548c\u89e3\u6790\u3002\u7528\u4e8e\u89e3\u6790\u65f6\uff0c\u53ef\u4ee5\u4efb\u610f\u6307\u5b9a\u5217\u7684\u987a\u5e8f\uff0c\u4e5f\u53ef\u4ee5\u7701\u7565\u67d0\u4e9b\u5217\uff0c\u90a3\u4e9b\u5217\u7684\u503c\u4e3a\u8be5\u5217\u7684\u9ed8\u8ba4\u503c\uff0c\u4e00\u822c\u60c5\u51b5\u4e0b\u4e3a0\u6216\u7a7a\u767d\u3002\u4e0d\u652f\u6301\u5c06\u53ef\u5728\u8868\u4e2d\u53ef\u6307\u5b9a\u7684\u590d\u6742\u503c\u8bbe\u4e3a\u9ed8\u8ba4\u503c\u3002"),(0,l.kt)("p",null,"\u89e3\u6790\u65f6\u5141\u8bb8\u51fa\u73b0\u540e\u6ca1\u6709=\u7684\u5b57\u6bb5",(0,l.kt)("inlineCode",{parentName:"p"},"tskv"),"\u3002\u6b64\u5b57\u6bb5\u4f1a\u88ab\u5ffd\u7565\u3002"),(0,l.kt)("h2",{id:"csv"},"CSV"),(0,l.kt)("p",null,"\u6309",(0,l.kt)("inlineCode",{parentName:"p"},","),"\u5206\u9694\u7684\u6570\u636e\u683c\u5f0f(",(0,l.kt)("a",{parentName:"p",href:"https://tools.ietf.org/html/rfc4180"},"RFC"),")\u3002"),(0,l.kt)("p",null,"\u683c\u5f0f\u5316\u65f6\uff0c\u6bcf\u4e00\u884c\u7684\u503c\u4f1a\u7528\u53cc\u5f15\u53f7\u62ec\u8d77\uff0c\u65e5\u671f\u548c\u65f6\u95f4\u4e5f\u4f1a\u4ee5\u53cc\u5f15\u53f7\u5305\u62ec\u3002\u6570\u5b57\u4e0d\u7528\u53cc\u5f15\u53f7\u62ec\u8d77\uff0c\u5b57\u7b26\u4e32\u4e2d\u7684\u53cc\u5f15\u53f7\u4f1a\u4ee5\u4e24\u4e2a\u53cc\u5f15\u53f7\u8f93\u51fa\uff0c\u9664\u6b64\u4e4b\u5916\u6ca1\u6709\u5176\u4ed6\u89c4\u5219\u6765\u505a\u5b57\u7b26\u8f6c\u4e49\u4e86\u3002\u503c\u7531\u5206\u9694\u7b26\u9694\u5f00\uff0c\u8fd9\u4e2a\u5206\u9694\u7b26\u9ed8\u8ba4\u662f",(0,l.kt)("inlineCode",{parentName:"p"},","),"\u3002\u6bcf\u4e00\u884c\u4f7f\u7528Unix\u6362\u884c\u7b26(LF,\\n)\u5206\u9694\u3002\n\u6570\u7ec4\u5e8f\u5217\u5316\u6210CSV\u89c4\u5219\u5982\u4e0b\uff1a\u9996\u5148\u5c06\u6570\u7ec4\u5e8f\u5217\u5316\u4e3a",(0,l.kt)("inlineCode",{parentName:"p"},"TabSeparated"),"\u683c\u5f0f\u7684\u5b57\u7b26\u4e32\uff0c\u7136\u540e\u5c06\u7ed3\u679c\u5b57\u7b26\u4e32\u7528\u53cc\u5f15\u53f7\u62ec\u8d77\u540e\u8f93\u51fa\u5230",(0,l.kt)("inlineCode",{parentName:"p"},"CSV"),"\u3002",(0,l.kt)("inlineCode",{parentName:"p"},"CSV"),"\u683c\u5f0f\u7684\u5143\u7ec4\u88ab\u5e8f\u5217\u5316\u4e3a\u5355\u72ec\u7684\u5217(\u5373\u5b83\u4eec\u5728\u5143\u7ec4\u4e2d\u7684\u5d4c\u5957\u5173\u7cfb\u4f1a\u4e22\u5931)\u3002"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},'$ clickhouse-client --format_csv_delimiter="|" --query="INSERT INTO test.csv FORMAT CSV" < data.csv\n')),(0,l.kt)("p",null,"*"," \u9ed8\u8ba4\u60c5\u51b5\u4e0b\u5206\u9694\u7b26\u662f",(0,l.kt)("inlineCode",{parentName:"p"},",")," \uff0c\u5728",(0,l.kt)("a",{parentName:"p",href:"/zh/operations/settings/#settings-format_csv_delimiter"},"format_csv_delimiter"),"\u4e2d\u53ef\u4ee5\u4e86\u89e3\u66f4\u591a\u5206\u9694\u7b26\u914d\u7f6e\u3002"),(0,l.kt)("p",null,"\u89e3\u6790\u7684\u65f6\u5019\uff0c\u503c\u53ef\u4ee5\u4f7f\u7528\u6216\u4e0d\u4f7f\u7528\u53cc\u5f15\u53f7\u6216\u8005\u5355\u5f15\u53f7\u62ec\u8d77\u6765\u3002\u5728\u8fd9\u79cd\u60c5\u51b5\u4e0b\uff0c\u6bcf\u884c\u901a\u8fc7\u5206\u9694\u7b26\u6216\u6362\u884c\u7b26(",(0,l.kt)("inlineCode",{parentName:"p"},"CR"),"\u6216",(0,l.kt)("inlineCode",{parentName:"p"},"LF"),")\u533a\u5206\u3002\u8fdd\u53cd",(0,l.kt)("inlineCode",{parentName:"p"},"RFC"),"\u89c4\u5219\u7684\u662f\uff0c\u5728\u89e3\u6790\u672a\u7528\u5f15\u53f7\u62ec\u8d77\u7684\u884c\u65f6\uff0c\u4f1a\u5ffd\u7565\u524d\u7f00\u548c\u7ed3\u5c3e\u7684\u7a7a\u683c\u548c\u5236\u8868\u7b26\u3002\u5bf9\u4e8e\u6362\u884c\u7b26\uff0cUnix(LF,\\n)\uff0cWindows(CR LF\\r\\n)\u548cMac OS Classic(CR LF\\t\\n)\u90fd\u53d7\u652f\u6301\u3002"),(0,l.kt)("p",null,"\u5982\u679c\u542f\u7528",(0,l.kt)("a",{parentName:"p",href:"/zh/operations/settings/#session_settings-input_format_defaults_for_omitted_fields"},"input_format_defaults_for_omitted_fields"),"\uff0c\u5bf9\u5e94\u5217\u5982\u679c\u5b58\u5728\u672a\u8f93\u5165\u7684\u7a7a\u767d\uff0c\u4e14\u6ca1\u6709\u7528\u53cc\u5f15\u53f7\u62ec\u8d77\uff0c\u5c06\u7528\u9ed8\u8ba4\u503c\u66ff\u6362\u3002"),(0,l.kt)("p",null,(0,l.kt)("inlineCode",{parentName:"p"},"NULL"),"\u88ab\u683c\u5f0f\u5316\u4e3a",(0,l.kt)("inlineCode",{parentName:"p"},"\\N"),"\u6216",(0,l.kt)("inlineCode",{parentName:"p"},"NULL"),"\u6216\u4e00\u4e2a\u4e0d\u662f\u5f15\u53f7\u7684\u5176\u4ed6\u5b57\u7b26\u4e32(\u8be6\u89c1\u914d\u7f6e",(0,l.kt)("a",{parentName:"p",href:"/zh/operations/settings/#settings-input_format_csv_unquoted_null_literal_as_null"},"input_format_csv_unquoted_null_literal_as_null"),"\u6216",(0,l.kt)("a",{parentName:"p",href:"/zh/operations/settings/#session_settings-input_format_defaults_for_omitted_fields"},"input_format_defaults_for_omitted_fields"),")\u3002"),(0,l.kt)("p",null,(0,l.kt)("inlineCode",{parentName:"p"},"CSV"),"\u683c\u5f0f\u652f\u6301\u8f93\u51fa\u603b\u6570\u548c\u6781\u503c\u7684\u65b9\u5f0f\u4e0e",(0,l.kt)("inlineCode",{parentName:"p"},"TabSeparated"),"\u76f8\u540c\u3002"),(0,l.kt)("h2",{id:"csvwithnames"},"CSVWithNames"),(0,l.kt)("p",null,"\u4f1a\u8f93\u51fa\u5e26\u5934\u90e8\u7684\u4fe1\u606f(\u5b57\u6bb5\u5217\u8868)\uff0c\u548c",(0,l.kt)("inlineCode",{parentName:"p"},"TabSeparatedWithNames"),"\u4e00\u6837\u3002"),(0,l.kt)("h2",{id:"format-customseparated"},"CustomSeparated"),(0,l.kt)("p",null,"\u7c7b\u4f3c\u4e8e",(0,l.kt)("a",{parentName:"p",href:"#format-template"},"Template"),"\uff0c \u4f46\u5b83\u6253\u5370\u6216\u8bfb\u53d6\u6240\u6709\u5217\uff0c\u5e76\u4f7f\u7528\u8bbe\u7f6e",(0,l.kt)("inlineCode",{parentName:"p"},"format_custom_escaping_rule"),"\u548c\u5206\u9694\u7b26\u8bbe\u7f6e",(0,l.kt)("inlineCode",{parentName:"p"},"format_custom_field_delimiter"),",",(0,l.kt)("inlineCode",{parentName:"p"},"format_custom_row_before_delimiter"),",",(0,l.kt)("inlineCode",{parentName:"p"},"format_custom_row_after_delimiter"),",",(0,l.kt)("inlineCode",{parentName:"p"},"format_custom_row_between_delimiter"),",",(0,l.kt)("inlineCode",{parentName:"p"},"format_custom_result_before_delimiter"),",",(0,l.kt)("inlineCode",{parentName:"p"},"format_custom_result_after_delimiter"),"\u7684\u8f6c\u4e49\u89c4\u5219,\u800c\u4e0d\u662f\u4ece\u683c\u5f0f\u5b57\u7b26\u4e32\u3002\n\u4e5f\u6709",(0,l.kt)("inlineCode",{parentName:"p"},"CustomSeparatedIgnoreSpaces"),"\u683c\u5f0f\uff0c\u8fd9\u4e2a\u7c7b\u4f3c\u4e8e",(0,l.kt)("inlineCode",{parentName:"p"},"TemplateIgnoreSpaces"),"\u3002"),(0,l.kt)("h2",{id:"json"},"JSON"),(0,l.kt)("p",null,"\u4ee5JSON\u683c\u5f0f\u8f93\u51fa\u6570\u636e\u3002\u9664\u4e86\u6570\u636e\u8868\u4e4b\u5916\uff0c\u5b83\u8fd8\u8f93\u51fa\u5217\u540d\u548c\u7c7b\u578b\uff0c\u4ee5\u53ca\u4e00\u4e9b\u9644\u52a0\u4fe1\u606f: \u8f93\u51fa\u884c\u7684\u603b\u6570\uff0c\u4ee5\u53ca\u5982\u679c\u6ca1\u6709LIMIT\u7684\u8bdd\u53ef\u8f93\u51fa\u7684\u884c\u6570\u3002\u793a\u4f8b:"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-sql"},"SELECT SearchPhrase, count() AS c FROM test.hits GROUP BY SearchPhrase WITH TOTALS ORDER BY c DESC LIMIT 5 FORMAT JSON\n")),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-json"},'{\n        "meta":\n        [\n                {\n                        "name": "\'hello\'",\n                        "type": "String"\n                },\n                {\n                        "name": "multiply(42, number)",\n                        "type": "UInt64"\n                },\n                {\n                        "name": "range(5)",\n                        "type": "Array(UInt8)"\n                }\n        ],\n\n        "data":\n        [\n                {\n                        "\'hello\'": "hello",\n                        "multiply(42, number)": "0",\n                        "range(5)": [0,1,2,3,4]\n                },\n                {\n                        "\'hello\'": "hello",\n                        "multiply(42, number)": "42",\n                        "range(5)": [0,1,2,3,4]\n                },\n                {\n                        "\'hello\'": "hello",\n                        "multiply(42, number)": "84",\n                        "range(5)": [0,1,2,3,4]\n                }\n        ],\n\n        "rows": 3,\n\n        "rows_before_limit_at_least": 3\n}\n')),(0,l.kt)("p",null,"JSON\u4e0eJavaScript\u517c\u5bb9\u3002\u4e3a\u4e86\u786e\u4fdd\u8fd9\u4e00\u70b9\uff0c\u4e00\u4e9b\u5b57\u7b26\u88ab\u53e6\u5916\u8f6c\u4e49\uff1a\u659c\u7ebf",(0,l.kt)("inlineCode",{parentName:"p"},"/"),"\u88ab\u8f6c\u4e49\u4e3a",(0,l.kt)("inlineCode",{parentName:"p"},"\\/"),"; \u6362\u884c\u7b26",(0,l.kt)("inlineCode",{parentName:"p"},"U+2028"),"\u548c",(0,l.kt)("inlineCode",{parentName:"p"},"U+2029"),"\u4f1a\u6253\u65ad\u4e00\u4e9b\u6d4f\u89c8\u5668\u7684\u89e3\u6790\uff0c\u5b83\u4eec\u4f1a\u88ab\u8f6c\u4e49\u4e3a",(0,l.kt)("inlineCode",{parentName:"p"},"\\uXXXX"),"\u3002 ASCII\u63a7\u5236\u5b57\u7b26\u88ab\u8f6c\u4e49\uff1a\u9000\u683c\uff0c\u6362\u9875\uff0c\u6362\u884c\uff0c\u56de\u8f66\u548c\u5236\u8868\u7b26\u88ab\u8f6c\u4e49\u4e3a",(0,l.kt)("inlineCode",{parentName:"p"},"\\b"),"\uff0c",(0,l.kt)("inlineCode",{parentName:"p"},"\\f"),"\uff0c",(0,l.kt)("inlineCode",{parentName:"p"},"\\n"),"\uff0c",(0,l.kt)("inlineCode",{parentName:"p"},"\\r"),"\uff0c",(0,l.kt)("inlineCode",{parentName:"p"},"\\t"),"\u3002\u5269\u4e0b\u76840x00-0x1F\u88ab\u8f6c\u4e49\u6210\u76f8\u5e94\u7684",(0,l.kt)("inlineCode",{parentName:"p"},"\\uXXXX"),"\u5e8f\u5217\u3002 \u65e0\u6548\u7684UTF-8\u5e8f\u5217\u66ff\u6362\u4e3a\u5b57\u7b26\ufffd\uff0c\u4f7f\u5f97\u8f93\u51fa\u6587\u672c\u5305\u542b\u6709\u6548\u7684UTF-8\u5e8f\u5217\u3002 \u4e3a\u4e86\u4e0eJavaScript\u517c\u5bb9\uff0c\u9ed8\u8ba4\u60c5\u51b5\u4e0b\uff0cInt64\u548cUInt64\u6574\u6570\u7528\u53cc\u5f15\u53f7\u5f15\u8d77\u6765\u3002\u8981\u9664\u53bb\u5f15\u53f7\uff0c\u53ef\u4ee5\u5c06\u914d\u7f6e\u53c2\u6570",(0,l.kt)("inlineCode",{parentName:"p"},"output_format_json_quote_64bit_integers"),"\u8bbe\u7f6e\u4e3a0\u3002"),(0,l.kt)("p",null,(0,l.kt)("inlineCode",{parentName:"p"},"rows"),"\u4ee3\u8868\u7ed3\u679c\u8f93\u51fa\u7684\u884c\u6570\u3002"),(0,l.kt)("p",null,(0,l.kt)("inlineCode",{parentName:"p"},"rows_before_limit_at_least"),"\u4ee3\u8868\u53bb\u6389LIMIT\u8fc7\u6ee4\u540e\u7684\u6700\u5c0f\u884c\u603b\u6570\u3002\u53ea\u4f1a\u5728\u67e5\u8be2\u5305\u542bLIMIT\u6761\u4ef6\u65f6\u8f93\u51fa\u3002\u82e5\u67e5\u8be2\u5305\u542b GROUP BY\uff0c",(0,l.kt)("inlineCode",{parentName:"p"},"rows_before_limit_at_least"),"\u5c31\u662f\u53bb\u6389LIMIT\u540e\u8fc7\u6ee4\u540e\u7684\u51c6\u786e\u884c\u6570\u3002"),(0,l.kt)("p",null,(0,l.kt)("inlineCode",{parentName:"p"},"totals")," \u2013 \u603b\u503c (\u5f53\u6307\u5b9a",(0,l.kt)("inlineCode",{parentName:"p"},"WITH TOTALS"),"\u65f6)\u3002"),(0,l.kt)("p",null,(0,l.kt)("inlineCode",{parentName:"p"},"extremes")," \u2013 \u6781\u503c(\u5f53extremes\u8bbe\u7f6e\u4e3a1\u65f6)\u3002"),(0,l.kt)("p",null,"\u8be5\u683c\u5f0f\u4ec5\u9002\u7528\u4e8e\u8f93\u51fa\u67e5\u8be2\u7ed3\u679c\uff0c\u4f46\u4e0d\u9002\u7528\u4e8e\u89e3\u6790\u8f93\u5165(\u5c06\u6570\u636e\u63d2\u5165\u5230\u8868\u4e2d)\u3002"),(0,l.kt)("p",null,"ClickHouse\u652f\u6301",(0,l.kt)("a",{parentName:"p",href:"/zh/sql-reference/syntax"},"NULL"),", \u5728JSON\u8f93\u51fa\u4e2d\u663e\u793a\u4e3a",(0,l.kt)("inlineCode",{parentName:"p"},"null"),"\u3002\u82e5\u8981\u5728\u8f93\u51fa\u4e2d\u542f\u7528",(0,l.kt)("inlineCode",{parentName:"p"},"+nan"),"\u3001",(0,l.kt)("inlineCode",{parentName:"p"},"-nan"),"\u3001",(0,l.kt)("inlineCode",{parentName:"p"},"+inf"),"\u3001",(0,l.kt)("inlineCode",{parentName:"p"},"-inf"),"\u503c\uff0c\u8bf7\u8bbe\u7f6e",(0,l.kt)("a",{parentName:"p",href:"/zh/operations/settings/#settings-output_format_json_quote_denormals"},"output_format_json_quote_denormals"),"\u4e3a1\u3002"),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"\u53c2\u8003")),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",{parentName:"li",href:"#jsoneachrow"},"JSONEachRow"),"\u683c\u5f0f"),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",{parentName:"li",href:"/zh/operations/settings/#output-format-json-array-of-rows"},"output_format_json_array_of_rows"),"\u8bbe\u7f6e")),(0,l.kt)("h2",{id:"jsonstrings"},"JSONStrings"),(0,l.kt)("p",null,"\u4e0eJSON\u7684\u4e0d\u540c\u4e4b\u5904\u5728\u4e8e\u6570\u636e\u5b57\u6bb5\u4ee5\u5b57\u7b26\u4e32\u8f93\u51fa\uff0c\u800c\u4e0d\u662f\u4ee5\u7c7b\u578b\u5316JSON\u503c\u8f93\u51fa\u3002"),(0,l.kt)("p",null,"\u793a\u4f8b\uff1a"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-json"},'{\n        "meta":\n        [\n                {\n                        "name": "\'hello\'",\n                        "type": "String"\n                },\n                {\n                        "name": "multiply(42, number)",\n                        "type": "UInt64"\n                },\n                {\n                        "name": "range(5)",\n                        "type": "Array(UInt8)"\n                }\n        ],\n\n        "data":\n        [\n                {\n                        "\'hello\'": "hello",\n                        "multiply(42, number)": "0",\n                        "range(5)": "[0,1,2,3,4]"\n                },\n                {\n                        "\'hello\'": "hello",\n                        "multiply(42, number)": "42",\n                        "range(5)": "[0,1,2,3,4]"\n                },\n                {\n                        "\'hello\'": "hello",\n                        "multiply(42, number)": "84",\n                        "range(5)": "[0,1,2,3,4]"\n                }\n        ],\n\n        "rows": 3,\n\n        "rows_before_limit_at_least": 3\n}\n')),(0,l.kt)("p",null,"\u6ce8\u610frange(5)\u7684\u503c\u3002"),(0,l.kt)("h2",{id:"jsonasstring"},"JSONAsString"),(0,l.kt)("p",null,"\u5728\u8fd9\u79cd\u683c\u5f0f\u4e2d\uff0c\u4e00\u4e2aJSON\u5bf9\u8c61\u88ab\u89e3\u91ca\u4e3a\u4e00\u4e2a\u503c\u3002\u5982\u679c\u8f93\u5165\u6709\u51e0\u4e2aJSON\u5bf9\u8c61(\u9017\u53f7\u5206\u9694)\uff0c\u5b83\u4eec\u5c06\u88ab\u89e3\u91ca\u4e3a\u72ec\u7acb\u7684\u884c\u3002"),(0,l.kt)("p",null,"\u8fd9\u79cd\u683c\u5f0f\u53ea\u80fd\u9488\u5bf9\u6709\u4e00\u5217\u7c7b\u578b\u4e3a",(0,l.kt)("a",{parentName:"p",href:"/zh/sql-reference/data-types/string"},"String"),"\u7684\u8868\u3002\u8868\u4e2d\u5176\u4f59\u7684\u5217\u5fc5\u987b\u8bbe\u7f6e\u4e3a",(0,l.kt)("a",{parentName:"p",href:"/zh/sql-reference/statements/create"},"DEFAULT"),"\u6216",(0,l.kt)("a",{parentName:"p",href:"/zh/sql-reference/statements/create"},"MATERIALIZED"),"\uff0c\u6216\u8005\u5ffd\u7565\u3002\u4e00\u65e6\u5c06\u6574\u4e2aJSON\u5bf9\u8c61\u6536\u96c6\u4e3a\u5b57\u7b26\u4e32\uff0c\u5c31\u53ef\u4ee5\u4f7f\u7528",(0,l.kt)("a",{parentName:"p",href:"/zh/sql-reference/functions/json-functions"},"JSON\u51fd\u6570"),"\u8fd0\u884c\u5b83\u3002"),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"\u793a\u4f8b")),(0,l.kt)("p",null,"\u67e5\u8be2\uff1a"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-sql"},'DROP TABLE IF EXISTS json_as_string;\nCREATE TABLE json_as_string (json String) ENGINE = Memory;\nINSERT INTO json_as_string FORMAT JSONAsString {"foo":{"bar":{"x":"y"},"baz":1}},{},{"any json stucture":1}\nSELECT * FROM json_as_string;\n')),(0,l.kt)("p",null,"\u7ed3\u679c\uff1a"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-text"},'\u250c\u2500json\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502 {"foo":{"bar":{"x":"y"},"baz":1}} \u2502\n\u2502 {}                                \u2502\n\u2502 {"any json stucture":1}           \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n')),(0,l.kt)("h2",{id:"jsoncompact"},"JSONCompact"),(0,l.kt)("h2",{id:"jsoncompactstrings"},"JSONCompactStrings"),(0,l.kt)("p",null,"\u4e0eJSON\u683c\u5f0f\u4e0d\u540c\u7684\u662f\u5b83\u4ee5\u6570\u7ec4\u7684\u65b9\u5f0f\u8f93\u51fa\u7ed3\u679c\uff0c\u800c\u4e0d\u662f\u4ee5\u7ed3\u6784\u4f53\u3002"),(0,l.kt)("p",null,"\u793a\u4f8b\uff1a"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-json"},'// JSONCompact\n{\n        "meta":\n        [\n                {\n                        "name": "\'hello\'",\n                        "type": "String"\n                },\n                {\n                        "name": "multiply(42, number)",\n                        "type": "UInt64"\n                },\n                {\n                        "name": "range(5)",\n                        "type": "Array(UInt8)"\n                }\n        ],\n\n        "data":\n        [\n                ["hello", "0", [0,1,2,3,4]],\n                ["hello", "42", [0,1,2,3,4]],\n                ["hello", "84", [0,1,2,3,4]]\n        ],\n\n        "rows": 3,\n\n        "rows_before_limit_at_least": 3\n}\n')),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-json"},'// JSONCompactStrings\n{\n        "meta":\n        [\n                {\n                        "name": "\'hello\'",\n                        "type": "String"\n                },\n                {\n                        "name": "multiply(42, number)",\n                        "type": "UInt64"\n                },\n                {\n                        "name": "range(5)",\n                        "type": "Array(UInt8)"\n                }\n        ],\n\n        "data":\n        [\n                ["hello", "0", "[0,1,2,3,4]"],\n                ["hello", "42", "[0,1,2,3,4]"],\n                ["hello", "84", "[0,1,2,3,4]"]\n        ],\n\n        "rows": 3,\n\n        "rows_before_limit_at_least": 3\n}\n')),(0,l.kt)("h2",{id:"jsoneachrow"},"JSONEachRow"),(0,l.kt)("h2",{id:"jsonstringseachrow"},"JSONStringsEachRow"),(0,l.kt)("h2",{id:"jsoncompacteachrow"},"JSONCompactEachRow"),(0,l.kt)("h2",{id:"jsoncompactstringseachrow"},"JSONCompactStringsEachRow"),(0,l.kt)("p",null,"\u4f7f\u7528\u8fd9\u4e9b\u683c\u5f0f\u65f6\uff0cClickHouse\u4f1a\u5c06\u884c\u8f93\u51fa\u4e3a\u7528\u6362\u884c\u7b26\u5206\u9694\u7684JSON\u503c\uff0c\u8fd9\u4e9b\u8f93\u51fa\u6570\u636e\u4f5c\u4e3a\u4e00\u4e2a\u6574\u4f53\u65f6\uff0c\u7531\u4e8e\u6ca1\u6709\u5206\u9694\u7b26(,)\u56e0\u800c\u4e0d\u662f\u6709\u6548\u7684JSON\u6587\u6863\u3002"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-json"},'{"some_int":42,"some_str":"hello","some_tuple":[1,"a"]} // JSONEachRow\n[42,"hello",[1,"a"]] // JSONCompactEachRow\n["42","hello","(2,\'a\')"] // JSONCompactStringsEachRow\n')),(0,l.kt)("p",null,"\u5728\u63d2\u5165\u6570\u636e\u65f6\uff0c\u5e94\u8be5\u4e3a\u6bcf\u4e00\u884c\u63d0\u4f9b\u4e00\u4e2a\u5355\u72ec\u7684JSON\u503c\u3002"),(0,l.kt)("h2",{id:"jsoneachrowwithprogress"},"JSONEachRowWithProgress"),(0,l.kt)("h2",{id:"jsonstringseachrowwithprogress"},"JSONStringsEachRowWithProgress"),(0,l.kt)("p",null,"\u4e0e",(0,l.kt)("inlineCode",{parentName:"p"},"JSONEachRow"),"/",(0,l.kt)("inlineCode",{parentName:"p"},"JSONStringsEachRow"),"\u4e0d\u540c\u7684\u662f\uff0cClickHouse\u8fd8\u5c06\u751f\u6210\u4f5c\u4e3aJSON\u503c\u7684\u8fdb\u5ea6\u4fe1\u606f\u3002"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-json"},'{"row":{"\'hello\'":"hello","multiply(42, number)":"0","range(5)":[0,1,2,3,4]}}\n{"row":{"\'hello\'":"hello","multiply(42, number)":"42","range(5)":[0,1,2,3,4]}}\n{"row":{"\'hello\'":"hello","multiply(42, number)":"84","range(5)":[0,1,2,3,4]}}\n{"progress":{"read_rows":"3","read_bytes":"24","written_rows":"0","written_bytes":"0","total_rows_to_read":"3"}}\n')),(0,l.kt)("h2",{id:"jsoncompacteachrowwithnamesandtypes"},"JSONCompactEachRowWithNamesAndTypes"),(0,l.kt)("h2",{id:"jsoncompactstringseachrowwithnamesandtypes"},"JSONCompactStringsEachRowWithNamesAndTypes"),(0,l.kt)("p",null,"\u4e0e",(0,l.kt)("inlineCode",{parentName:"p"},"JSONCompactEachRow"),"/",(0,l.kt)("inlineCode",{parentName:"p"},"JSONCompactStringsEachRow"),"\u4e0d\u540c\u7684\u662f\uff0c\u5217\u540d\u548c\u7c7b\u578b\u88ab\u5199\u5165\u524d\u4e24\u884c\u3002"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-json"},'["\'hello\'", "multiply(42, number)", "range(5)"]\n["String", "UInt64", "Array(UInt8)"]\n["hello", "0", [0,1,2,3,4]]\n["hello", "42", [0,1,2,3,4]]\n["hello", "84", [0,1,2,3,4]]\n')),(0,l.kt)("h3",{id:"inserting-data"},"Inserting Data"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-sql"},'INSERT INTO UserActivity FORMAT JSONEachRow {"PageViews":5, "UserID":"4324182021466249494", "Duration":146,"Sign":-1} {"UserID":"4324182021466249494","PageViews":6,"Duration":185,"Sign":1}\n')),(0,l.kt)("p",null,"ClickHouse\u5141\u8bb8:"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"\u4ee5\u4efb\u610f\u987a\u5e8f\u6392\u5217\u5217\u540d\uff0c\u540e\u8ddf\u5bf9\u5e94\u7684\u503c\u3002"),(0,l.kt)("li",{parentName:"ul"},"\u7701\u7565\u4e00\u4e9b\u503c\u3002")),(0,l.kt)("p",null,"ClickHouse\u5ffd\u7565\u5143\u7d20\u4e4b\u95f4\u7684\u7a7a\u683c\u548c\u5bf9\u8c61\u540e\u9762\u7684\u9017\u53f7\u3002\u60a8\u53ef\u4ee5\u5728\u4e00\u884c\u4e2d\u4f20\u9012\u6240\u6709\u5bf9\u8c61\uff0c\u4e0d\u9700\u8981\u7528\u6362\u884c\u7b26\u628a\u5b83\u4eec\u5206\u5f00\u3002"),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"\u7701\u7565\u503c\u5904\u7406")),(0,l.kt)("p",null,"ClickHouse\u5c06\u7701\u7565\u7684\u503c\u66ff\u6362\u4e3a\u5bf9\u5e94\u7684",(0,l.kt)("a",{parentName:"p",href:"/zh/sql-reference/data-types/"},"\u6570\u636e\u7c7b\u578b"),"\u9ed8\u8ba4\u503c\u3002"),(0,l.kt)("p",null,"\u5982\u679c\u6307\u5b9a\u4e86",(0,l.kt)("inlineCode",{parentName:"p"},"DEFAULT expr"),"\uff0c\u5219ClickHouse\u6839\u636e\u5c5e\u6027\u4f7f\u7528\u4e0d\u540c\u7684\u66ff\u6362\u89c4\u5219\uff0c\u8be6\u770b",(0,l.kt)("a",{parentName:"p",href:"/zh/operations/settings/#session_settings-input_format_defaults_for_omitted_fields"},"input_format_defaults_for_omitted_fields"),"\u8bbe\u7f6e\u3002"),(0,l.kt)("p",null,"\u53c2\u8003\u4e0b\u9762\u7684\u4f8b\u5b50\uff1a"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-sql"},"CREATE TABLE IF NOT EXISTS example_table\n(\n    x UInt32,\n    a DEFAULT x * 2\n) ENGINE = Memory;\n")),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"\u5982\u679c",(0,l.kt)("inlineCode",{parentName:"li"},"input_format_defaults_for_omitted_fields = 0"),", \u90a3\u4e48",(0,l.kt)("inlineCode",{parentName:"li"},"x"),"\u548c",(0,l.kt)("inlineCode",{parentName:"li"},"a"),"\u7684\u9ed8\u8ba4\u503c\u7b49\u4e8e",(0,l.kt)("inlineCode",{parentName:"li"},"0"),"(\u4f5c\u4e3a",(0,l.kt)("inlineCode",{parentName:"li"},"UInt32"),"\u6570\u636e\u7c7b\u578b\u7684\u9ed8\u8ba4\u503c)\u3002"),(0,l.kt)("li",{parentName:"ul"},"\u5982\u679c",(0,l.kt)("inlineCode",{parentName:"li"},"input_format_defaults_for_omitted_fields = 1"),", \u90a3\u4e48",(0,l.kt)("inlineCode",{parentName:"li"},"x"),"\u7684\u9ed8\u8ba4\u503c\u4e3a",(0,l.kt)("inlineCode",{parentName:"li"},"0"),"\uff0c\u4f46",(0,l.kt)("inlineCode",{parentName:"li"},"a"),"\u7684\u9ed8\u8ba4\u503c\u4e3a",(0,l.kt)("inlineCode",{parentName:"li"},"x * 2"),"\u3002")),(0,l.kt)("p",null,'!!! note "\u6ce8\u610f"\n\u5f53\u4f7f\u7528',(0,l.kt)("inlineCode",{parentName:"p"},"input_format_defaults_for_omitted_fields = 1"),"\u63d2\u5165\u6570\u636e\u65f6\uff0c\u4e0e\u4f7f\u7528",(0,l.kt)("inlineCode",{parentName:"p"},"input_format_defaults_for_omitted_fields = 0"),"\u76f8\u6bd4\uff0cClickHouse\u6d88\u8017\u66f4\u591a\u7684\u8ba1\u7b97\u8d44\u6e90\u3002"),(0,l.kt)("h3",{id:"selecting-data"},"Selecting Data"),(0,l.kt)("p",null,"\u4ee5",(0,l.kt)("inlineCode",{parentName:"p"},"UserActivity"),"\u8868\u4e3a\u4f8b:"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-text"},"\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500UserID\u2500\u252c\u2500PageViews\u2500\u252c\u2500Duration\u2500\u252c\u2500Sign\u2500\u2510\n\u2502 4324182021466249494 \u2502         5 \u2502      146 \u2502   -1 \u2502\n\u2502 4324182021466249494 \u2502         6 \u2502      185 \u2502    1 \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n")),(0,l.kt)("p",null,"\u5f53\u67e5\u8be2",(0,l.kt)("inlineCode",{parentName:"p"},"SELECT * FROM UserActivity FORMAT JSONEachRow"),"\u8fd4\u56de:"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-text"},'{"UserID":"4324182021466249494","PageViews":5,"Duration":146,"Sign":-1}\n{"UserID":"4324182021466249494","PageViews":6,"Duration":185,"Sign":1}\n')),(0,l.kt)("p",null,"\u4e0e",(0,l.kt)("a",{parentName:"p",href:"#json"},"JSON"),"\u683c\u5f0f\u4e0d\u540c\uff0c\u6ca1\u6709\u66ff\u6362\u65e0\u6548\u7684UTF-8\u5e8f\u5217\u3002\u503c\u4ee5\u4e0e",(0,l.kt)("inlineCode",{parentName:"p"},"JSON"),"\u76f8\u540c\u7684\u65b9\u5f0f\u8f6c\u4e49\u3002"),(0,l.kt)("p",null,'!!! note "\u63d0\u793a"\n\u5b57\u7b26\u4e32\u4e2d\u53ef\u4ee5\u8f93\u51fa\u4efb\u610f\u4e00\u7ec4\u5b57\u8282\u3002\u5982\u679c\u60a8\u786e\u4fe1\u8868\u4e2d\u7684\u6570\u636e\u53ef\u4ee5\u88ab\u683c\u5f0f\u5316\u4e3aJSON\u800c\u4e0d\u4f1a\u4e22\u5931\u4efb\u4f55\u4fe1\u606f\uff0c\u90a3\u4e48\u5c31\u4f7f\u7528',(0,l.kt)("inlineCode",{parentName:"p"},"JSONEachRow"),"\u683c\u5f0f\u3002"),(0,l.kt)("h3",{id:"jsoneachrow-nested"},"Nested Structures"),(0,l.kt)("p",null,"\u5982\u679c\u60a8\u6709\u4e00\u4e2a\u5305\u542b",(0,l.kt)("a",{parentName:"p",href:"/zh/sql-reference/data-types/nested-data-structures/nested"},"Nested"),"\u6570\u636e\u7c7b\u578b\u5217\u7684\u8868\uff0c\u60a8\u53ef\u4ee5\u63d2\u5165\u5177\u6709\u76f8\u540c\u7ed3\u6784\u7684JSON\u6570\u636e\u3002\u4f7f\u7528",(0,l.kt)("a",{parentName:"p",href:"/zh/operations/settings/#settings-input_format_import_nested_json"},"input_format_import_nested_json"),"\u8bbe\u7f6e\u542f\u7528\u8be5\u7279\u6027\u3002"),(0,l.kt)("p",null,"\u4f8b\u5982\uff0c\u8bf7\u53c2\u8003\u4e0b\u8868:"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-sql"},"CREATE TABLE json_each_row_nested (n Nested (s String, i Int32) ) ENGINE = Memory\n")),(0,l.kt)("p",null,"\u6b63\u5982\u60a8\u5728",(0,l.kt)("inlineCode",{parentName:"p"},"Nested"),"\u6570\u636e\u7c7b\u578b\u63cf\u8ff0\u4e2d\u770b\u5230\u7684\uff0cClickHouse\u5c06\u5d4c\u5957\u7ed3\u6784\u7684\u6bcf\u4e2a\u90e8\u5206\u4f5c\u4e3a\u4e00\u4e2a\u5355\u72ec\u7684\u5217(",(0,l.kt)("inlineCode",{parentName:"p"},"n.s"),"\u548c",(0,l.kt)("inlineCode",{parentName:"p"},"n.i"),")\u3002\u60a8\u53ef\u4ee5\u901a\u8fc7\u4ee5\u4e0b\u65b9\u5f0f\u63d2\u5165\u6570\u636e:"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-sql"},'INSERT INTO json_each_row_nested FORMAT JSONEachRow {"n.s": ["abc", "def"], "n.i": [1, 23]}\n')),(0,l.kt)("p",null,"\u5c06\u6570\u636e\u4f5c\u4e3a\u5206\u5c42JSON\u5bf9\u8c61\u96c6\u63d2\u5165\uff0c\u9700\u8981\u8bbe\u7f6e",(0,l.kt)("a",{parentName:"p",href:"/zh/operations/settings/#settings-input_format_import_nested_json"},"input_format_import_nested_json=1"),"\u3002"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-json"},'{\n    "n": {\n        "s": ["abc", "def"],\n        "i": [1, 23]\n    }\n}\n')),(0,l.kt)("p",null,"\u5982\u679c\u6ca1\u6709\u6b64\u8bbe\u7f6e\uff0cClickHouse\u5c06\u5f15\u53d1\u5f02\u5e38\u3002"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-sql"},"SELECT name, value FROM system.settings WHERE name = 'input_format_import_nested_json'\n")),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-text"},"\u250c\u2500name\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500value\u2500\u2510\n\u2502 input_format_import_nested_json \u2502 0     \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n")),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-sql"},'INSERT INTO json_each_row_nested FORMAT JSONEachRow {"n": {"s": ["abc", "def"], "i": [1, 23]}}\n')),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-text"},"Code: 117. DB::Exception: Unknown field found while parsing JSONEachRow format: n: (at row 1)\n")),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-sql"},'SET input_format_import_nested_json=1\nINSERT INTO json_each_row_nested FORMAT JSONEachRow {"n": {"s": ["abc", "def"], "i": [1, 23]}}\nSELECT * FROM json_each_row_nested\n')),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-text"},"\u250c\u2500n.s\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500n.i\u2500\u2500\u2500\u2500\u2510\n\u2502 ['abc','def'] \u2502 [1,23] \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n")),(0,l.kt)("h2",{id:"native"},"Native"),(0,l.kt)("p",null,"\u6700\u9ad8\u6027\u80fd\u7684\u683c\u5f0f\u3002\u901a\u8fc7\u4e8c\u8fdb\u5236\u683c\u5f0f\u7684\u5757\u8fdb\u884c\u5199\u5165\u548c\u8bfb\u53d6\u3002\u5bf9\u4e8e\u6bcf\u4e2a\u5757\uff0c\u8be5\u4e2d\u7684\u884c\u6570\uff0c\u5217\u6570\uff0c\u5217\u540d\u79f0\u548c\u7c7b\u578b\u4ee5\u53ca\u5217\u7684\u90e8\u5206\u5c06\u88ab\u76f8\u7ee7\u8bb0\u5f55\u3002\u6362\u53e5\u8bdd\u8bf4\uff0c\u8fd9\u79cd\u683c\u5f0f\u662f",(0,l.kt)("inlineCode",{parentName:"p"},"columnar"),"\u7684 - \u5b83\u4e0d\u4f1a\u5c06\u5217\u8f6c\u6362\u4e3a\u884c\u3002\u8fd9\u79cd\u683c\u5f0f\u7528\u4e8e\u670d\u52a1\u5668\u95f4\u4ea4\u4e92\u3001\u547d\u4ee4\u884c\u5ba2\u6237\u7aef\u548cC++\u5ba2\u6237\u7aef\u4e0e\u670d\u52a1\u5668\u4ea4\u4e92\u3002"),(0,l.kt)("p",null,"\u60a8\u53ef\u4ee5\u4f7f\u7528\u6b64\u683c\u5f0f\u5feb\u901f\u751f\u6210\u53ea\u80fd\u7531ClickHouse DBMS\u8bfb\u53d6\u7684\u683c\u5f0f\u3002\u4f46\u81ea\u5df1\u5904\u7406\u8fd9\u79cd\u683c\u5f0f\u662f\u6ca1\u6709\u610f\u4e49\u7684\u3002"),(0,l.kt)("h2",{id:"null"},"Null"),(0,l.kt)("p",null,"\u6ca1\u6709\u8f93\u51fa\u3002\u4f46\u662f\uff0c\u67e5\u8be2\u5df2\u5904\u7406\u5b8c\u6bd5\uff0c\u5e76\u4e14\u5728\u4f7f\u7528\u547d\u4ee4\u884c\u5ba2\u6237\u7aef\u65f6\uff0c\u6570\u636e\u5c06\u4f20\u8f93\u5230\u5ba2\u6237\u7aef\u3002\u8fd9\u4ec5\u7528\u4e8e\u6d4b\u8bd5\uff0c\u5305\u62ec\u6027\u80fd\u6d4b\u8bd5\u3002\n\u663e\u7136\uff0c\u8fd9\u79cd\u683c\u5f0f\u53ea\u9002\u7528\u4e8e\u8f93\u51fa\uff0c\u4e0d\u9002\u7528\u4e8e\u89e3\u6790\u3002"),(0,l.kt)("h2",{id:"pretty"},"Pretty"),(0,l.kt)("p",null,"\u5c06\u6570\u636e\u4ee5\u8868\u683c\u5f62\u5f0f\u8f93\u51fa\uff0c\u4e5f\u53ef\u4ee5\u4f7f\u7528ANSI\u8f6c\u4e49\u5b57\u7b26\u5728\u7ec8\u7aef\u4e2d\u8bbe\u7f6e\u989c\u8272\u3002\n\u5b83\u4f1a\u7ed8\u5236\u4e00\u4e2a\u5b8c\u6574\u7684\u8868\u683c\uff0c\u6bcf\u884c\u6570\u636e\u5728\u7ec8\u7aef\u4e2d\u5360\u7528\u4e24\u884c\u3002\n\u6bcf\u4e2a\u7ed3\u679c\u5757\u4f5c\u4e3a\u4e00\u4e2a\u5355\u72ec\u7684\u8868\u8f93\u51fa\u3002\u8fd9\u662f\u5fc5\u8981\u7684\uff0c\u4ee5\u4fbf\u5728\u8f93\u51fa\u5757\u65f6\u4e0d\u7f13\u51b2\u7ed3\u679c(\u4e3a\u4e86\u9884\u5148\u8ba1\u7b97\u6240\u6709\u503c\u7684\u53ef\u89c1\u5bbd\u5ea6\uff0c\u7f13\u51b2\u662f\u5fc5\u8981\u7684)\u3002"),(0,l.kt)("p",null,(0,l.kt)("a",{parentName:"p",href:"/zh/sql-reference/syntax"},"NULL"),"\u8f93\u51fa\u4e3a",(0,l.kt)("inlineCode",{parentName:"p"},"\u1d3a\u1d41\u1d38\u1d38"),"\u3002"),(0,l.kt)("p",null,"\u793a\u4f8b"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-sql"},"SELECT * FROM system.numbers limit 2 format Pretty;\n")),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-text"},"\u250f\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2513\n\u2503 number \u2503\n\u2521\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2529\n\u2502      0 \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502      1 \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n")),(0,l.kt)("p",null,"Pretty\u7684\u6240\u6709\u683c\u5f0f\u4e0d\u8fdb\u884c\u5b57\u7b26\u8f6c\u4e49\u3002\u793a\u4f8b\u663e\u793a\u4e86",(0,l.kt)("a",{parentName:"p",href:"#prettycompact"},"PrettyCompact"),"\u683c\u5f0f:"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-sql"},"SELECT 'String with \\'quotes\\' and \\t character' AS Escaping_test\n")),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-text"},"\u250c\u2500Escaping_test\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502 String with 'quotes' and      character \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n")),(0,l.kt)("p",null,"\u4e3a\u907f\u514d\u5c06\u592a\u591a\u6570\u636e\u4f20\u8f93\u5230\u7ec8\u7aef\uff0c\u53ea\u6253\u5370\u524d10,000\u884c\u3002 \u5982\u679c\u884c\u6570\u5927\u4e8e\u6216\u7b49\u4e8e10,000\uff0c\u5219\u4f1a\u663e\u793a\u6d88\u606f",(0,l.kt)("inlineCode",{parentName:"p"},"Showed first 10 000"),"\u3002\n\u8be5\u683c\u5f0f\u4ec5\u9002\u7528\u4e8e\u8f93\u51fa\u67e5\u8be2\u7ed3\u679c\uff0c\u4f46\u4e0d\u9002\u7528\u4e8e\u89e3\u6790\u8f93\u5165(\u5c06\u6570\u636e\u63d2\u5165\u5230\u8868\u4e2d)\u3002"),(0,l.kt)("p",null,"Pretty\u683c\u5f0f\u652f\u6301\u8f93\u51fa\u5408\u8ba1\u503c(\u5f53\u4f7f\u7528WITH TOTALS\u65f6)\u548c\u6781\u503c(\u5f53",(0,l.kt)("inlineCode",{parentName:"p"},"extremes"),"\u8bbe\u7f6e\u4e3a1\u65f6)\u3002\u5728\u8fd9\u4e9b\u60c5\u51b5\u4e0b\uff0c\u5408\u8ba1\u503c\u548c\u6781\u503c\u5c06\u8f93\u51fa\u5728\u4e3b\u8981\u6570\u636e\u4e4b\u540e\uff0c\u5728\u5355\u72ec\u7684\u8868\u4e2d\u3002\u793a\u4f8b(\u663e\u793a\u4e3a",(0,l.kt)("a",{parentName:"p",href:"#prettycompact"},"PrettyCompact"),"\u683c\u5f0f):"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-sql"},"SELECT EventDate, count() AS c FROM test.hits GROUP BY EventDate WITH TOTALS ORDER BY EventDate FORMAT PrettyCompact\n")),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-text"},"\u250c\u2500\u2500EventDate\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500c\u2500\u2510\n\u2502 2014-03-17 \u2502 1406958 \u2502\n\u2502 2014-03-18 \u2502 1383658 \u2502\n\u2502 2014-03-19 \u2502 1405797 \u2502\n\u2502 2014-03-20 \u2502 1353623 \u2502\n\u2502 2014-03-21 \u2502 1245779 \u2502\n\u2502 2014-03-22 \u2502 1031592 \u2502\n\u2502 2014-03-23 \u2502 1046491 \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n\nTotals:\n\u250c\u2500\u2500EventDate\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500c\u2500\u2510\n\u2502 1970-01-01 \u2502 8873898 \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n\nExtremes:\n\u250c\u2500\u2500EventDate\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500c\u2500\u2510\n\u2502 2014-03-17 \u2502 1031592 \u2502\n\u2502 2014-03-23 \u2502 1406958 \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n")),(0,l.kt)("h2",{id:"prettycompact"},"PrettyCompact"),(0,l.kt)("p",null,"\u4e0e",(0,l.kt)("a",{parentName:"p",href:"#pretty"},"Pretty"),"\u683c\u5f0f\u4e0d\u4e00\u6837\u7684\u662f",(0,l.kt)("inlineCode",{parentName:"p"},"PrettyCompact"),"\u53bb\u6389\u4e86\u884c\u4e4b\u95f4\u7684\u8868\u683c\u5206\u5272\u7ebf\uff0c\u8fd9\u6837\u4f7f\u5f97\u7ed3\u679c\u66f4\u52a0\u7d27\u51d1\u3002\n\u8fd9\u79cd\u683c\u5f0f\u4f1a\u5728\u4ea4\u4e92\u547d\u4ee4\u884c\u5ba2\u6237\u7aef\u4e0b\u9ed8\u8ba4\u4f7f\u7528\u3002"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-sql"},"select * from system.numbers limit 2 format PrettyCompact;\n")),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-text"},"\u250c\u2500number\u2500\u2510\n\u2502      0 \u2502\n\u2502      1 \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n\n")),(0,l.kt)("h2",{id:"prettycompactmonoblock"},"PrettyCompactMonoBlock"),(0,l.kt)("p",null,"\u4e0e",(0,l.kt)("a",{parentName:"p",href:"#prettycompact"},"PrettyCompact"),"\u683c\u5f0f\u4e0d\u4e00\u6837\u7684\u662f\uff0c\u5b83\u652f\u630110,000\u884c\u6570\u636e\u7f13\u51b2\uff0c\u7136\u540e\u8f93\u51fa\u5728\u4e00\u4e2a\u8868\u683c\u4e2d\uff0c\u800c\u4e0d\u5206\u5757\u3002"),(0,l.kt)("h2",{id:"prettynoescapes"},"PrettyNoEscapes"),(0,l.kt)("p",null,"\u4e0e",(0,l.kt)("inlineCode",{parentName:"p"},"Pretty"),"\u683c\u5f0f\u4e0d\u4e00\u6837\u7684\u662f\uff0c\u5b83\u4e0d\u4f7f\u7528ANSI\u5b57\u7b26\u8f6c\u4e49\uff0c\u8fd9\u5728\u6d4f\u89c8\u5668\u663e\u793a\u6570\u636e\u4ee5\u53ca\u5728\u4f7f\u7528",(0,l.kt)("inlineCode",{parentName:"p"},"watch"),"\u547d\u4ee4\u884c\u5de5\u5177\u662f\u6709\u5fc5\u8981\u7684\u3002"),(0,l.kt)("p",null,"\u793a\u4f8b\uff1a"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"watch -n1 \"clickhouse-client --query='SELECT event, value FROM system.events FORMAT PrettyCompactNoEscapes'\"\n")),(0,l.kt)("p",null,"\u60a8\u53ef\u4ee5\u4f7f\u7528HTTP\u63a5\u53e3\u6765\u83b7\u53d6\u6570\u636e\uff0c\u663e\u793a\u5728\u6d4f\u89c8\u5668\u4e2d\u3002"),(0,l.kt)("h3",{id:"prettycompactnoescapes"},"PrettyCompactNoEscapes"),(0,l.kt)("p",null,"\u7528\u6cd5\u7c7b\u4f3c\u4e0a\u8ff0\u3002"),(0,l.kt)("h3",{id:"prettyspacenoescapes"},"PrettySpaceNoEscapes"),(0,l.kt)("p",null,"\u7528\u6cd5\u7c7b\u4f3c\u4e0a\u8ff0\u3002"),(0,l.kt)("h2",{id:"prettyspace"},"PrettySpace"),(0,l.kt)("p",null,"\u4e0e",(0,l.kt)("a",{parentName:"p",href:"#prettycompact"},"PrettyCompact"),"\u683c\u5f0f\u4e0d\u4e00\u6837\u7684\u662f\uff0c\u5b83\u4f7f\u7528\u7a7a\u683c\u6765\u4ee3\u66ff\u7f51\u683c\u6765\u663e\u793a\u6570\u636e\u3002"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-sql"},"select * from system.numbers limit 2 format PrettySpace;\n")),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-text"},"number\n\n     0\n     1\n")),(0,l.kt)("h2",{id:"rowbinary"},"RowBinary"),(0,l.kt)("p",null,"\u4ee5\u4e8c\u8fdb\u5236\u683c\u5f0f\u9010\u884c\u683c\u5f0f\u5316\u548c\u89e3\u6790\u6570\u636e\u3002\u884c\u548c\u503c\u8fde\u7eed\u5217\u51fa\uff0c\u6ca1\u6709\u5206\u9694\u7b26\u3002\n\u8fd9\u79cd\u683c\u5f0f\u6bd4 Native \u683c\u5f0f\u6548\u7387\u4f4e\uff0c\u56e0\u4e3a\u5b83\u662f\u57fa\u4e8e\u884c\u7684\u3002"),(0,l.kt)("p",null,"\u6574\u6570\u4f7f\u7528\u56fa\u5b9a\u957f\u5ea6\u7684\u5c0f\u7aef\u8868\u793a\u6cd5\u3002 \u4f8b\u5982\uff0cUInt64 \u4f7f\u75288\u4e2a\u5b57\u8282\u3002\nDateTime \u88ab\u8868\u793a\u4e3a UInt32 \u7c7b\u578b\u7684Unix \u65f6\u95f4\u6233\u503c\u3002\nDate \u88ab\u8868\u793a\u4e3a UInt16 \u5bf9\u8c61\uff0c\u5b83\u7684\u503c\u4e3a\u81ea1970-01-01\u4ee5\u6765\u7ecf\u8fc7\u7684\u5929\u6570\u3002\n\u5b57\u7b26\u4e32\u8868\u793a\u4e3a varint \u957f\u5ea6(\u65e0\u7b26\u53f7 ",(0,l.kt)("a",{parentName:"p",href:"https://en.wikipedia.org/wiki/LEB128"},"LEB128"),")\uff0c\u540e\u8ddf\u5b57\u7b26\u4e32\u7684\u5b57\u8282\u6570\u3002\nFixedString \u88ab\u7b80\u5355\u5730\u8868\u793a\u4e3a\u5b57\u8282\u5e8f\u5217\u3002"),(0,l.kt)("p",null,"\u6570\u7ec4\u8868\u793a\u4e3a varint \u957f\u5ea6(\u65e0\u7b26\u53f7 ",(0,l.kt)("a",{parentName:"p",href:"https://en.wikipedia.org/wiki/LEB128"},"LEB128"),")\uff0c\u540e\u8ddf\u6709\u5e8f\u7684\u6570\u7ec4\u5143\u7d20\u3002"),(0,l.kt)("p",null,"\u5bf9\u4e8e ",(0,l.kt)("a",{parentName:"p",href:"/zh/sql-reference/syntax#null-literal"},"NULL")," \u7684\u652f\u6301\uff0c \u4e00\u4e2a\u4e3a 1 \u6216 0 \u7684\u5b57\u8282\u4f1a\u52a0\u5728\u6bcf\u4e2a ",(0,l.kt)("a",{parentName:"p",href:"/zh/sql-reference/data-types/nullable"},"\u53ef\u4e3a\u7a7a")," \u503c\u524d\u9762\u3002\u5982\u679c\u4e3a 1, \u90a3\u4e48\u8be5\u503c\u5c31\u662f ",(0,l.kt)("inlineCode",{parentName:"p"},"NULL"),"\u3002 \u5982\u679c\u4e3a 0\uff0c\u5219\u4e0d\u4e3a ",(0,l.kt)("inlineCode",{parentName:"p"},"NULL"),"\u3002"),(0,l.kt)("h2",{id:"rowbinarywithnamesandtypes"},"RowBinaryWithNamesAndTypes"),(0,l.kt)("p",null,"\u7c7b\u4f3c\u4e8e ",(0,l.kt)("a",{parentName:"p",href:"#rowbinary"},"RowBinary"),"\uff0c\u4f46\u6dfb\u52a0\u4e86\u5934\u90e8\u4fe1\u606f:"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",{parentName:"li",href:"https://en.wikipedia.org/wiki/LEB128"},"LEB128"),"-\u7f16\u7801\u5217\u6570(N)"),(0,l.kt)("li",{parentName:"ul"},"N ",(0,l.kt)("inlineCode",{parentName:"li"},"String"),"s\u6307\u5b9a\u5217\u540d"),(0,l.kt)("li",{parentName:"ul"},"N ",(0,l.kt)("inlineCode",{parentName:"li"},"String"),"s\u6307\u5b9a\u5217\u7c7b\u578b")),(0,l.kt)("h2",{id:"data-format-values"},"Values"),(0,l.kt)("p",null,"\u5728\u62ec\u53f7\u4e2d\u6253\u5370\u6bcf\u4e00\u884c\u3002\u884c\u7531\u9017\u53f7\u5206\u9694\u3002\u6700\u540e\u4e00\u884c\u4e4b\u540e\u6ca1\u6709\u9017\u53f7\u3002\u62ec\u53f7\u5185\u7684\u503c\u4e5f\u7528\u9017\u53f7\u5206\u9694\u3002\u6570\u5b57\u4ee5\u5341\u8fdb\u5236\u683c\u5f0f\u8f93\u51fa\uff0c\u4e0d\u542b\u5f15\u53f7\u3002 \u6570\u7ec4\u4ee5\u65b9\u62ec\u53f7\u8f93\u51fa\u3002\u5b57\u7b26\u4e32\u3001\u65e5\u671f\u3001\u65e5\u671f\u65f6\u95f4\u7528\u5f15\u53f7\u5305\u56f4\u8f93\u51fa\u3002\u8f6c\u4e49\u5b57\u7b26\u7684\u89e3\u6790\u89c4\u5219\u4e0e ",(0,l.kt)("a",{parentName:"p",href:"#tabseparated"},"TabSeparated")," \u683c\u5f0f\u7c7b\u4f3c\u3002 \u5728\u683c\u5f0f\u5316\u8fc7\u7a0b\u4e2d\uff0c\u4e0d\u63d2\u5165\u989d\u5916\u7684\u7a7a\u683c\uff0c\u4f46\u5728\u89e3\u6790\u8fc7\u7a0b\u4e2d\uff0c\u7a7a\u683c\u662f\u88ab\u5141\u8bb8\u5e76\u8df3\u8fc7\u7684(\u9664\u4e86\u6570\u7ec4\u503c\u4e4b\u5916\u7684\u7a7a\u683c\uff0c\u8fd9\u662f\u4e0d\u5141\u8bb8\u7684)\u3002",(0,l.kt)("a",{parentName:"p",href:"/zh/sql-reference/syntax"},"NULL")," \u4e3a ",(0,l.kt)("inlineCode",{parentName:"p"},"NULL"),"\u3002"),(0,l.kt)("p",null,"\u4ee5 Values \u683c\u5f0f\u4f20\u9012\u6570\u636e\u65f6\u9700\u8981\u8f6c\u4e49\u7684\u6700\u5c0f\u5b57\u7b26\u96c6\u662f\uff1a\u5355\u5f15\u53f7\u548c\u53cd\u659c\u7ebf\u3002"),(0,l.kt)("p",null,"\u8fd9\u662f ",(0,l.kt)("inlineCode",{parentName:"p"},"INSERT INTO t VALUES ...")," \u4e2d\u53ef\u4ee5\u4f7f\u7528\u7684\u683c\u5f0f\uff0c\u4f46\u60a8\u4e5f\u53ef\u4ee5\u5c06\u5176\u7528\u4e8e\u67e5\u8be2\u7ed3\u679c\u3002"),(0,l.kt)("p",null,"\u53e6\u89c1\uff1a",(0,l.kt)("a",{parentName:"p",href:"https://clickhouse.com/docs/en/operations/settings/settings/#settings-input_format_values_interpret_expressions"},"input_format_values_interpret_expressions"),"\u548c",(0,l.kt)("a",{parentName:"p",href:"https://clickhouse.com/docs/en/operations/settings/settings/#settings-input_format_values_deduce_templates_of_expressions"},"input_format_values_deduce_templates_of_expressions"),"\u3002"),(0,l.kt)("h2",{id:"vertical"},"Vertical"),(0,l.kt)("p",null,"\u6839\u636e\u6307\u5b9a\u7684\u5217\u540d\uff0c\u6253\u5370\u51fa\u6bcf\u4e00\u884c\u7684\u503c\u3002\u8fd9\u79cd\u683c\u5f0f\u9002\u7528\u4e8e\u5177\u6709\u5927\u91cf\u7684\u5217\u65f6\uff0c\u663e\u793a\u51e0\u4e2a\u5217\u3002",(0,l.kt)("a",{parentName:"p",href:"/zh/sql-reference/syntax"},"NULL")," \u8f93\u51fa\u4e3a ",(0,l.kt)("inlineCode",{parentName:"p"},"\u1d3a\u1d41\u1d38\u1d38"),"\u3002"),(0,l.kt)("p",null,"\u793a\u4f8b:"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-sql"},"SELECT * FROM t_null FORMAT Vertical\n")),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre"},"Row 1:\n\u2500\u2500\u2500\u2500\u2500\u2500\nx: 1\ny: \u1d3a\u1d41\u1d38\u1d38\n")),(0,l.kt)("p",null,"\u8be5\u683c\u5f0f\u4ec5\u9002\u7528\u4e8e\u8f93\u51fa\u67e5\u8be2\u7ed3\u679c\uff0c\u4f46\u4e0d\u9002\u7528\u4e8e\u89e3\u6790\u8f93\u5165(\u5c06\u6570\u636e\u63d2\u5165\u5230\u8868\u4e2d)\u3002"),(0,l.kt)("h2",{id:"xml"},"XML"),(0,l.kt)("p",null,"\u8be5\u683c\u5f0f\u4ec5\u9002\u7528\u4e8e\u8f93\u51fa\u67e5\u8be2\u7ed3\u679c\uff0c\u4f46\u4e0d\u9002\u7528\u4e8e\u89e3\u6790\u8f93\u5165\uff0c\u793a\u4f8b\uff1a"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-xml"},"<?xml version='1.0' encoding='UTF-8' ?>\n<result>\n        <meta>\n                <columns>\n                        <column>\n                                <name>SearchPhrase</name>\n                                <type>String</type>\n                        </column>\n                        <column>\n                                <name>count()</name>\n                                <type>UInt64</type>\n                        </column>\n                </columns>\n        </meta>\n        <data>\n                <row>\n                        <SearchPhrase></SearchPhrase>\n                        <field>8267016</field>\n                </row>\n                <row>\n                        <SearchPhrase>bathroom interior design</SearchPhrase>\n                        <field>2166</field>\n                </row>\n                <row>\n                        <SearchPhrase>yandex</SearchPhrase>\n                        <field>1655</field>\n                </row>\n                <row>\n                        <SearchPhrase>2014 spring fashion</SearchPhrase>\n                        <field>1549</field>\n                </row>\n                <row>\n                        <SearchPhrase>freeform photos</SearchPhrase>\n                        <field>1480</field>\n                </row>\n                <row>\n                        <SearchPhrase>angelina jolie</SearchPhrase>\n                        <field>1245</field>\n                </row>\n                <row>\n                        <SearchPhrase>omsk</SearchPhrase>\n                        <field>1112</field>\n                </row>\n                <row>\n                        <SearchPhrase>photos of dog breeds</SearchPhrase>\n                        <field>1091</field>\n                </row>\n                <row>\n                        <SearchPhrase>curtain designs</SearchPhrase>\n                        <field>1064</field>\n                </row>\n                <row>\n                        <SearchPhrase>baku</SearchPhrase>\n                        <field>1000</field>\n                </row>\n        </data>\n        <rows>10</rows>\n        <rows_before_limit_at_least>141137</rows_before_limit_at_least>\n</result>\n")),(0,l.kt)("p",null,"\u5982\u679c\u5217\u540d\u79f0\u6ca1\u6709\u53ef\u63a5\u53d7\u7684\u683c\u5f0f\uff0c\u5219\u4ec5\u4f7f\u7528 ",(0,l.kt)("inlineCode",{parentName:"p"},"field")," \u4f5c\u4e3a\u5143\u7d20\u540d\u79f0\u3002 \u901a\u5e38\uff0cXML \u7ed3\u6784\u9075\u5faa JSON \u7ed3\u6784\u3002\n\u5c31\u50cfJSON\u4e00\u6837\uff0c\u5c06\u65e0\u6548\u7684 UTF-8 \u5b57\u7b26\u90fd\u66ff\u6362\u6210\u5b57\u7b26\ufffd\uff0c\u4ee5\u4fbf\u8f93\u51fa\u6587\u672c\u5c06\u5305\u542b\u6709\u6548\u7684 UTF-8 \u5b57\u7b26\u5e8f\u5217\u3002"),(0,l.kt)("p",null,"\u5728\u5b57\u7b26\u4e32\u503c\u4e2d\uff0c\u5b57\u7b26 ",(0,l.kt)("inlineCode",{parentName:"p"},"<")," \u548c ",(0,l.kt)("inlineCode",{parentName:"p"},"\uff06")," \u88ab\u8f6c\u4e49\u4e3a ",(0,l.kt)("inlineCode",{parentName:"p"},"&lt;")," \u548c ",(0,l.kt)("inlineCode",{parentName:"p"},"&amp;"),"\u3002"),(0,l.kt)("p",null,"\u6570\u7ec4\u8f93\u51fa\u7c7b\u4f3c\u4e8e ",(0,l.kt)("inlineCode",{parentName:"p"},"<array> <elem> Hello </ elem> <elem> World </ elem> ... </ array>"),"\uff0c\u5143\u7ec4\u8f93\u51fa\u7c7b\u4f3c\u4e8e ",(0,l.kt)("inlineCode",{parentName:"p"},"<tuple> <elem> Hello </ elem> <elem> World </ ELEM> ... </tuple>")," \u3002"),(0,l.kt)("h2",{id:"capnproto"},"CapnProto"),(0,l.kt)("p",null,"Cap\u2019n Proto \u662f\u4e00\u79cd\u4e8c\u8fdb\u5236\u6d88\u606f\u683c\u5f0f\uff0c\u7c7b\u4f3cProtobuf\u548cThriftis\uff0c\u4f46\u4e0e JSON \u6216 MessagePack \u683c\u5f0f\u4e0d\u4e00\u6837\u3002"),(0,l.kt)("p",null,"Cap\u2019n Proto \u6d88\u606f\u683c\u5f0f\u662f\u4e25\u683c\u7c7b\u578b\u7684\uff0c\u800c\u4e0d\u662f\u81ea\u6211\u63cf\u8ff0\uff0c\u8fd9\u610f\u5473\u7740\u5b83\u4eec\u9700\u8981\u67b6\u6784\u63cf\u8ff0\u3002\u67b6\u6784\u63cf\u8ff0\u53ef\u4ee5\u5b9e\u65f6\u5730\u5e94\u7528\uff0c\u5e76\u9488\u5bf9\u6bcf\u4e2a\u67e5\u8be2\u8fdb\u884c\u7f13\u5b58\u3002"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-sql"},"SELECT SearchPhrase, count() AS c FROM test.hits\n       GROUP BY SearchPhrase FORMAT CapnProto SETTINGS schema = 'schema:Message'\n")),(0,l.kt)("p",null,"\u5176\u4e2d ",(0,l.kt)("inlineCode",{parentName:"p"},"schema.capnp")," \u63cf\u8ff0\u5982\u4e0b\uff1a6y2"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre"},"struct Message {\n  SearchPhrase @0 :Text;\n  c @1 :Uint64;\n}\n")),(0,l.kt)("p",null,"\u683c\u5f0f\u6587\u4ef6\u5b58\u50a8\u7684\u76ee\u5f55\u53ef\u4ee5\u5728\u670d\u52a1\u914d\u7f6e\u4e2d\u7684 ",(0,l.kt)("a",{parentName:"p",href:"/zh/operations/server-configuration-parameters/settings"},"format_schema_path")," \u6307\u5b9a\u3002"),(0,l.kt)("p",null,"Cap\u2019n Proto \u53cd\u5e8f\u5217\u5316\u662f\u5f88\u9ad8\u6548\u7684\uff0c\u901a\u5e38\u4e0d\u4f1a\u589e\u52a0\u7cfb\u7edf\u7684\u8d1f\u8f7d\u3002"),(0,l.kt)("h2",{id:"protobuf"},"Protobuf"),(0,l.kt)("p",null,"Protobuf-\u662f\u4e00\u4e2a ",(0,l.kt)("a",{parentName:"p",href:"https://developers.google.com/protocol-buffers/"},"Protocol Buffers")," \u683c\u5f0f\u3002"),(0,l.kt)("p",null,"\u6b64\u683c\u5f0f\u9700\u8981\u5916\u90e8\u683c\u5f0f\u63cf\u8ff0\u6587\u4ef6(proto\u6587\u4ef6)\u3002 \u8be5\u63cf\u8ff0\u6587\u4ef6\u4f1a\u8fdb\u884c\u7f13\u5b58\uff0c\u4ee5\u5907\u540e\u7eed\u67e5\u8be2\u3002\nClickHouse\u652f\u6301 ",(0,l.kt)("inlineCode",{parentName:"p"},"proto2")," \u548c ",(0,l.kt)("inlineCode",{parentName:"p"},"proto3")," \u8bed\u6cd5\u7684proto\u6587\u4ef6\uff0c\u652f\u6301\u91cd\u590d/\u53ef\u9009/\u5fc5\u586b\u5b57\u6bb5\u3002"),(0,l.kt)("p",null,"\u4f7f\u7528\u793a\u4f8b:"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-sql"},"SELECT * FROM test.table FORMAT Protobuf SETTINGS format_schema = 'schemafile:MessageType'\n")),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"cat protobuf_messages.bin | clickhouse-client --query \"INSERT INTO test.table FORMAT Protobuf SETTINGS format_schema='schemafile:MessageType'\"\n")),(0,l.kt)("p",null,"proto\u6587\u4ef6 ",(0,l.kt)("inlineCode",{parentName:"p"},"schemafile.proto")," \u770b\u8d77\u6765\u50cf\u8fd9\u6837:"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-capnp"},'syntax = "proto3";\n\nmessage MessageType {\n  string name = 1;\n  string surname = 2;\n  uint32 birthDate = 3;\n  repeated string phoneNumbers = 4;\n};\n')),(0,l.kt)("p",null,"Clickhouse\u901a\u8fc7\u5b57\u6bb5\u540d\u79f0\u6765\u5bf9\u5e94\u5217\u540d\u79f0\u3002\u5b57\u6bb5\u540d\u79f0\u4e0d\u533a\u5206\u5927\u5c0f\u5199\uff0c",(0,l.kt)("inlineCode",{parentName:"p"},"_"),"\u4e0e",(0,l.kt)("inlineCode",{parentName:"p"},"."),"\u89c6\u4e3a\u76f8\u540c\u7b26\u53f7\u3002\u5982\u679cProto\u6587\u4ef6\u6307\u5b9a\u7684\u5b57\u6bb5\u7c7b\u578b\u4e0e\u5217\u7c7b\u578b\u4e0d\u76f8\u7b26\uff0c\u4f1a\u8fdb\u884c\u8f6c\u6362\u3002"),(0,l.kt)("p",null,"\u652f\u6301Protobuf\u5d4c\u5957\u6d88\u606f\u3002 \u4f8b\u5982\uff0c\u5bf9\u4e8e\u4e0b\u9762Proto\u6587\u4ef6\u4e2d\u7684z\u5b57\u6bb5\uff1a"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-capnp"},"message MessageType {\n  message XType {\n    message YType {\n      int32 z;\n    };\n    repeated YType y;\n  };\n  XType x;\n};\n")),(0,l.kt)("p",null,"ClickHouse\u4f1a\u8bd5\u56fe\u627e\u5230\u4e00\u4e2a\u540d\u4e3a ",(0,l.kt)("inlineCode",{parentName:"p"},"x.y.z")," (\u6216 ",(0,l.kt)("inlineCode",{parentName:"p"},"x_y_z")," \u6216 ",(0,l.kt)("inlineCode",{parentName:"p"},"X.y_Z")," \u7b49)\u7684\u5217\u3002\n\u5d4c\u5957\u6d88\u606f\u9002\u7528\u4e8e\u8f93\u5165\u6216\u8f93\u51fa\u4e00\u4e2a ",(0,l.kt)("a",{parentName:"p",href:"/zh/sql-reference/data-types/nested-data-structures/nested"},"\u5d4c\u5957\u6570\u636e\u7ed3\u6784"),"."),(0,l.kt)("p",null,"\u5728protobuf\u6a21\u5f0f\u4e2d\u5b9a\u4e49\u7684\u9ed8\u8ba4\u503c\uff0c\u5982\u4e0b\uff1a"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-capnp"},'syntax = "proto2";\n\nmessage MessageType {\n  optional int32 result_per_page = 3 [default = 10];\n}\n')),(0,l.kt)("p",null,"\u8be5\u9ed8\u8ba4\u503c\u4f1a\u88ab\u5ffd\u7565\uff0cClickhouse\u4f1a\u4f7f\u7528 ",(0,l.kt)("a",{parentName:"p",href:"/zh/sql-reference/statements/create#create-default-values"},"\u8868\u9ed8\u8ba4\u503c"),"\u4f5c\u4e3a\u9ed8\u8ba4\u503c\u3002"),(0,l.kt)("p",null,"ClickHouse\u5728\u8f93\u5165\u548c\u8f93\u51faprotobuf\u6d88\u606f\u91c7\u7528",(0,l.kt)("inlineCode",{parentName:"p"},"length-delimited")," \u683c\u5f0f\u3002\n\u8fd9\u610f\u5473\u7740\u6bcf\u4e2a\u6d88\u606f\u4e4b\u524d\uff0c\u5e94\u8be5\u5199\u5b83\u7684\u957f\u5ea6\u4f5c\u4e3a\u4e00\u4e2a ",(0,l.kt)("a",{parentName:"p",href:"https://developers.google.com/protocol-buffers/docs/encoding#varints"},"varint"),".\n\u53e6\u8bf7\u53c2\u9605 ",(0,l.kt)("a",{parentName:"p",href:"https://cwiki.apache.org/confluence/display/GEODE/Delimiting+Protobuf+Messages"},"\u5982\u4f55\u5728\u6d41\u884c\u8bed\u8a00\u4e2d\u8bfb\u53d6/\u5199\u5165\u957f\u5ea6\u5206\u9694\u7684protobuf\u6d88\u606f"),"."),(0,l.kt)("h2",{id:"data-format-avro"},"Avro"),(0,l.kt)("p",null,(0,l.kt)("a",{parentName:"p",href:"http://avro.apache.org/"},"Apache Avro")," \u662f\u5728Apache Hadoop\u9879\u76ee\u4e2d\u5f00\u53d1\u7684\u9762\u5411\u884c\u7684\u6570\u636e\u5e8f\u5217\u5316\u6846\u67b6\u3002"),(0,l.kt)("p",null,"ClickHouse Avro\u683c\u5f0f\u652f\u6301\u8bfb\u53d6\u548c\u5199\u5165 ",(0,l.kt)("a",{parentName:"p",href:"http://avro.apache.org/docs/current/spec.html#Object+Container+Files"},"Avro\u6570\u636e\u6587\u4ef6"),"."),(0,l.kt)("h3",{id:"data-types-matching-sql_referencedata_types-matching"},"\u6570\u636e\u7c7b\u578b\u5339\u914d{#sql_reference/data_types-matching}"),(0,l.kt)("p",null,"\u4e0b\u8868\u663e\u793a\u4e86\u652f\u6301\u7684\u6570\u636e\u7c7b\u578b\u4ee5\u53ca\u5b83\u4eec\u5982\u4f55\u5339\u914dClickHouse ",(0,l.kt)("a",{parentName:"p",href:"/zh/sql-reference/data-types/"},"\u6570\u636e\u7c7b\u578b")," \u5728 ",(0,l.kt)("inlineCode",{parentName:"p"},"INSERT")," \u548c ",(0,l.kt)("inlineCode",{parentName:"p"},"SELECT")," \u67e5\u8be2\u3002"),(0,l.kt)("table",null,(0,l.kt)("thead",{parentName:"table"},(0,l.kt)("tr",{parentName:"thead"},(0,l.kt)("th",{parentName:"tr",align:null},"Avro\u6570\u636e\u7c7b\u578b ",(0,l.kt)("inlineCode",{parentName:"th"},"INSERT")),(0,l.kt)("th",{parentName:"tr",align:null},"ClickHouse\u6570\u636e\u7c7b\u578b"),(0,l.kt)("th",{parentName:"tr",align:null},"Avro\u6570\u636e\u7c7b\u578b ",(0,l.kt)("inlineCode",{parentName:"th"},"SELECT")))),(0,l.kt)("tbody",{parentName:"table"},(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"boolean"),", ",(0,l.kt)("inlineCode",{parentName:"td"},"int"),", ",(0,l.kt)("inlineCode",{parentName:"td"},"long"),", ",(0,l.kt)("inlineCode",{parentName:"td"},"float"),", ",(0,l.kt)("inlineCode",{parentName:"td"},"double")),(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("a",{parentName:"td",href:"/zh/sql-reference/data-types/int-uint"},"Int(8/16/32)"),", ",(0,l.kt)("a",{parentName:"td",href:"/zh/sql-reference/data-types/int-uint"},"UInt(8/16/32)")),(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"int"))),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"boolean"),", ",(0,l.kt)("inlineCode",{parentName:"td"},"int"),", ",(0,l.kt)("inlineCode",{parentName:"td"},"long"),", ",(0,l.kt)("inlineCode",{parentName:"td"},"float"),", ",(0,l.kt)("inlineCode",{parentName:"td"},"double")),(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("a",{parentName:"td",href:"/zh/sql-reference/data-types/int-uint"},"Int64"),", ",(0,l.kt)("a",{parentName:"td",href:"/zh/sql-reference/data-types/int-uint"},"UInt64")),(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"long"))),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"boolean"),", ",(0,l.kt)("inlineCode",{parentName:"td"},"int"),", ",(0,l.kt)("inlineCode",{parentName:"td"},"long"),", ",(0,l.kt)("inlineCode",{parentName:"td"},"float"),", ",(0,l.kt)("inlineCode",{parentName:"td"},"double")),(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("a",{parentName:"td",href:"/zh/sql-reference/data-types/float"},"Float32")),(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"float"))),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"boolean"),", ",(0,l.kt)("inlineCode",{parentName:"td"},"int"),", ",(0,l.kt)("inlineCode",{parentName:"td"},"long"),", ",(0,l.kt)("inlineCode",{parentName:"td"},"float"),", ",(0,l.kt)("inlineCode",{parentName:"td"},"double")),(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("a",{parentName:"td",href:"/zh/sql-reference/data-types/float"},"Float64")),(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"double"))),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"bytes"),", ",(0,l.kt)("inlineCode",{parentName:"td"},"string"),", ",(0,l.kt)("inlineCode",{parentName:"td"},"fixed"),", ",(0,l.kt)("inlineCode",{parentName:"td"},"enum")),(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("a",{parentName:"td",href:"/zh/sql-reference/data-types/string"},"String")),(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"bytes"))),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"bytes"),", ",(0,l.kt)("inlineCode",{parentName:"td"},"string"),", ",(0,l.kt)("inlineCode",{parentName:"td"},"fixed")),(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("a",{parentName:"td",href:"/zh/sql-reference/data-types/fixedstring"},"FixedString(N)")),(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"fixed(N)"))),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"enum")),(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("a",{parentName:"td",href:"/zh/sql-reference/data-types/enum"},"Enum(8","|","16)")),(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"enum"))),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"array(T)")),(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("a",{parentName:"td",href:"/zh/sql-reference/data-types/array"},"Array(T)")),(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"array(T)"))),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"union(null, T)"),", ",(0,l.kt)("inlineCode",{parentName:"td"},"union(T, null)")),(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("a",{parentName:"td",href:"/zh/sql-reference/data-types/date"},"Nullable(T)")),(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"union(null, T)"))),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"null")),(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("a",{parentName:"td",href:"/zh/sql-reference/data-types/special-data-types/nothing"},"Nullable(Nothing)")),(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"null"))),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"int (date)")," ","*"),(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("a",{parentName:"td",href:"/zh/sql-reference/data-types/date"},"Date")),(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"int (date)")," ","*")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"long (timestamp-millis)")," ","*"),(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("a",{parentName:"td",href:"/zh/sql-reference/data-types/datetime"},"DateTime64(3)")),(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"long (timestamp-millis)")," ","*")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"long (timestamp-micros)")," ","*"),(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("a",{parentName:"td",href:"/zh/sql-reference/data-types/datetime"},"DateTime64(6)")),(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"long (timestamp-micros)")," ","*")))),(0,l.kt)("p",null,"*"," ",(0,l.kt)("a",{parentName:"p",href:"http://avro.apache.org/docs/current/spec.html#Logical+Types"},"Avro\u903b\u8f91\u7c7b\u578b")),(0,l.kt)("p",null,"\u4e0d\u652f\u6301\u7684Avro\u6570\u636e\u7c7b\u578b: ",(0,l.kt)("inlineCode",{parentName:"p"},"record")," (\u975e\u6839\u67b6\u6784), ",(0,l.kt)("inlineCode",{parentName:"p"},"map")),(0,l.kt)("p",null,"\u4e0d\u652f\u6301\u7684Avro\u903b\u8f91\u6570\u636e\u7c7b\u578b:  ",(0,l.kt)("inlineCode",{parentName:"p"},"time-millis"),", ",(0,l.kt)("inlineCode",{parentName:"p"},"time-micros"),", ",(0,l.kt)("inlineCode",{parentName:"p"},"duration")),(0,l.kt)("h3",{id:"inserting-data"},"\u63d2\u5165\u6570\u636e"),(0,l.kt)("p",null,"\u5c06Avro\u6587\u4ef6\u4e2d\u7684\u6570\u636e\u63d2\u5165ClickHouse\u8868:"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},'$ cat file.avro | clickhouse-client --query="INSERT INTO {some_table} FORMAT Avro"\n')),(0,l.kt)("p",null,"\u8f93\u5165Avro\u6587\u4ef6\u7684\u6839\u67b6\u6784\u5fc5\u987b\u662f ",(0,l.kt)("inlineCode",{parentName:"p"},"record")," \u7c7b\u578b\u3002"),(0,l.kt)("p",null,"Clickhouse\u901a\u8fc7\u5b57\u6bb5\u540d\u79f0\u6765\u5bf9\u5e94\u67b6\u6784\u7684\u5217\u540d\u79f0\u3002\u5b57\u6bb5\u540d\u79f0\u533a\u5206\u5927\u5c0f\u5199\u3002\u672a\u4f7f\u7528\u7684\u5b57\u6bb5\u4f1a\u88ab\u8df3\u8fc7\u3002"),(0,l.kt)("p",null,"ClickHouse\u8868\u5217\u7684\u6570\u636e\u7c7b\u578b\u53ef\u80fd\u4e0e\u63d2\u5165\u7684Avro\u6570\u636e\u7684\u76f8\u5e94\u5b57\u6bb5\u4e0d\u540c\u3002 \u63d2\u5165\u6570\u636e\u65f6\uff0cClickHouse\u6839\u636e\u4e0a\u8868\u89e3\u91ca\u6570\u636e\u7c7b\u578b\uff0c\u7136\u540e\u901a\u8fc7 ",(0,l.kt)("a",{parentName:"p",href:"/zh/sql-reference/functions/type-conversion-functions#type_conversion_function-cast"},"Cast")," \u5c06\u6570\u636e\u8f6c\u6362\u4e3a\u76f8\u5e94\u7684\u5217\u7c7b\u578b\u3002"),(0,l.kt)("h3",{id:"selecting-data"},"\u9009\u62e9\u6570\u636e"),(0,l.kt)("p",null,"\u4eceClickHouse\u8868\u4e2d\u9009\u62e9\u6570\u636e\u5230Avro\u6587\u4ef6:"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},'$ clickhouse-client --query="SELECT * FROM {some_table} FORMAT Avro" > file.avro\n')),(0,l.kt)("p",null,"\u5217\u540d\u5fc5\u987b:"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"\u4ee5 ",(0,l.kt)("inlineCode",{parentName:"li"},"[A-Za-z_]")," \u5f00\u59cb"),(0,l.kt)("li",{parentName:"ul"},"\u968f\u540e\u53ea\u5305\u542b ",(0,l.kt)("inlineCode",{parentName:"li"},"[A-Za-z0-9_]"))),(0,l.kt)("p",null,"\u8f93\u51faAvro\u6587\u4ef6\u538b\u7f29\u548c\u540c\u6b65\u95f4\u9694\u53ef\u4ee5\u7ecf\u7531 ",(0,l.kt)("a",{parentName:"p",href:"/zh/operations/settings/#settings-output_format_avro_codec"},"output_format_avro_codec")," \u548c ",(0,l.kt)("a",{parentName:"p",href:"/zh/operations/settings/#settings-output_format_avro_sync_interval"},"output_format_avro_sync_interval")," \u8bbe\u7f6e\u3002"),(0,l.kt)("h2",{id:"data-format-avro-confluent"},"AvroConfluent"),(0,l.kt)("p",null,"AvroConfluent\u652f\u6301\u89e3\u7801\u5355\u4e2a\u5bf9\u8c61\u7684Avro\u6d88\u606f\uff0c\u8fd9\u5e38\u7528\u4e8e ",(0,l.kt)("a",{parentName:"p",href:"https://kafka.apache.org/"},"Kafka")," \u548c ",(0,l.kt)("a",{parentName:"p",href:"https://docs.confluent.io/current/schema-registry/index.html"},"Confluent Schema Registry"),"\u3002"),(0,l.kt)("p",null,"\u6bcf\u4e2aAvro\u6d88\u606f\u90fd\u5d4c\u5165\u4e86\u4e00\u4e2a\u67b6\u6784id\uff0c\u8be5\u67b6\u6784id\u53ef\u4ee5\u5728\u67b6\u6784\u6ce8\u518c\u8868\u7684\u5e2e\u52a9\u4e0b\u89e3\u6790\u4e3a\u5b9e\u9645\u67b6\u6784\u3002"),(0,l.kt)("p",null,"\u6a21\u5f0f\u89e3\u6790\u540e\u4f1a\u8fdb\u884c\u7f13\u5b58\u3002"),(0,l.kt)("p",null,"\u67b6\u6784\u6ce8\u518c\u8868URL\u914d\u7f6e\u4e3a ",(0,l.kt)("a",{parentName:"p",href:"/zh/operations/settings/#settings-format_avro_schema_registry_url"},"format_avro_schema_registry_url")),(0,l.kt)("h3",{id:"data-types-matching-sql_referencedata_types-matching-1"},"\u6570\u636e\u7c7b\u578b\u5339\u914d{#sql_reference/data_types-matching-1}"),(0,l.kt)("p",null,"\u548c ",(0,l.kt)("a",{parentName:"p",href:"#data-format-avro"},"Avro"),"\u76f8\u540c\u3002"),(0,l.kt)("h3",{id:"usage"},"\u7528\u9014"),(0,l.kt)("p",null,"\u8981\u5feb\u901f\u9a8c\u8bc1\u67b6\u6784\u89e3\u6790\uff0c\u60a8\u53ef\u4ee5\u4f7f\u7528 ",(0,l.kt)("a",{parentName:"p",href:"https://github.com/edenhill/kafkacat"},"kafkacat")," \u4e0e ",(0,l.kt)("a",{parentName:"p",href:"/zh/operations/utilities/clickhouse-local"},"clickhouse-local"),":"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"$ kafkacat -b kafka-broker  -C -t topic1 -o beginning -f '%s' -c 3 | clickhouse-local   --input-format AvroConfluent --format_avro_schema_registry_url 'http://schema-registry' -S \"field1 Int64, field2 String\"  -q 'select *  from table'\n1 a\n2 b\n3 c\n")),(0,l.kt)("p",null,"\u4f7f\u7528 ",(0,l.kt)("inlineCode",{parentName:"p"},"AvroConfluent")," \u4e0e ",(0,l.kt)("a",{parentName:"p",href:"/zh/engines/table-engines/integrations/kafka"},"Kafka"),":"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-sql"},"CREATE TABLE topic1_stream\n(\n    field1 String,\n    field2 String\n)\nENGINE = Kafka()\nSETTINGS\nkafka_broker_list = 'kafka-broker',\nkafka_topic_list = 'topic1',\nkafka_group_name = 'group1',\nkafka_format = 'AvroConfluent';\n\nSET format_avro_schema_registry_url = 'http://schema-registry';\n\nSELECT * FROM topic1_stream;\n")),(0,l.kt)("p",null,'!!! note "\u8b66\u544a"\n\u8bbe\u7f6e ',(0,l.kt)("inlineCode",{parentName:"p"},"format_avro_schema_registry_url")," \u9700\u8981\u5199\u5165\u914d\u7f6e\u6587\u4ef6",(0,l.kt)("inlineCode",{parentName:"p"},"users.xml"),"\u4ee5\u5728Clickhouse\u91cd\u542f\u540e\uff0c\u8be5\u8bbe\u7f6e\u4ecd\u4e3a\u60a8\u7684\u8bbe\u5b9a\u503c\u3002\u60a8\u4e5f\u53ef\u4ee5\u5728\u4f7f\u7528Kafka\u5f15\u64ce\u7684\u65f6\u5019\u6307\u5b9a\u8be5\u8bbe\u7f6e\u3002"),(0,l.kt)("h2",{id:"data-format-parquet"},"Parquet"),(0,l.kt)("p",null,(0,l.kt)("a",{parentName:"p",href:"http://parquet.apache.org/"},"Apache Parquet")," \u662fHadoop\u751f\u6001\u7cfb\u7edf\u4e2d\u666e\u904d\u4f7f\u7528\u7684\u5217\u5f0f\u5b58\u50a8\u683c\u5f0f\u3002 ClickHouse\u652f\u6301\u6b64\u683c\u5f0f\u7684\u8bfb\u5199\u64cd\u4f5c\u3002"),(0,l.kt)("h3",{id:"data-types-matching-sql_referencedata_types-matching-2"},"\u6570\u636e\u7c7b\u578b\u5339\u914d{#sql_reference/data_types-matching-2}"),(0,l.kt)("p",null,"\u4e0b\u8868\u663e\u793a\u4e86Clickhouse\u652f\u6301\u7684\u6570\u636e\u7c7b\u578b\u4ee5\u53ca\u5b83\u4eec\u5728 ",(0,l.kt)("inlineCode",{parentName:"p"},"INSERT")," \u548c ",(0,l.kt)("inlineCode",{parentName:"p"},"SELECT")," \u67e5\u8be2\u5982\u4f55\u5bf9\u5e94Clickhouse\u7684 ",(0,l.kt)("a",{parentName:"p",href:"/zh/sql-reference/data-types/"},"data types")," \u3002"),(0,l.kt)("table",null,(0,l.kt)("thead",{parentName:"table"},(0,l.kt)("tr",{parentName:"thead"},(0,l.kt)("th",{parentName:"tr",align:null},"Parquet\u6570\u636e\u7c7b\u578b (",(0,l.kt)("inlineCode",{parentName:"th"},"INSERT"),")"),(0,l.kt)("th",{parentName:"tr",align:null},"ClickHouse\u6570\u636e\u7c7b\u578b"),(0,l.kt)("th",{parentName:"tr",align:null},"Parquet\u6570\u636e\u7c7b\u578b (",(0,l.kt)("inlineCode",{parentName:"th"},"SELECT"),")"))),(0,l.kt)("tbody",{parentName:"table"},(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"UINT8"),", ",(0,l.kt)("inlineCode",{parentName:"td"},"BOOL")),(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("a",{parentName:"td",href:"/zh/sql-reference/data-types/int-uint"},"UInt8")),(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"UINT8"))),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"INT8")),(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("a",{parentName:"td",href:"/zh/sql-reference/data-types/int-uint"},"Int8")),(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"INT8"))),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"UINT16")),(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("a",{parentName:"td",href:"/zh/sql-reference/data-types/int-uint"},"UInt16")),(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"UINT16"))),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"INT16")),(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("a",{parentName:"td",href:"/zh/sql-reference/data-types/int-uint"},"Int16")),(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"INT16"))),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"UINT32")),(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("a",{parentName:"td",href:"/zh/sql-reference/data-types/int-uint"},"UInt32")),(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"UINT32"))),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"INT32")),(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("a",{parentName:"td",href:"/zh/sql-reference/data-types/int-uint"},"Int32")),(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"INT32"))),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"UINT64")),(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("a",{parentName:"td",href:"/zh/sql-reference/data-types/int-uint"},"UInt64")),(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"UINT64"))),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"INT64")),(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("a",{parentName:"td",href:"/zh/sql-reference/data-types/int-uint"},"Int64")),(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"INT64"))),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"FLOAT"),", ",(0,l.kt)("inlineCode",{parentName:"td"},"HALF_FLOAT")),(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("a",{parentName:"td",href:"/zh/sql-reference/data-types/float"},"Float32")),(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"FLOAT"))),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"DOUBLE")),(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("a",{parentName:"td",href:"/zh/sql-reference/data-types/float"},"Float64")),(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"DOUBLE"))),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"DATE32")),(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("a",{parentName:"td",href:"/zh/sql-reference/data-types/date"},"Date")),(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"UINT16"))),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"DATE64")),(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("a",{parentName:"td",href:"/zh/sql-reference/data-types/datetime"},"DateTime")),(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"UINT32"))),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"TIMESTAMP")),(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("a",{parentName:"td",href:"/zh/sql-reference/data-types/datetime64"},"DateTime64")),(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"TIMESTAMP"))),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"STRING"),", ",(0,l.kt)("inlineCode",{parentName:"td"},"BINARY")),(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("a",{parentName:"td",href:"/zh/sql-reference/data-types/string"},"String")),(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"STRING"))),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"\u2014"),(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("a",{parentName:"td",href:"/zh/sql-reference/data-types/fixedstring"},"FixedString")),(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"STRING"))),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"DECIMAL")),(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("a",{parentName:"td",href:"/zh/sql-reference/data-types/decimal"},"Decimal")),(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"DECIMAL"))))),(0,l.kt)("p",null,"ClickHouse\u652f\u6301\u5bf9 ",(0,l.kt)("inlineCode",{parentName:"p"},"Decimal")," \u7c7b\u578b\u8bbe\u7f6e\u7cbe\u5ea6\u3002 ",(0,l.kt)("inlineCode",{parentName:"p"},"INSERT")," \u67e5\u8be2\u5c06 Parquet ",(0,l.kt)("inlineCode",{parentName:"p"},"DECIMAL")," \u7c7b\u578b\u89c6\u4e3aClickHouse ",(0,l.kt)("inlineCode",{parentName:"p"},"Decimal128")," \u7c7b\u578b\u3002"),(0,l.kt)("p",null,"\u4e0d\u652f\u6301\u7684Parquet\u6570\u636e\u7c7b\u578b: ",(0,l.kt)("inlineCode",{parentName:"p"},"DATE32"),", ",(0,l.kt)("inlineCode",{parentName:"p"},"TIME32"),", ",(0,l.kt)("inlineCode",{parentName:"p"},"FIXED_SIZE_BINARY"),", ",(0,l.kt)("inlineCode",{parentName:"p"},"JSON"),", ",(0,l.kt)("inlineCode",{parentName:"p"},"UUID"),", ",(0,l.kt)("inlineCode",{parentName:"p"},"ENUM"),"."),(0,l.kt)("p",null,"ClickHouse\u8868\u5217\u7684\u6570\u636e\u7c7b\u578b\u53ef\u80fd\u4e0e\u63d2\u5165\u7684Parquet\u6570\u636e\u7684\u76f8\u5e94\u5b57\u6bb5\u4e0d\u540c\u3002 \u63d2\u5165\u6570\u636e\u65f6\uff0cClickHouse\u6839\u636e\u4e0a\u8868\u89e3\u91ca\u6570\u636e\u7c7b\u578b\uff0c\u7136\u540e ",(0,l.kt)("a",{parentName:"p",href:"/zh/sql-reference/functions/type-conversion-functions#type_conversion_function-cast"},"Cast")," \u4e3aClickHouse\u8868\u5217\u8bbe\u7f6e\u7684\u6570\u636e\u7c7b\u578b\u7684\u6570\u636e\u3002"),(0,l.kt)("h3",{id:"inserting-and-selecting-data"},"\u63d2\u5165\u548c\u9009\u62e9\u6570\u636e"),(0,l.kt)("p",null,"\u60a8\u53ef\u4ee5\u901a\u8fc7\u4ee5\u4e0b\u547d\u4ee4\u5c06Parquet\u6570\u636e\u4ece\u6587\u4ef6\u63d2\u5165\u5230ClickHouse\u8868\u4e2d:"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},'$ cat {filename} | clickhouse-client --query="INSERT INTO {some_table} FORMAT Parquet"\n')),(0,l.kt)("p",null,"\u60a8\u53ef\u4ee5\u4eceClickHouse\u8868\u4e2d\u9009\u62e9\u6570\u636e\uff0c\u5e76\u901a\u8fc7\u4ee5\u4e0b\u547d\u4ee4\u5c06\u5b83\u4eec\u4fdd\u5b58\u5230Parquet\u683c\u5f0f\u7684\u6587\u4ef6\u4e2d:"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},'$ clickhouse-client --query="SELECT * FROM {some_table} FORMAT Parquet" > {some_file.pq}\n')),(0,l.kt)("p",null,"\u8981\u4e0eHadoop\u4ea4\u6362\u6570\u636e\uff0c\u60a8\u53ef\u4ee5\u4f7f\u7528 ",(0,l.kt)("a",{parentName:"p",href:"/zh/engines/table-engines/integrations/hdfs"},"HDFS table engine"),"."),(0,l.kt)("h2",{id:"data-format-arrow"},"Arrow"),(0,l.kt)("p",null,(0,l.kt)("a",{parentName:"p",href:"https://arrow.apache.org/"},"Apache Arrow"),"\u662f\u4e00\u79cd\u7528\u4e8e\u5185\u5b58\u6570\u636e\u5e93\u7684\u683c\u5f0f\uff0c\u5171\u6709\u4e24\u79cd\u6a21\u5f0f\uff0c\u6587\u4ef6\u4e0e\u6d41\u6a21\u5f0f\u3002Clickhouse\u652f\u6301\u5bf9\u8fd9\u4e24\u79cd\u683c\u5f0f\u8fdb\u884c\u8bfb\u5199\u3002"),(0,l.kt)("p",null,(0,l.kt)("inlineCode",{parentName:"p"},"Arrow"),"\u5bf9\u5e94\u7684\u662f\u6587\u4ef6\u6a21\u5f0f\uff0c\u8fd9\u79cd\u683c\u5f0f\u9002\u7528\u4e8e\u5185\u5b58\u7684\u968f\u673a\u8bbf\u95ee\u3002"),(0,l.kt)("h2",{id:"data-format-arrow"},"ArrowStream"),(0,l.kt)("p",null,(0,l.kt)("inlineCode",{parentName:"p"},"ArrowStream"),"\u5bf9\u5e94\u7684\u662fArrow\u7684\u6d41\u6a21\u5f0f\uff0c\u8fd9\u79cd\u683c\u5f0f\u9002\u7528\u4e8e\u5185\u5b58\u7684\u6d41\u5f0f\u5904\u7406\u3002"),(0,l.kt)("h2",{id:"data-format-orc"},"ORC"),(0,l.kt)("p",null,(0,l.kt)("a",{parentName:"p",href:"https://orc.apache.org/"},"Apache ORC")," \u662fHadoop\u751f\u6001\u7cfb\u7edf\u4e2d\u666e\u904d\u5b58\u5728\u7684\u5217\u5f0f\u5b58\u50a8\u683c\u5f0f\u3002"),(0,l.kt)("h3",{id:"data-types-matching-sql_referencedata_types-matching-3"},"\u6570\u636e\u7c7b\u578b\u5339\u914d{#sql_reference/data_types-matching-3}"),(0,l.kt)("p",null,"\u4e0b\u8868\u663e\u793a\u4e86\u652f\u6301\u7684\u6570\u636e\u7c7b\u578b\u4ee5\u53ca\u5b83\u4eec\u5982\u4f55\u5728",(0,l.kt)("inlineCode",{parentName:"p"},"SELECT"),"\u4e0e",(0,l.kt)("inlineCode",{parentName:"p"},"INSERT"),"\u67e5\u8be2\u4e2d\u5339\u914dClickHouse\u7684 ",(0,l.kt)("a",{parentName:"p",href:"/zh/sql-reference/data-types/"},"\u6570\u636e\u7c7b\u578b"),"\u3002"),(0,l.kt)("table",null,(0,l.kt)("thead",{parentName:"table"},(0,l.kt)("tr",{parentName:"thead"},(0,l.kt)("th",{parentName:"tr",align:null},"ORC \u6570\u636e\u7c7b\u578b (",(0,l.kt)("inlineCode",{parentName:"th"},"INSERT"),")"),(0,l.kt)("th",{parentName:"tr",align:null},"ClickHouse \u6570\u636e\u7c7b\u578b"),(0,l.kt)("th",{parentName:"tr",align:null},"ORC \u6570\u636e\u7c7b\u578b (",(0,l.kt)("inlineCode",{parentName:"th"},"SELECT"),")"))),(0,l.kt)("tbody",{parentName:"table"},(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"UINT8"),", ",(0,l.kt)("inlineCode",{parentName:"td"},"BOOL")),(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("a",{parentName:"td",href:"/zh/sql-reference/data-types/int-uint"},"UInt8")),(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"UINT8"))),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"INT8")),(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("a",{parentName:"td",href:"/zh/sql-reference/data-types/int-uint"},"Int8")),(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"INT8"))),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"UINT16")),(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("a",{parentName:"td",href:"/zh/sql-reference/data-types/int-uint"},"UInt16")),(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"UINT16"))),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"INT16")),(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("a",{parentName:"td",href:"/zh/sql-reference/data-types/int-uint"},"Int16")),(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"INT16"))),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"UINT32")),(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("a",{parentName:"td",href:"/zh/sql-reference/data-types/int-uint"},"UInt32")),(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"UINT32"))),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"INT32")),(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("a",{parentName:"td",href:"/zh/sql-reference/data-types/int-uint"},"Int32")),(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"INT32"))),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"UINT64")),(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("a",{parentName:"td",href:"/zh/sql-reference/data-types/int-uint"},"UInt64")),(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"UINT64"))),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"INT64")),(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("a",{parentName:"td",href:"/zh/sql-reference/data-types/int-uint"},"Int64")),(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"INT64"))),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"FLOAT"),", ",(0,l.kt)("inlineCode",{parentName:"td"},"HALF_FLOAT")),(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("a",{parentName:"td",href:"/zh/sql-reference/data-types/float"},"Float32")),(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"FLOAT"))),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"DOUBLE")),(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("a",{parentName:"td",href:"/zh/sql-reference/data-types/float"},"Float64")),(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"DOUBLE"))),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"DATE32")),(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("a",{parentName:"td",href:"/zh/sql-reference/data-types/date"},"Date")),(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"DATE32"))),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"DATE64")),(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("a",{parentName:"td",href:"/zh/sql-reference/data-types/datetime"},"DateTime")),(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"UINT32"))),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"TIMESTAMP")),(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("a",{parentName:"td",href:"/zh/sql-reference/data-types/datetime64"},"DateTime64")),(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"TIMESTAMP"))),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"STRING"),", ",(0,l.kt)("inlineCode",{parentName:"td"},"BINARY")),(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("a",{parentName:"td",href:"/zh/sql-reference/data-types/string"},"String")),(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"BINARY"))),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"DECIMAL")),(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("a",{parentName:"td",href:"/zh/sql-reference/data-types/decimal"},"Decimal")),(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"DECIMAL"))),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"-")),(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("a",{parentName:"td",href:"/zh/sql-reference/data-types/array"},"Array")),(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"LIST"))))),(0,l.kt)("p",null,"ClickHouse\u652f\u6301\u7684\u53ef\u914d\u7f6e\u7cbe\u5ea6\u7684 ",(0,l.kt)("inlineCode",{parentName:"p"},"Decimal")," \u7c7b\u578b\u3002 ",(0,l.kt)("inlineCode",{parentName:"p"},"INSERT")," \u67e5\u8be2\u5c06ORC\u683c\u5f0f\u7684 ",(0,l.kt)("inlineCode",{parentName:"p"},"DECIMAL")," \u7c7b\u578b\u89c6\u4e3aClickHouse\u7684 ",(0,l.kt)("inlineCode",{parentName:"p"},"Decimal128")," \u7c7b\u578b\u3002"),(0,l.kt)("p",null,"\u4e0d\u652f\u6301\u7684ORC\u6570\u636e\u7c7b\u578b: ",(0,l.kt)("inlineCode",{parentName:"p"},"TIME32"),", ",(0,l.kt)("inlineCode",{parentName:"p"},"FIXED_SIZE_BINARY"),", ",(0,l.kt)("inlineCode",{parentName:"p"},"JSON"),", ",(0,l.kt)("inlineCode",{parentName:"p"},"UUID"),", ",(0,l.kt)("inlineCode",{parentName:"p"},"ENUM"),"."),(0,l.kt)("p",null,"ClickHouse\u8868\u5217\u7684\u6570\u636e\u7c7b\u578b\u4e0d\u5fc5\u5339\u914d\u76f8\u5e94\u7684ORC\u6570\u636e\u5b57\u6bb5\u3002 \u63d2\u5165\u6570\u636e\u65f6\uff0cClickHouse\u6839\u636e\u4e0a\u8868\u89e3\u91ca\u6570\u636e\u7c7b\u578b\uff0c\u7136\u540e ",(0,l.kt)("a",{parentName:"p",href:"/zh/sql-reference/functions/type-conversion-functions#type_conversion_function-cast"},"Cast")," \u5c06\u6570\u636e\u8f6c\u6362\u4e3aClickHouse\u8868\u5217\u7684\u6570\u636e\u7c7b\u578b\u96c6\u3002"),(0,l.kt)("h3",{id:"inserting-data-1"},"\u63d2\u5165\u6570\u636e"),(0,l.kt)("p",null,"\u60a8\u53ef\u4ee5\u901a\u8fc7\u4ee5\u4e0b\u547d\u4ee4\u5c06\u6587\u4ef6\u4e2d\u7684ORC\u6570\u636e\u63d2\u5165\u5230ClickHouse\u8868\u4e2d:"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},'$ cat filename.orc | clickhouse-client --query="INSERT INTO some_table FORMAT ORC"\n')),(0,l.kt)("h3",{id:"selecting-data-1"},"\u9009\u62e9\u6570\u636e"),(0,l.kt)("p",null,"\u60a8\u53ef\u4ee5\u901a\u8fc7\u4ee5\u4e0b\u547d\u4ee4\u5c06ClickHouse\u8868\u4e2d\u67d0\u4e9b\u6570\u636e\u5bfc\u51fa\u5230ORC\u6587\u4ef6:"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},'$ clickhouse-client --query="SELECT * FROM {some_table} FORMAT ORC" > {filename.orc}\n')),(0,l.kt)("p",null,"\u8981\u4e0eHadoop\u4ea4\u6362\u6570\u636e\uff0c\u60a8\u53ef\u4ee5\u4f7f\u7528 ",(0,l.kt)("a",{parentName:"p",href:"/zh/engines/table-engines/integrations/hdfs"},"HDFS\u8868\u5f15\u64ce"),"."),(0,l.kt)("h2",{id:"lineasstring"},"LineAsString"),(0,l.kt)("p",null,"\u8fd9\u79cd\u683c\u5f0f\u4e0b\uff0c\u6bcf\u884c\u8f93\u5165\u6570\u636e\u90fd\u4f1a\u5f53\u505a\u4e00\u4e2a\u5b57\u7b26\u4e32\u3002\u8fd9\u79cd\u683c\u5f0f\u4ec5\u9002\u7528\u4e8e\u4ec5\u6709\u4e00\u5217",(0,l.kt)("a",{parentName:"p",href:"https://clickhouse.com/docs/en/sql-reference/data-types/string/"},"String"),"\u7c7b\u578b\u7684\u5217\u7684\u8868\u3002\u5176\u4f59\u5217\u5fc5\u987b\u8bbe\u7f6e\u4e3a",(0,l.kt)("a",{parentName:"p",href:"https://clickhouse.com/docs/en/sql-reference/statements/create/table/#default"},"DEFAULT"),"\u3001",(0,l.kt)("a",{parentName:"p",href:"https://clickhouse.com/docs/en/sql-reference/statements/create/table/#materialized"},"MATERIALIZED"),"\u6216\u8005\u88ab\u5ffd\u7565\u3002"),(0,l.kt)("h3",{id:"\u793a\u4f8b"},"\u793a\u4f8b\uff1a"),(0,l.kt)("p",null,"\u67e5\u8be2\u5982\u4e0b\uff1a"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-sql"},'DROP TABLE IF EXISTS line_as_string;\nCREATE TABLE line_as_string (field String) ENGINE = Memory;\nINSERT INTO line_as_string FORMAT LineAsString "I love apple", "I love banana", "I love orange";\nSELECT * FROM line_as_string;\n')),(0,l.kt)("p",null,"\u7ed3\u679c\u5982\u4e0b\uff1a"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-text"},'\u250c\u2500field\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502 "I love apple", "I love banana", "I love orange"; \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n')),(0,l.kt)("h2",{id:"regexp"},"Regexp"),(0,l.kt)("p",null,"\u6bcf\u4e00\u5217\u8f93\u5165\u6570\u636e\u6839\u636e\u6b63\u5219\u8868\u8fbe\u5f0f\u89e3\u6790\u3002\u4f7f\u7528",(0,l.kt)("inlineCode",{parentName:"p"},"Regexp"),"\u683c\u5f0f\u65f6\uff0c\u53ef\u4ee5\u4f7f\u7528\u5982\u4e0b\u8bbe\u7f6e\uff1a"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"format_regexp"),"\uff0c",(0,l.kt)("a",{parentName:"li",href:"https://clickhouse.com/docs/en/sql-reference/data-types/string/"},"String"),"\u7c7b\u578b\u3002\u5305\u542b",(0,l.kt)("a",{parentName:"li",href:"https://github.com/google/re2/wiki/Syntax"},"re2"),"\u683c\u5f0f\u7684\u6b63\u5219\u8868\u8fbe\u5f0f\u3002"),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"format_regexp_escaping_rule"),"\uff0c",(0,l.kt)("a",{parentName:"li",href:"https://clickhouse.com/docs/en/sql-reference/data-types/string/"},"String"),"\u7c7b\u578b\u3002\u652f\u6301\u5982\u4e0b\u8f6c\u4e49\u89c4\u5219\uff1a",(0,l.kt)("ul",{parentName:"li"},(0,l.kt)("li",{parentName:"ul"},"CSV(\u89c4\u5219\u76f8\u540c\u4e8e",(0,l.kt)("a",{parentName:"li",href:"https://clickhouse.com/docs/zh/interfaces/formats/#csv"},"CSV"),")"),(0,l.kt)("li",{parentName:"ul"},"JSON(\u76f8\u540c\u4e8e",(0,l.kt)("a",{parentName:"li",href:"https://clickhouse.com/docs/zh/interfaces/formats/#jsoneachrow"},"JSONEachRow"),")"),(0,l.kt)("li",{parentName:"ul"},"Escaped(\u76f8\u540c\u4e8e",(0,l.kt)("a",{parentName:"li",href:"https://clickhouse.com/docs/zh/interfaces/formats/#tabseparated"},"TSV"),")"),(0,l.kt)("li",{parentName:"ul"},"Quoted(\u76f8\u540c\u4e8e",(0,l.kt)("a",{parentName:"li",href:"https://clickhouse.com/docs/zh/interfaces/formats/#data-format-values"},"Values"),")"),(0,l.kt)("li",{parentName:"ul"},"Raw(\u5c06\u6574\u4e2a\u5b50\u5339\u914d\u9879\u8fdb\u884c\u63d0\u53d6\uff0c\u4e0d\u8f6c\u4e49)"))),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"format_regexp_skip_unmatched"),"\uff0c",(0,l.kt)("a",{parentName:"li",href:"https://clickhouse.com/docs/zh/sql-reference/data-types/int-uint/"},"UInt8"),"\u7c7b\u578b\u3002\u5f53",(0,l.kt)("inlineCode",{parentName:"li"},"format_regexp"),"\u8868\u8fbe\u5f0f\u6ca1\u6709\u5339\u914d\u5230\u7ed3\u679c\u65f6\u662f\u5426\u629b\u51fa\u5f02\u5e38\u3002\u53ef\u4e3a0\u62161\u3002")),(0,l.kt)("h3",{id:"usage-1"},"\u7528\u6cd5"),(0,l.kt)("p",null,(0,l.kt)("inlineCode",{parentName:"p"},"format_regexp"),"\u8bbe\u7f6e\u4f1a\u5e94\u7528\u4e8e\u6bcf\u4e00\u884c\u8f93\u5165\u6570\u636e\u3002\u6b63\u5219\u8868\u8fbe\u5f0f\u7684\u5b50\u5339\u914d\u9879\u6570\u5fc5\u987b\u7b49\u4e8e\u8f93\u5165\u6570\u636e\u671f\u671b\u5f97\u5230\u7684\u5217\u6570\u3002\n\u6bcf\u4e00\u884c\u8f93\u5165\u6570\u636e\u901a\u8fc7\u6362\u884c\u7b26",(0,l.kt)("inlineCode",{parentName:"p"},"\\n"),"\u6216\u8005",(0,l.kt)("inlineCode",{parentName:"p"},"\\r\\n"),"\u5206\u9694\u3002\n\u5339\u914d\u5230\u7684\u5b50\u5339\u914d\u9879\u4f1a\u6839\u636e\u6bcf\u4e00\u5217\u7684\u6570\u636e\u683c\u5f0f\u8fdb\u884c\u89e3\u6790\uff0c\u8f6c\u4e49\u89c4\u5219\u6839\u636e",(0,l.kt)("inlineCode",{parentName:"p"},"format_regexp_escaping_rule"),"\u8fdb\u884c\u3002\n\u5f53\u6b63\u5219\u8868\u8fbe\u5f0f\u5bf9\u67d0\u884c\u6ca1\u6709\u5339\u914d\u5230\u7ed3\u679c\uff0c",(0,l.kt)("inlineCode",{parentName:"p"},"format_regexp_skip_unmatched"),"\u8bbe\u4e3a1\u65f6\uff0c\u8be5\u884c\u4f1a\u88ab\u8df3\u8fc7\u3002",(0,l.kt)("inlineCode",{parentName:"p"},"format_regexp_skip_unmatched"),"\u8bbe\u4e3a0\u65f6\uff0c\u4f1a\u629b\u51fa\u5f02\u5e38\u3002"),(0,l.kt)("h3",{id:"example-1"},"\u793a\u4f8b"),(0,l.kt)("p",null,"\u8bbe\u6709\u5982\u4e0bdata.tsv:"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-text"},"id: 1 array: [1,2,3] string: str1 date: 2020-01-01\nid: 2 array: [1,2,3] string: str2 date: 2020-01-02\nid: 3 array: [1,2,3] string: str3 date: 2020-01-03\n")),(0,l.kt)("p",null,"\u4e0e\u8868:"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-sql"},"CREATE TABLE imp_regex_table (id UInt32, array Array(UInt32), string String, date Date) ENGINE = Memory;\n")),(0,l.kt)("p",null,"\u5bfc\u5165\u547d\u4ee4\uff1a"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"$ cat data.tsv | clickhouse-client  --query \"INSERT INTO imp_regex_table FORMAT Regexp SETTINGS format_regexp='id: (.+?) array: (.+?) string: (.+?) date: (.+?)', format_regexp_escaping_rule='Escaped', format_regexp_skip_unmatched=0;\"\n")),(0,l.kt)("p",null,"\u67e5\u8be2\uff1a"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-sql"},"SELECT * FROM imp_regex_table;\n")),(0,l.kt)("p",null,"\u7ed3\u679c\uff1a"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-text"},"\u250c\u2500id\u2500\u252c\u2500array\u2500\u2500\u2500\u252c\u2500string\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500date\u2500\u2510\n\u2502  1 \u2502 [1,2,3] \u2502 str1   \u2502 2020-01-01 \u2502\n\u2502  2 \u2502 [1,2,3] \u2502 str2   \u2502 2020-01-02 \u2502\n\u2502  3 \u2502 [1,2,3] \u2502 str3   \u2502 2020-01-03 \u2502\n\u2514\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n")),(0,l.kt)("h2",{id:"rawblob"},"RawBLOB"),(0,l.kt)("p",null,"\u8fd9\u79cd\u683c\u5f0f\u4e0b\uff0c\u6240\u6709\u8f93\u5165\u6570\u636e\u89c6\u4e3a\u4e00\u4e2a\u503c\u3002\u8be5\u683c\u5f0f\u4ec5\u9002\u7528\u4e8e\u4ec5\u6709\u4e00String\u7c7b\u578b\u7684\u5217\u7684\u8868\u3002\u8f93\u51fa\u65f6\uff0c\u4f7f\u7528\u4e8c\u8fdb\u5236\u683c\u5f0f\u8f93\u51fa\u3002\u5f53\u8f93\u51fa\u7ed3\u679c\u4e0d\u552f\u4e00\u65f6\uff0c\u8f93\u51fa\u662f\u6709\u6b67\u4e49\u7684\uff0c\u5e76\u4e14\u4e0d\u80fd\u901a\u8fc7\u8be5\u8f93\u51fa\u8fd8\u539f\u539f\u6570\u636e\u3002\n\u4e0b\u9762\u662f",(0,l.kt)("inlineCode",{parentName:"p"},"RawBLOB"),"\u4e0e",(0,l.kt)("a",{parentName:"p",href:"https://clickhouse.com/docs/zh/interfaces/formats/#tabseparatedraw"},"TabSeparatedRaw"),"\u7684\u5bf9\u6bd4\uff1a"),(0,l.kt)("p",null,(0,l.kt)("inlineCode",{parentName:"p"},"RawBloB"),":"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"\u4e8c\u8fdb\u5236\u683c\u5f0f\u8f93\u51fa\uff0c\u65e0\u8f6c\u4e49\u3002"),(0,l.kt)("li",{parentName:"ul"},"\u503c\u4e4b\u95f4\u6ca1\u6709\u5206\u9694\u7b26\u3002"),(0,l.kt)("li",{parentName:"ul"},"\u6bcf\u884c\u6700\u540e\u7684\u503c\u540e\u9762\u6ca1\u6709\u6362\u884c\u7b26\u3002")),(0,l.kt)("p",null,(0,l.kt)("inlineCode",{parentName:"p"},"TabSeparatedRaw"),":"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"\u6570\u636e\u65e0\u8f6c\u4e49\u8f93\u51fa\u3002"),(0,l.kt)("li",{parentName:"ul"},"\u6bcf\u884c\u7684\u503c\u901a\u8fc7\u5236\u8868\u7b26\u5206\u9694\u3002"),(0,l.kt)("li",{parentName:"ul"},"\u6bcf\u884c\u6700\u540e\u7684\u503c\u5f97\u540e\u9762\u6709\u6362\u884c\u7b26\u3002")),(0,l.kt)("p",null,"\u4e0b\u9762\u662f",(0,l.kt)("inlineCode",{parentName:"p"},"RawBLOB"),"\u4e0e",(0,l.kt)("a",{parentName:"p",href:"https://clickhouse.com/docs/zh/interfaces/formats/#rowbinary"},"RowBinary"),"\u7684\u5bf9\u6bd4\uff1a"),(0,l.kt)("p",null,(0,l.kt)("inlineCode",{parentName:"p"},"RawBloB"),":"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"\u5b57\u7b26\u4e32\u524d\u9762\u6ca1\u6709\u8868\u793a\u957f\u5ea6\u7684\u6807\u5fd7")),(0,l.kt)("p",null,(0,l.kt)("inlineCode",{parentName:"p"},"RowBinary"),":"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"\u5b57\u7b26\u4e32\u524d\u9762\u6709\u53d8\u957f\u6807\u5fd7(",(0,l.kt)("a",{parentName:"li",href:"https://en.wikipedia.org/wiki/LEB128"},"LEB128"),"\u683c\u5f0f\u8868\u793a)\uff0c\u7528\u4e8e\u8868\u793a\u5b57\u7b26\u4e32\u957f\u5ea6\uff0c\u540e\u63a5\u5b57\u7b26\u4e32\u5185\u5bb9\u3002")),(0,l.kt)("p",null,"\u5f53\u4f20\u5165\u7a7a\u6570\u636e\uff0cClickhouse\u4f1a\u629b\u51fa\u5f02\u5e38\uff1a"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-text"},"Code: 108. DB::Exception: No data to insert\n")),(0,l.kt)("h3",{id:"example-4"},"\u793a\u4f8b"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},'$ clickhouse-client --query "CREATE TABLE {some_table} (a String) ENGINE = Memory;"\n$ cat {filename} | clickhouse-client --query="INSERT INTO {some_table} FORMAT RawBLOB"\n$ clickhouse-client --query "SELECT * FROM {some_table} FORMAT RawBLOB" | md5sum\n')),(0,l.kt)("p",null,"\u7ed3\u679c\uff1a"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-text"},"f9725a22f9191e064120d718e26862a9  -\n")),(0,l.kt)("h2",{id:"formatschema"},"\u683c\u5f0f\u67b6\u6784"),(0,l.kt)("p",null,"\u5305\u542b\u683c\u5f0f\u67b6\u6784\u7684\u6587\u4ef6\u540d\u7531\u8bbe\u7f6e ",(0,l.kt)("inlineCode",{parentName:"p"},"format_schema"),"\u6307\u5b9a.\u5f53\u4f7f\u7528",(0,l.kt)("inlineCode",{parentName:"p"},"CapnProto")," \u6216 ",(0,l.kt)("inlineCode",{parentName:"p"},"Protobuf"),"\u5176\u4e2d\u4e00\u79cd\u683c\u5f0f\u65f6\uff0c\u9700\u8981\u8bbe\u7f6e\u8be5\u9879.\n\u683c\u5f0f\u67b6\u6784\u4e3a\u67b6\u6784\u6587\u4ef6\u540d\u548c\u6b64\u6587\u4ef6\u4e2d\u6d88\u606f\u7c7b\u578b\u7684\u7ec4\u5408\uff0c\u7528\u5192\u53f7\u5206\u9694,\u4f8b\u5982\xa0",(0,l.kt)("inlineCode",{parentName:"p"},"schemafile.proto:MessageType"),".\n\u5982\u679c\u6587\u4ef6\u5177\u6709\u683c\u5f0f\u7684\u6807\u51c6\u6269\u5c55\u540d(\u4f8b\u5982, ",(0,l.kt)("inlineCode",{parentName:"p"},"Protobuf"),"\u683c\u5f0f\u7684\u67b6\u6784\u6587\u4ef6\u6807\u51c6\u6269\u5c55\u540d\u4e3a",(0,l.kt)("inlineCode",{parentName:"p"},".proto"),"),\u5b83\u53ef\u4ee5\u88ab\u7701\u7565\uff0c\u5728\u8fd9\u79cd\u60c5\u51b5\u4e0b\uff0c\u683c\u5f0f\u6a21\u5f0f\u5982\u4e0b\u6240\u793a ",(0,l.kt)("inlineCode",{parentName:"p"},"schemafile:MessageType"),"."),(0,l.kt)("p",null,"\u5982\u679c\u60a8\u901a\u8fc7",(0,l.kt)("a",{parentName:"p",href:"/zh/interfaces/cli"},"Client")," \u5728 ",(0,l.kt)("a",{parentName:"p",href:"https://clickhouse.com/docs/zh/interfaces/cli/#cli_usage"},"\u4ea4\u4e92\u6a21\u5f0f"),"\u4e0b\u8f93\u5165\u6216\u8f93\u51fa\u6570\u636e\uff0c\u683c\u5f0f\u67b6\u6784\u4e2d\u6307\u5b9a\u7684\u6587\u4ef6\u540d\u53ef\u4ee5\u4f7f\u7528\u7edd\u5bf9\u8def\u5f84\u6216\u5ba2\u6237\u7aef\u5f53\u524d\u76ee\u5f55\u7684\u76f8\u5bf9\u8def\u5f84\u3002\n\u5982\u679c\u5728",(0,l.kt)("a",{parentName:"p",href:"https://clickhouse.com/docs/zh/interfaces/cli/#cli_usage"},"\u6279\u5904\u7406\u6a21\u5f0f"),"\u4e0b\u4f7f\u7528\u5ba2\u6237\u7aef\uff0c\u5219\u7531\u4e8e\u5b89\u5168\u539f\u56e0\uff0c\u67b6\u6784\u7684\u8def\u5f84\u5fc5\u987b\u4f7f\u7528\u76f8\u5bf9\u8def\u5f84\u3002"),(0,l.kt)("p",null,"\u5982\u679c\u60a8\u901a\u8fc7 ",(0,l.kt)("a",{parentName:"p",href:"/zh/interfaces/http"},"HTTP\u63a5\u53e3"),"\u8f93\u5165\u6216\u8f93\u51fa\u6570\u636e\uff0c\u683c\u5f0f\u67b6\u6784\u4e2d\u6307\u5b9a\u7684\u6587\u4ef6\u540d\u5e94\u8be5\u4f4d\u4e8e\u670d\u52a1\u5668\u8bbe\u7f6e\u7684",(0,l.kt)("a",{parentName:"p",href:"/zh/operations/server-configuration-parameters/settings#server_configuration_parameters-format_schema_path"},"format_schema_path"),"\u6307\u5b9a\u7684\u76ee\u5f55\u4e2d\u3002"),(0,l.kt)("h2",{id:"skippingerrors"},"\u8df3\u8fc7\u9519\u8bef"),(0,l.kt)("p",null,"\u4e00\u4e9b\u683c\u5f0f\uff0c\u5982 ",(0,l.kt)("inlineCode",{parentName:"p"},"CSV"),", ",(0,l.kt)("inlineCode",{parentName:"p"},"TabSeparated"),", ",(0,l.kt)("inlineCode",{parentName:"p"},"TSKV"),", ",(0,l.kt)("inlineCode",{parentName:"p"},"JSONEachRow"),", ",(0,l.kt)("inlineCode",{parentName:"p"},"Template"),", ",(0,l.kt)("inlineCode",{parentName:"p"},"CustomSeparated")," \u548c ",(0,l.kt)("inlineCode",{parentName:"p"},"Protobuf")," \u5982\u679c\u53d1\u751f\u89e3\u6790\u9519\u8bef\uff0c\u53ef\u4ee5\u8df3\u8fc7\u5f15\u53d1\u9519\u8bef\u7684\u884c\uff0c\u5e76\u4ece\u4e0b\u4e00\u884c\u5f00\u59cb\u7ee7\u7eed\u89e3\u6790\u3002 \u8be6\u60c5\u8bf7\u89c1\u8bbe\u7f6e",(0,l.kt)("a",{parentName:"p",href:"/zh/operations/settings/#settings-input_format_allow_errors_num"},"input_format_allow_errors_num")," \u548c\n",(0,l.kt)("a",{parentName:"p",href:"/zh/operations/settings/#settings-input_format_allow_errors_ratio"},"input_format_allow_errors_ratio")," \u3002"),(0,l.kt)("p",null,"\u9650\u5236:"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"\u5728\u89e3\u6790\u9519\u8bef\u7684\u60c5\u51b5\u4e0b ",(0,l.kt)("inlineCode",{parentName:"li"},"JSONEachRow")," \u8df3\u8fc7\u8be5\u884c\u7684\u6240\u6709\u6570\u636e\uff0c\u76f4\u5230\u9047\u5230\u65b0\u884c(\u6216EOF)\uff0c\u6240\u4ee5\u884c\u5fc5\u987b\u7531\u6362\u884c\u7b26\u5206\u9694\u4ee5\u6b63\u786e\u7edf\u8ba1\u9519\u8bef\u884c\u7684\u6570\u91cf\u3002"),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"Template")," \u548c ",(0,l.kt)("inlineCode",{parentName:"li"},"CustomSeparated")," \u5728\u6700\u540e\u4e00\u5217\u4e4b\u540e\u548c\u884c\u4e4b\u95f4\u4f7f\u7528\u5206\u9694\u7b26\u6765\u67e5\u627e\u4e0b\u4e00\u884c\u7684\u5f00\u5934\uff0c\u6240\u4ee5\u8df3\u8fc7\u9519\u8bef\u53ea\u6709\u5728\u884c\u5206\u9694\u7b26\u548c\u5217\u5206\u9694\u7b26\u5176\u4e2d\u81f3\u5c11\u6709\u4e00\u4e2a\u4e0d\u4e3a\u7a7a\u65f6\u624d\u6709\u6548\u3002")),(0,l.kt)("p",null,(0,l.kt)("a",{parentName:"p",href:"https://clickhouse.com/docs/zh/interfaces/formats/"},"\u6765\u6e90\u6587\u7ae0")," "))}N.isMDXComponent=!0}}]);