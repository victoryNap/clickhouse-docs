<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper docs-doc-page docs-version-current plugin-docs plugin-id-default docs-doc-id-zh/engines/table-engines/special/distributed">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-beta.18">
<link rel="preconnect" href="https://www.google-analytics.com">
<link rel="preconnect" href="https://www.googletagmanager.com">
<script async src="https://www.googletagmanager.com/gtag/js?id=G-KF1LLRTQ5Q"></script>
<script>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","G-KF1LLRTQ5Q",{})</script>
<link rel="search" type="application/opensearchdescription+xml" title="ClickHouse Docs" href="/opensearch.xml">
<script src="./src/js/analytics.js"></script><title data-rh="true">åˆ†å¸ƒå¼å¼•æ“ | ClickHouse Docs</title><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://sturdy-adventure-06fed4eb.pages.github.io//zh/engines/table-engines/special/distributed"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="åˆ†å¸ƒå¼å¼•æ“ | ClickHouse Docs"><meta data-rh="true" name="description" content="distributed}"><meta data-rh="true" property="og:description" content="distributed}"><link data-rh="true" rel="icon" href="/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://sturdy-adventure-06fed4eb.pages.github.io//zh/engines/table-engines/special/distributed"><link data-rh="true" rel="alternate" href="https://sturdy-adventure-06fed4eb.pages.github.io//zh/engines/table-engines/special/distributed" hreflang="en"><link data-rh="true" rel="alternate" href="https://sturdy-adventure-06fed4eb.pages.github.io//zh/engines/table-engines/special/distributed" hreflang="x-default"><link rel="stylesheet" href="/assets/css/styles.d094a63e.css">
<link rel="preload" href="/assets/js/runtime~main.db9e59e5.js" as="script">
<link rel="preload" href="/assets/js/main.028d105f.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div role="region"><a href="#" class="skipToContent_ZgBM">Skip to main content</a></div><nav class="navbar navbar--fixed-top navbarHideable_ObN2"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a href="https://clickhouse.com/" target="_blank" rel="noopener noreferrer" class="navbar__brand"><div class="navbar__logo"><img src="/img/clickhouse.svg" alt="ClickHouse" class="themedImage_W2Cr themedImage--light_TfLj"><img src="/img/clickhouse.svg" alt="ClickHouse" class="themedImage_W2Cr themedImage--dark_oUvU"></div><b class="navbar__title">ClickHouse</b></a><a class="navbar__item navbar__link" href="/en/intro">Docs</a></div><div class="navbar__items navbar__items--right"><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link">Language</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/en/intro">English</a></li><li><a class="dropdown__link" href="/ru">Russian</a></li><li><a aria-current="page" class="dropdown__link dropdown__link--active" href="/zh">Chinese</a></li></ul></div><div class="navbar__search"><span aria-label="expand searchbar" role="button" class="search-icon" tabindex="0"></span><input type="search" id="search_input_react" placeholder="Loading..." aria-label="Search" class="navbar__search-input search-bar" disabled=""></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div class="main-wrapper"><div class="docPage_P2Lg"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_RiI4" type="button"></button><aside class="theme-doc-sidebar-container docSidebarContainer_rKC_"><div class="sidebar_RiAD sidebarWithHideableNavbar_d0QC"><a href="https://clickhouse.com/" target="_blank" rel="noopener noreferrer" tabindex="-1" class="sidebarLogo_YUvz"><img src="/img/clickhouse.svg" alt="ClickHouse" class="themedImage_W2Cr themedImage--light_TfLj"><img src="/img/clickhouse.svg" alt="ClickHouse" class="themedImage_W2Cr themedImage--dark_oUvU"><b>ClickHouse</b></a><nav class="menu thin-scrollbar menu_izAj"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/zh/">ä»€ä¹ˆæ˜¯ClickHouseï¼Ÿ</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/category/ç®€ä»‹">ç®€ä»‹</a><button aria-label="Toggle the collapsible sidebar category &#x27;ç®€ä»‹&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/zh/getting-started/">å¿«é€Ÿä¸Šæ‰‹</a><button aria-label="Toggle the collapsible sidebar category &#x27;å¿«é€Ÿä¸Šæ‰‹&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/zh/interfaces/">æ¥å£</a><button aria-label="Toggle the collapsible sidebar category &#x27;æ¥å£&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" aria-expanded="true" href="/category/å¼•æ“">å¼•æ“</a><button aria-label="Toggle the collapsible sidebar category &#x27;å¼•æ“&#x27;" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/zh/engines/database-engines/">æ•°æ®åº“å¼•æ“</a><button aria-label="Toggle the collapsible sidebar category &#x27;æ•°æ®åº“å¼•æ“&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/zh/engines/">index</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" aria-expanded="true" tabindex="0" href="/zh/engines/table-engines/">è¡¨å¼•æ“</a><button aria-label="Toggle the collapsible sidebar category &#x27;è¡¨å¼•æ“&#x27;" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/zh/engines/table-engines/mergetree-family/">åˆå¹¶æ ‘å®¶æ—</a><button aria-label="Toggle the collapsible sidebar category &#x27;åˆå¹¶æ ‘å®¶æ—&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/zh/engines/table-engines/log-family/">æ—¥å¿—å¼•æ“ç³»åˆ—</a><button aria-label="Toggle the collapsible sidebar category &#x27;æ—¥å¿—å¼•æ“ç³»åˆ—&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/zh/engines/table-engines/integrations/">é›†æˆçš„è¡¨å¼•æ“</a><button aria-label="Toggle the collapsible sidebar category &#x27;é›†æˆçš„è¡¨å¼•æ“&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" aria-expanded="true" tabindex="0" href="/zh/engines/table-engines/special/distributed">special</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/zh/engines/table-engines/special/distributed">åˆ†å¸ƒå¼å¼•æ“</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/zh/engines/table-engines/special/join">å…³è”è¡¨å¼•æ“</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/zh/engines/table-engines/special/memory">Memory</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/zh/engines/table-engines/special/generate">éšæœºæ•°ç”Ÿæˆ</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/zh/engines/table-engines/special/buffer">ç¼“å†²åŒº</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/zh/engines/table-engines/special/dictionary">å­—å…¸</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/zh/engines/table-engines/special/external-data">ç”¨äºæŸ¥è¯¢å¤„ç†çš„å¤–éƒ¨æ•°æ®</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/zh/engines/table-engines/special/file">æ–‡ä»¶(è¾“å…¥æ ¼å¼)</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/zh/engines/table-engines/special/materializedview">MaterializedView</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/zh/engines/table-engines/special/merge">åˆå¹¶</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/zh/engines/table-engines/special/null">Null</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/zh/engines/table-engines/special/set">é›†åˆ</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/zh/engines/table-engines/special/url">URL(URL,æ ¼å¼)</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/zh/engines/table-engines/special/view">è§†å›¾</a></li></ul></li></ul></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/zh/sql-reference/">SQLå‚è€ƒ</a><button aria-label="Toggle the collapsible sidebar category &#x27;SQLå‚è€ƒ&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/zh/guides/">ClickHouseæŒ‡å—</a><button aria-label="Toggle the collapsible sidebar category &#x27;ClickHouseæŒ‡å—&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/zh/operations/">æ“ä½œ</a><button aria-label="Toggle the collapsible sidebar category &#x27;æ“ä½œ&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/zh/commercial/">å•†ä¸šæ”¯æŒ</a><button aria-label="Toggle the collapsible sidebar category &#x27;å•†ä¸šæ”¯æŒ&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/zh/faq/">F.A.Q.</a><button aria-label="Toggle the collapsible sidebar category &#x27;F.A.Q.&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/zh/whats-new/">ClickHouseäº‹è¿¹</a><button aria-label="Toggle the collapsible sidebar category &#x27;ClickHouseäº‹è¿¹&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/zh/changelog/">å˜æ›´æ—¥å¿—</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/zh/development/">ClickHouse å¼€å‘</a><button aria-label="Toggle the collapsible sidebar category &#x27;ClickHouse å¼€å‘&#x27;" type="button" class="clean-btn menu__caret"></button></div></li></ul></nav></div></aside><main class="docMainContainer_TCnq"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_DM6M"><div class="docItemContainer_vinB"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Xlws" aria-label="breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a class="breadcrumbs__link" href="/">ğŸ </a></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/category/å¼•æ“"><span itemprop="name">å¼•æ“</span></a><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/zh/engines/table-engines/"><span itemprop="name">è¡¨å¼•æ“</span></a><meta itemprop="position" content="2"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><span class="breadcrumbs__link" itemprop="item name">special</span><meta itemprop="position" content="3"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="item name">åˆ†å¸ƒå¼å¼•æ“</span><meta itemprop="position" content="4"></li></ul></nav><div class="tocCollapsible_jdIR theme-doc-toc-mobile tocMobile_TmEX"><button type="button" class="clean-btn tocCollapsibleButton_Fzxq">On this page</button></div><div class="theme-doc-markdown markdown"><h1>åˆ†å¸ƒå¼å¼•æ“</h1><p><strong>åˆ†å¸ƒå¼å¼•æ“æœ¬èº«ä¸å­˜å‚¨æ•°æ®</strong>, ä½†å¯ä»¥åœ¨å¤šä¸ªæœåŠ¡å™¨ä¸Šè¿›è¡Œåˆ†å¸ƒå¼æŸ¥è¯¢ã€‚
è¯»æ˜¯è‡ªåŠ¨å¹¶è¡Œçš„ã€‚è¯»å–æ—¶ï¼Œè¿œç¨‹æœåŠ¡å™¨è¡¨çš„ç´¢å¼•ï¼ˆå¦‚æœæœ‰çš„è¯ï¼‰ä¼šè¢«ä½¿ç”¨ã€‚</p><h2 class="anchor anchorWithHideOnScrollNavbar_R0VQ" id="distributed-creating-a-table">åˆ›å»ºæ•°æ®è¡¨<a class="hash-link" href="#distributed-creating-a-table" title="Direct link to heading">â€‹</a></h2><div class="codeBlockContainer_I0IT language-sql theme-code-block"><div class="codeBlockContent_wNvx" style="color:#000000;background-color:#ffffff"><pre tabindex="0" class="prism-code language-sql codeBlock_jd64 thin-scrollbar"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#000000"><span class="token keyword" style="color:rgb(0, 0, 255)">CREATE</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">TABLE</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token keyword" style="color:rgb(0, 0, 255)">IF</span><span class="token plain"> </span><span class="token operator" style="color:rgb(0, 0, 0)">NOT</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">EXISTS</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token plain">db</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token plain">table_name </span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token keyword" style="color:rgb(0, 0, 255)">ON</span><span class="token plain"> CLUSTER cluster</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    name1 </span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token plain">type1</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token keyword" style="color:rgb(0, 0, 255)">DEFAULT</span><span class="token operator" style="color:rgb(0, 0, 0)">|</span><span class="token plain">MATERIALIZED</span><span class="token operator" style="color:rgb(0, 0, 0)">|</span><span class="token plain">ALIAS expr1</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    name2 </span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token plain">type2</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token keyword" style="color:rgb(0, 0, 255)">DEFAULT</span><span class="token operator" style="color:rgb(0, 0, 0)">|</span><span class="token plain">MATERIALIZED</span><span class="token operator" style="color:rgb(0, 0, 0)">|</span><span class="token plain">ALIAS expr2</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">ENGINE</span><span class="token plain"> </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">Distributed</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">cluster</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">database</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">table</span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> sharding_key</span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> policy_name</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token plain">SETTINGS name</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token keyword" style="color:rgb(0, 0, 255)">value</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" title="Copy" class="copyButton_eDfN clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><h2 class="anchor anchorWithHideOnScrollNavbar_R0VQ" id="distributed-from-a-table">å·²æœ‰æ•°æ®è¡¨<a class="hash-link" href="#distributed-from-a-table" title="Direct link to heading">â€‹</a></h2><p>å½“ <code>Distributed</code> è¡¨æŒ‡å‘å½“å‰æœåŠ¡å™¨ä¸Šçš„ä¸€ä¸ªè¡¨æ—¶ï¼Œä½ å¯ä»¥é‡‡ç”¨ä»¥ä¸‹è¯­å¥:</p><div class="codeBlockContainer_I0IT language-sql theme-code-block"><div class="codeBlockContent_wNvx" style="color:#000000;background-color:#ffffff"><pre tabindex="0" class="prism-code language-sql codeBlock_jd64 thin-scrollbar"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#000000"><span class="token keyword" style="color:rgb(0, 0, 255)">CREATE</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">TABLE</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token keyword" style="color:rgb(0, 0, 255)">IF</span><span class="token plain"> </span><span class="token operator" style="color:rgb(0, 0, 0)">NOT</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">EXISTS</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token plain">db</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token plain">table_name </span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token keyword" style="color:rgb(0, 0, 255)">ON</span><span class="token plain"> CLUSTER cluster</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">AS</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token plain">db2</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token plain">name2 </span><span class="token keyword" style="color:rgb(0, 0, 255)">ENGINE</span><span class="token plain"> </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">Distributed</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">cluster</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">database</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">table</span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> sharding_key</span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> policy_name</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token plain">SETTINGS name</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token keyword" style="color:rgb(0, 0, 255)">value</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" title="Copy" class="copyButton_eDfN clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><p><strong>åˆ†å¸ƒå¼å¼•æ“å‚æ•°</strong></p><ul><li><p><code>cluster</code> - æœåŠ¡ä¸ºé…ç½®ä¸­çš„é›†ç¾¤å</p></li><li><p><code>database</code> - è¿œç¨‹æ•°æ®åº“å</p></li><li><p><code>table</code> - è¿œç¨‹æ•°æ®è¡¨å</p></li><li><p><code>sharding_key</code> - (å¯é€‰) åˆ†ç‰‡key</p></li><li><p><code>policy_name</code> - (å¯é€‰) è§„åˆ™åï¼Œå®ƒä¼šè¢«ç”¨ä½œå­˜å‚¨ä¸´æ—¶æ–‡ä»¶ä»¥ä¾¿å¼‚æ­¥å‘é€æ•°æ®</p></li></ul><p><strong>è¯¦è§</strong></p><ul><li><p><a href="/zh/operations/settings/#insert_distributed_sync">insert_distributed_sync</a> è®¾ç½®</p></li><li><p><a href="/zh/engines/table-engines/mergetree-family/mergetree#table_engine-mergetree-multiple-volumes">MergeTree</a> æŸ¥çœ‹ç¤ºä¾‹</p><p><strong>åˆ†å¸ƒå¼è®¾ç½®</strong></p></li><li><p><code>fsync_after_insert</code> - å¯¹å¼‚æ­¥æ’å…¥åˆ°åˆ†å¸ƒå¼çš„æ–‡ä»¶æ•°æ®æ‰§è¡Œ<code>fsync</code>ã€‚ç¡®ä¿æ“ä½œç³»ç»Ÿå°†æ‰€æœ‰æ’å…¥çš„æ•°æ®åˆ·æ–°åˆ°å¯åŠ¨èŠ‚ç‚¹<strong>ç£ç›˜ä¸Šçš„ä¸€ä¸ªæ–‡ä»¶</strong>ä¸­ã€‚</p></li><li><p><code>fsync_directories</code> - å¯¹ç›®å½•æ‰§è¡Œ<code>fsync</code>ã€‚ä¿è¯æ“ä½œç³»ç»Ÿåœ¨åˆ†å¸ƒå¼è¡¨ä¸Šè¿›è¡Œå¼‚æ­¥æ’å…¥ç›¸å…³æ“ä½œ(æ’å…¥åï¼Œå‘é€æ•°æ®åˆ°åˆ†ç‰‡ç­‰)ååˆ·æ–°ç›®å½•å…ƒæ•°æ®.</p></li><li><p><code>bytes_to_throw_insert</code> - å¦‚æœè¶…è¿‡è¿™ä¸ªæ•°é‡çš„å‹ç¼©å­—èŠ‚å°†ç­‰å¾…å¼‚æ­¥INSERTï¼Œå°†æŠ›å‡ºä¸€ä¸ªå¼‚å¸¸ã€‚0 - ä¸æŠ›å‡ºã€‚é»˜è®¤å€¼0.</p></li><li><p><code>bytes_to_delay_insert</code> - å¦‚æœè¶…è¿‡è¿™ä¸ªæ•°é‡çš„å‹ç¼©å­—èŠ‚å°†ç­‰å¾…å¼‚æ­¥INSERTï¼ŒæŸ¥è¯¢å°†è¢«å»¶è¿Ÿã€‚0 - ä¸è¦å»¶è¿Ÿã€‚é»˜è®¤å€¼0.</p></li><li><p><code>max_delay_to_insert</code> - æœ€å¤§å»¶è¿Ÿå¤šå°‘ç§’æ’å…¥æ•°æ®åˆ°åˆ†å¸ƒå¼è¡¨ï¼Œå¦‚æœæœ‰å¾ˆå¤šæŒ‚èµ·å­—èŠ‚å¼‚æ­¥å‘é€ã€‚é»˜è®¤å€¼60ã€‚</p></li><li><p><code>monitor_batch_inserts</code> - ç­‰åŒäº <a href="/zh/operations/settings/#distributed_directory_monitor_batch_inserts">distributed_directory_monitor_batch_inserts</a></p></li><li><p><code>monitor_split_batch_on_failure</code> - ç­‰åŒäº<a href="/zh/operations/settings/#distributed_directory_monitor_split_batch_on_failure">distributed_directory_monitor_split_batch_on_failure</a></p></li><li><p><code>monitor_sleep_time_ms</code> - ç­‰åŒäº <a href="/zh/operations/settings/#distributed_directory_monitor_sleep_time_ms">distributed_directory_monitor_sleep_time_ms</a></p></li><li><p><code>monitor_max_sleep_time_ms</code> - ç­‰åŒäº <a href="/zh/operations/settings/#distributed_directory_monitor_max_sleep_time_ms">distributed_directory_monitor_max_sleep_time_ms</a></p></li></ul><p>!!! note &quot;å¤‡æ³¨&quot;</p><div class="codeBlockContainer_I0IT theme-code-block"><div class="codeBlockContent_wNvx" style="color:#000000;background-color:#ffffff"><pre tabindex="0" class="prism-code language-text codeBlock_jd64 thin-scrollbar"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#000000"><span class="token plain">**ç¨³å®šæ€§è®¾ç½®** (`fsync_...`):</span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">- åªå½±å“å¼‚æ­¥æ’å…¥(ä¾‹å¦‚:`insert_distributed_sync=false`), å½“æ•°æ®é¦–å…ˆå­˜å‚¨åœ¨å¯åŠ¨èŠ‚ç‚¹ç£ç›˜ä¸Šï¼Œç„¶åå†å¼‚æ­¥å‘é€åˆ°shardã€‚</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">â€” å¯èƒ½ä¼šæ˜¾è‘—é™ä½`insert`çš„æ€§èƒ½</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">- å½±å“å°†å­˜å‚¨åœ¨åˆ†å¸ƒå¼è¡¨æ–‡ä»¶å¤¹ä¸­çš„æ•°æ®å†™å…¥ **æ¥å—æ‚¨æ’å…¥çš„èŠ‚ç‚¹** ã€‚å¦‚æœä½ éœ€è¦ä¿è¯å†™å…¥æ•°æ®åˆ°åº•å±‚çš„MergeTreeè¡¨ä¸­ï¼Œè¯·å‚é˜… `system.merge_tree_settings` ä¸­çš„æŒä¹…æ€§è®¾ç½®(`...fsync...`)</span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">**æ’å…¥é™åˆ¶è®¾ç½®** (`..._insert`) è¯·è§:</span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">- [insert_distributed_sync](/zh/operations/settings/#insert_distributed_sync) è®¾ç½®</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">- [prefer_localhost_replica](/zh/operations/settings/#settings-prefer-localhost-replica) è®¾ç½®</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">- `bytes_to_throw_insert` åœ¨ `bytes_to_delay_insert` ä¹‹å‰å¤„ç†ï¼Œæ‰€ä»¥ä½ ä¸åº”è¯¥è®¾ç½®å®ƒçš„å€¼å°äº `bytes_to_delay_insert`</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" title="Copy" class="copyButton_eDfN clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><p><strong>ç¤ºä¾‹</strong></p><div class="codeBlockContainer_I0IT language-sql theme-code-block"><div class="codeBlockContent_wNvx" style="color:#000000;background-color:#ffffff"><pre tabindex="0" class="prism-code language-sql codeBlock_jd64 thin-scrollbar"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#000000"><span class="token keyword" style="color:rgb(0, 0, 255)">CREATE</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">TABLE</span><span class="token plain"> hits_all </span><span class="token keyword" style="color:rgb(0, 0, 255)">AS</span><span class="token plain"> hits</span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token keyword" style="color:rgb(0, 0, 255)">ENGINE</span><span class="token plain"> </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">Distributed</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">logs</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">default</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> hits</span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> sharding_key</span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> policy_name</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">SETTINGS</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    fsync_after_insert</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token number" style="color:rgb(9, 134, 88)">0</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    fsync_directories</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token number" style="color:rgb(9, 134, 88)">0</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" title="Copy" class="copyButton_eDfN clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><p>æ•°æ®å°†ä»<code>logs</code>é›†ç¾¤ä¸­çš„æ‰€æœ‰æœåŠ¡å™¨ä¸­ï¼Œä»ä½äºé›†ç¾¤ä¸­çš„æ¯ä¸ªæœåŠ¡å™¨ä¸Šçš„<code>default.hits</code>è¡¨è¯»å–ã€‚ã€‚
æ•°æ®ä¸ä»…åœ¨è¿œç¨‹æœåŠ¡å™¨ä¸Šè¯»å–ï¼Œè€Œä¸”åœ¨è¿œç¨‹æœåŠ¡å™¨ä¸Šè¿›è¡Œéƒ¨åˆ†å¤„ç†(åœ¨å¯èƒ½çš„èŒƒå›´å†…)ã€‚
ä¾‹å¦‚ï¼Œå¯¹äºå¸¦æœ‰ <code>GROUP BY</code>çš„æŸ¥è¯¢ï¼Œæ•°æ®å°†åœ¨è¿œç¨‹æœåŠ¡å™¨ä¸Šèšåˆï¼Œèšåˆå‡½æ•°çš„ä¸­é—´çŠ¶æ€å°†è¢«å‘é€åˆ°è¯·æ±‚è€…æœåŠ¡å™¨ã€‚ç„¶åå°†è¿›ä¸€æ­¥èšåˆæ•°æ®ã€‚</p><p>æ‚¨å¯ä»¥ä½¿ç”¨ä¸€ä¸ªè¿”å›å­—ç¬¦ä¸²çš„å¸¸é‡è¡¨è¾¾å¼æ¥ä»£æ›¿æ•°æ®åº“åç§°ã€‚ä¾‹å¦‚: <code>currentDatabase()</code>ã€‚</p><h2 class="anchor anchorWithHideOnScrollNavbar_R0VQ" id="distributed-clusters">é›†ç¾¤<a class="hash-link" href="#distributed-clusters" title="Direct link to heading">â€‹</a></h2><p>é›†ç¾¤æ˜¯é€šè¿‡<a href="/zh/operations/configuration-files">æœåŠ¡å™¨é…ç½®æ–‡ä»¶</a>æ¥é…ç½®çš„</p><div class="codeBlockContainer_I0IT language-xml theme-code-block"><div class="codeBlockContent_wNvx" style="color:#000000;background-color:#ffffff"><pre tabindex="0" class="prism-code language-xml codeBlock_jd64 thin-scrollbar"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#000000"><span class="token tag punctuation" style="color:rgb(4, 81, 165)">&lt;</span><span class="token tag" style="color:rgb(128, 0, 0)">remote_servers</span><span class="token tag punctuation" style="color:rgb(4, 81, 165)">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token tag punctuation" style="color:rgb(4, 81, 165)">&lt;</span><span class="token tag" style="color:rgb(128, 0, 0)">logs</span><span class="token tag punctuation" style="color:rgb(4, 81, 165)">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token comment" style="color:rgb(0, 128, 0)">&lt;!-- åˆ†å¸ƒå¼æŸ¥è¯¢çš„æœåŠ¡å™¨é—´é›†ç¾¤å¯†ç </span><br></span><span class="token-line" style="color:#000000"><span class="token comment" style="color:rgb(0, 128, 0)">             é»˜è®¤å€¼:æ— å¯†ç (å°†ä¸æ‰§è¡Œèº«ä»½éªŒè¯)</span><br></span><span class="token-line" style="color:#000000"><span class="token comment" style="display:inline-block;color:rgb(0, 128, 0)"></span><br></span><span class="token-line" style="color:#000000"><span class="token comment" style="color:rgb(0, 128, 0)">             å¦‚æœè®¾ç½®äº†ï¼Œé‚£ä¹ˆåˆ†å¸ƒå¼æŸ¥è¯¢å°†åœ¨åˆ†ç‰‡ä¸ŠéªŒè¯ï¼Œæ‰€ä»¥è‡³å°‘:</span><br></span><span class="token-line" style="color:#000000"><span class="token comment" style="color:rgb(0, 128, 0)">             - è¿™æ ·çš„é›†ç¾¤åº”è¯¥å­˜åœ¨äºshardä¸Š</span><br></span><span class="token-line" style="color:#000000"><span class="token comment" style="color:rgb(0, 128, 0)">             - è¿™æ ·çš„é›†ç¾¤åº”è¯¥æœ‰ç›¸åŒçš„å¯†ç ã€‚</span><br></span><span class="token-line" style="color:#000000"><span class="token comment" style="display:inline-block;color:rgb(0, 128, 0)"></span><br></span><span class="token-line" style="color:#000000"><span class="token comment" style="color:rgb(0, 128, 0)">             è€Œä¸”(è¿™æ˜¯æ›´é‡è¦çš„)ï¼Œinitial_userå°†ä½œä¸ºæŸ¥è¯¢çš„å½“å‰ç”¨æˆ·ä½¿ç”¨ã€‚</span><br></span><span class="token-line" style="color:#000000"><span class="token comment" style="color:rgb(0, 128, 0)">        --&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token comment" style="color:rgb(0, 128, 0)">&lt;!-- &lt;secret&gt;&lt;/secret&gt; --&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token tag punctuation" style="color:rgb(4, 81, 165)">&lt;</span><span class="token tag" style="color:rgb(128, 0, 0)">shard</span><span class="token tag punctuation" style="color:rgb(4, 81, 165)">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">            </span><span class="token comment" style="color:rgb(0, 128, 0)">&lt;!-- å¯é€‰çš„ã€‚å†™æ•°æ®æ—¶åˆ†ç‰‡æƒé‡ã€‚ é»˜è®¤: 1. --&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">            </span><span class="token tag punctuation" style="color:rgb(4, 81, 165)">&lt;</span><span class="token tag" style="color:rgb(128, 0, 0)">weight</span><span class="token tag punctuation" style="color:rgb(4, 81, 165)">&gt;</span><span class="token plain">1</span><span class="token tag punctuation" style="color:rgb(4, 81, 165)">&lt;/</span><span class="token tag" style="color:rgb(128, 0, 0)">weight</span><span class="token tag punctuation" style="color:rgb(4, 81, 165)">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">            </span><span class="token comment" style="color:rgb(0, 128, 0)">&lt;!-- å¯é€‰çš„ã€‚æ˜¯å¦åªå°†æ•°æ®å†™å…¥å…¶ä¸­ä¸€ä¸ªå‰¯æœ¬ã€‚é»˜è®¤å€¼:false(å°†æ•°æ®å†™å…¥æ‰€æœ‰å‰¯æœ¬)ã€‚ --&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">            </span><span class="token tag punctuation" style="color:rgb(4, 81, 165)">&lt;</span><span class="token tag" style="color:rgb(128, 0, 0)">internal_replication</span><span class="token tag punctuation" style="color:rgb(4, 81, 165)">&gt;</span><span class="token plain">false</span><span class="token tag punctuation" style="color:rgb(4, 81, 165)">&lt;/</span><span class="token tag" style="color:rgb(128, 0, 0)">internal_replication</span><span class="token tag punctuation" style="color:rgb(4, 81, 165)">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">            </span><span class="token tag punctuation" style="color:rgb(4, 81, 165)">&lt;</span><span class="token tag" style="color:rgb(128, 0, 0)">replica</span><span class="token tag punctuation" style="color:rgb(4, 81, 165)">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">                </span><span class="token comment" style="color:rgb(0, 128, 0)">&lt;!-- å¯é€‰çš„ã€‚è´Ÿè½½å‡è¡¡å‰¯æœ¬çš„ä¼˜å…ˆçº§ï¼Œè¯·å‚è§ï¼ˆload_balancing è®¾ç½®)ã€‚é»˜è®¤å€¼:1(å€¼è¶Šå°ä¼˜å…ˆçº§è¶Šé«˜)ã€‚ --&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">                </span><span class="token tag punctuation" style="color:rgb(4, 81, 165)">&lt;</span><span class="token tag" style="color:rgb(128, 0, 0)">priority</span><span class="token tag punctuation" style="color:rgb(4, 81, 165)">&gt;</span><span class="token plain">1</span><span class="token tag punctuation" style="color:rgb(4, 81, 165)">&lt;/</span><span class="token tag" style="color:rgb(128, 0, 0)">priority</span><span class="token tag punctuation" style="color:rgb(4, 81, 165)">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">                </span><span class="token tag punctuation" style="color:rgb(4, 81, 165)">&lt;</span><span class="token tag" style="color:rgb(128, 0, 0)">host</span><span class="token tag punctuation" style="color:rgb(4, 81, 165)">&gt;</span><span class="token plain">example01-01-1</span><span class="token tag punctuation" style="color:rgb(4, 81, 165)">&lt;/</span><span class="token tag" style="color:rgb(128, 0, 0)">host</span><span class="token tag punctuation" style="color:rgb(4, 81, 165)">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">                </span><span class="token tag punctuation" style="color:rgb(4, 81, 165)">&lt;</span><span class="token tag" style="color:rgb(128, 0, 0)">port</span><span class="token tag punctuation" style="color:rgb(4, 81, 165)">&gt;</span><span class="token plain">9000</span><span class="token tag punctuation" style="color:rgb(4, 81, 165)">&lt;/</span><span class="token tag" style="color:rgb(128, 0, 0)">port</span><span class="token tag punctuation" style="color:rgb(4, 81, 165)">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">            </span><span class="token tag punctuation" style="color:rgb(4, 81, 165)">&lt;/</span><span class="token tag" style="color:rgb(128, 0, 0)">replica</span><span class="token tag punctuation" style="color:rgb(4, 81, 165)">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">            </span><span class="token tag punctuation" style="color:rgb(4, 81, 165)">&lt;</span><span class="token tag" style="color:rgb(128, 0, 0)">replica</span><span class="token tag punctuation" style="color:rgb(4, 81, 165)">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">                </span><span class="token tag punctuation" style="color:rgb(4, 81, 165)">&lt;</span><span class="token tag" style="color:rgb(128, 0, 0)">host</span><span class="token tag punctuation" style="color:rgb(4, 81, 165)">&gt;</span><span class="token plain">example01-01-2</span><span class="token tag punctuation" style="color:rgb(4, 81, 165)">&lt;/</span><span class="token tag" style="color:rgb(128, 0, 0)">host</span><span class="token tag punctuation" style="color:rgb(4, 81, 165)">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">                </span><span class="token tag punctuation" style="color:rgb(4, 81, 165)">&lt;</span><span class="token tag" style="color:rgb(128, 0, 0)">port</span><span class="token tag punctuation" style="color:rgb(4, 81, 165)">&gt;</span><span class="token plain">9000</span><span class="token tag punctuation" style="color:rgb(4, 81, 165)">&lt;/</span><span class="token tag" style="color:rgb(128, 0, 0)">port</span><span class="token tag punctuation" style="color:rgb(4, 81, 165)">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">            </span><span class="token tag punctuation" style="color:rgb(4, 81, 165)">&lt;/</span><span class="token tag" style="color:rgb(128, 0, 0)">replica</span><span class="token tag punctuation" style="color:rgb(4, 81, 165)">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token tag punctuation" style="color:rgb(4, 81, 165)">&lt;/</span><span class="token tag" style="color:rgb(128, 0, 0)">shard</span><span class="token tag punctuation" style="color:rgb(4, 81, 165)">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token tag punctuation" style="color:rgb(4, 81, 165)">&lt;</span><span class="token tag" style="color:rgb(128, 0, 0)">shard</span><span class="token tag punctuation" style="color:rgb(4, 81, 165)">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">            </span><span class="token tag punctuation" style="color:rgb(4, 81, 165)">&lt;</span><span class="token tag" style="color:rgb(128, 0, 0)">weight</span><span class="token tag punctuation" style="color:rgb(4, 81, 165)">&gt;</span><span class="token plain">2</span><span class="token tag punctuation" style="color:rgb(4, 81, 165)">&lt;/</span><span class="token tag" style="color:rgb(128, 0, 0)">weight</span><span class="token tag punctuation" style="color:rgb(4, 81, 165)">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">            </span><span class="token tag punctuation" style="color:rgb(4, 81, 165)">&lt;</span><span class="token tag" style="color:rgb(128, 0, 0)">internal_replication</span><span class="token tag punctuation" style="color:rgb(4, 81, 165)">&gt;</span><span class="token plain">false</span><span class="token tag punctuation" style="color:rgb(4, 81, 165)">&lt;/</span><span class="token tag" style="color:rgb(128, 0, 0)">internal_replication</span><span class="token tag punctuation" style="color:rgb(4, 81, 165)">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">            </span><span class="token tag punctuation" style="color:rgb(4, 81, 165)">&lt;</span><span class="token tag" style="color:rgb(128, 0, 0)">replica</span><span class="token tag punctuation" style="color:rgb(4, 81, 165)">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">                </span><span class="token tag punctuation" style="color:rgb(4, 81, 165)">&lt;</span><span class="token tag" style="color:rgb(128, 0, 0)">host</span><span class="token tag punctuation" style="color:rgb(4, 81, 165)">&gt;</span><span class="token plain">example01-02-1</span><span class="token tag punctuation" style="color:rgb(4, 81, 165)">&lt;/</span><span class="token tag" style="color:rgb(128, 0, 0)">host</span><span class="token tag punctuation" style="color:rgb(4, 81, 165)">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">                </span><span class="token tag punctuation" style="color:rgb(4, 81, 165)">&lt;</span><span class="token tag" style="color:rgb(128, 0, 0)">port</span><span class="token tag punctuation" style="color:rgb(4, 81, 165)">&gt;</span><span class="token plain">9000</span><span class="token tag punctuation" style="color:rgb(4, 81, 165)">&lt;/</span><span class="token tag" style="color:rgb(128, 0, 0)">port</span><span class="token tag punctuation" style="color:rgb(4, 81, 165)">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">            </span><span class="token tag punctuation" style="color:rgb(4, 81, 165)">&lt;/</span><span class="token tag" style="color:rgb(128, 0, 0)">replica</span><span class="token tag punctuation" style="color:rgb(4, 81, 165)">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">            </span><span class="token tag punctuation" style="color:rgb(4, 81, 165)">&lt;</span><span class="token tag" style="color:rgb(128, 0, 0)">replica</span><span class="token tag punctuation" style="color:rgb(4, 81, 165)">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">                </span><span class="token tag punctuation" style="color:rgb(4, 81, 165)">&lt;</span><span class="token tag" style="color:rgb(128, 0, 0)">host</span><span class="token tag punctuation" style="color:rgb(4, 81, 165)">&gt;</span><span class="token plain">example01-02-2</span><span class="token tag punctuation" style="color:rgb(4, 81, 165)">&lt;/</span><span class="token tag" style="color:rgb(128, 0, 0)">host</span><span class="token tag punctuation" style="color:rgb(4, 81, 165)">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">                </span><span class="token tag punctuation" style="color:rgb(4, 81, 165)">&lt;</span><span class="token tag" style="color:rgb(128, 0, 0)">secure</span><span class="token tag punctuation" style="color:rgb(4, 81, 165)">&gt;</span><span class="token plain">1</span><span class="token tag punctuation" style="color:rgb(4, 81, 165)">&lt;/</span><span class="token tag" style="color:rgb(128, 0, 0)">secure</span><span class="token tag punctuation" style="color:rgb(4, 81, 165)">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">                </span><span class="token tag punctuation" style="color:rgb(4, 81, 165)">&lt;</span><span class="token tag" style="color:rgb(128, 0, 0)">port</span><span class="token tag punctuation" style="color:rgb(4, 81, 165)">&gt;</span><span class="token plain">9440</span><span class="token tag punctuation" style="color:rgb(4, 81, 165)">&lt;/</span><span class="token tag" style="color:rgb(128, 0, 0)">port</span><span class="token tag punctuation" style="color:rgb(4, 81, 165)">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">            </span><span class="token tag punctuation" style="color:rgb(4, 81, 165)">&lt;/</span><span class="token tag" style="color:rgb(128, 0, 0)">replica</span><span class="token tag punctuation" style="color:rgb(4, 81, 165)">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token tag punctuation" style="color:rgb(4, 81, 165)">&lt;/</span><span class="token tag" style="color:rgb(128, 0, 0)">shard</span><span class="token tag punctuation" style="color:rgb(4, 81, 165)">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token tag punctuation" style="color:rgb(4, 81, 165)">&lt;/</span><span class="token tag" style="color:rgb(128, 0, 0)">logs</span><span class="token tag punctuation" style="color:rgb(4, 81, 165)">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token tag punctuation" style="color:rgb(4, 81, 165)">&lt;/</span><span class="token tag" style="color:rgb(128, 0, 0)">remote_servers</span><span class="token tag punctuation" style="color:rgb(4, 81, 165)">&gt;</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" title="Copy" class="copyButton_eDfN clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><p>è¿™é‡Œå®šä¹‰äº†ä¸€ä¸ªåä¸ºâ€™logsâ€™çš„é›†ç¾¤ï¼Œå®ƒç”±ä¸¤ä¸ªåˆ†ç‰‡ç»„æˆï¼Œæ¯ä¸ªåˆ†ç‰‡åŒ…å«ä¸¤ä¸ªå‰¯æœ¬ã€‚
åˆ†ç‰‡æ˜¯æŒ‡åŒ…å«æ•°æ®ä¸åŒéƒ¨åˆ†çš„æœåŠ¡å™¨ï¼ˆè¦è¯»å–æ‰€æœ‰æ•°æ®ï¼Œå¿…é¡»è®¿é—®æ‰€æœ‰åˆ†ç‰‡ï¼‰ã€‚
å‰¯æœ¬æ˜¯å­˜å‚¨å¤åˆ¶æ•°æ®çš„æœåŠ¡å™¨ï¼ˆè¦è¯»å–æ‰€æœ‰æ•°æ®ï¼Œè®¿é—®ä»»ä¸€å‰¯æœ¬ä¸Šçš„æ•°æ®å³å¯ï¼‰ã€‚</p><p>é›†ç¾¤åç§°ä¸èƒ½åŒ…å«ç‚¹å·ã€‚</p><p>æ¯ä¸ªæœåŠ¡å™¨éœ€è¦æŒ‡å®š <code>host</code>ï¼Œ<code>port</code>ï¼Œå’Œå¯é€‰çš„ <code>user</code>ï¼Œ<code>password</code>ï¼Œ<code>secure</code>ï¼Œ<code>compression</code> çš„å‚æ•°ï¼š</p><ul><li><code>host</code> â€“ è¿œç¨‹æœåŠ¡å™¨åœ°å€ã€‚å¯ä»¥åŸŸåã€IPv4æˆ–IPv6ã€‚å¦‚æœæŒ‡å®šåŸŸåï¼Œåˆ™æœåŠ¡åœ¨å¯åŠ¨æ—¶å‘èµ·ä¸€ä¸ª DNS è¯·æ±‚ï¼Œå¹¶ä¸”è¯·æ±‚ç»“æœä¼šåœ¨æœåŠ¡å™¨è¿è¡ŒæœŸé—´ä¸€ç›´è¢«è®°å½•ã€‚å¦‚æœ DNS è¯·æ±‚å¤±è´¥ï¼Œåˆ™æœåŠ¡ä¸ä¼šå¯åŠ¨ã€‚å¦‚æœä½ ä¿®æ”¹äº† DNS è®°å½•ï¼Œåˆ™éœ€è¦é‡å¯æœåŠ¡ã€‚</li><li><code>port</code> â€“ æ¶ˆæ¯ä¼ é€’çš„ TCP ç«¯å£ï¼ˆã€Œtcp_portã€é…ç½®é€šå¸¸è®¾ä¸º 9000ï¼‰ã€‚ä¸è¦è·Ÿ http_port æ··æ·†ã€‚</li><li><code>user</code> â€“ ç”¨äºè¿æ¥è¿œç¨‹æœåŠ¡å™¨çš„ç”¨æˆ·åã€‚é»˜è®¤å€¼ï¼šdefaultã€‚è¯¥ç”¨æˆ·å¿…é¡»æœ‰æƒé™è®¿é—®è¯¥è¿œç¨‹æœåŠ¡å™¨ã€‚è®¿é—®æƒé™é…ç½®åœ¨ users.xml æ–‡ä»¶ä¸­ã€‚æ›´å¤šä¿¡æ¯ï¼Œè¯·æŸ¥çœ‹Â«è®¿é—®æƒé™Â»éƒ¨åˆ†ã€‚</li><li><code>password</code> â€“ ç”¨äºè¿æ¥è¿œç¨‹æœåŠ¡å™¨çš„å¯†ç ã€‚é»˜è®¤å€¼ï¼šç©ºå­—ç¬¦ä¸²ã€‚</li><li><code>secure</code> â€“ æ˜¯å¦ä½¿ç”¨sslè¿›è¡Œè¿æ¥ï¼Œè®¾ä¸ºtrueæ—¶ï¼Œé€šå¸¸ä¹Ÿåº”è¯¥è®¾ç½® <code>port</code> = 9440ã€‚æœåŠ¡å™¨ä¹Ÿè¦ç›‘å¬ <code>&lt;tcp_port_secure&gt;9440&lt;/tcp_port_secure&gt;</code> å¹¶æœ‰æ­£ç¡®çš„è¯ä¹¦ã€‚</li><li><code>compression</code> - æ˜¯å¦ä½¿ç”¨æ•°æ®å‹ç¼©ã€‚é»˜è®¤å€¼ï¼štrueã€‚</li></ul><p>é…ç½®äº†å‰¯æœ¬ï¼Œè¯»å–æ“ä½œä¼šä»æ¯ä¸ªåˆ†ç‰‡é‡Œé€‰æ‹©ä¸€ä¸ªå¯ç”¨çš„å‰¯æœ¬ã€‚å¯é…ç½®è´Ÿè½½å¹³è¡¡ç®—æ³•ï¼ˆæŒ‘é€‰å‰¯æœ¬çš„æ–¹å¼ï¼‰ - è¯·å‚é˜…Â«load_balancingÂ»è®¾ç½®ã€‚
å¦‚æœè·ŸæœåŠ¡å™¨çš„è¿æ¥ä¸å¯ç”¨ï¼Œåˆ™åœ¨å°è¯•çŸ­è¶…æ—¶çš„é‡è¿ã€‚å¦‚æœé‡è¿å¤±è´¥ï¼Œåˆ™é€‰æ‹©ä¸‹ä¸€ä¸ªå‰¯æœ¬ï¼Œä¾æ­¤ç±»æ¨ã€‚å¦‚æœè·Ÿæ‰€æœ‰å‰¯æœ¬çš„è¿æ¥å°è¯•éƒ½å¤±è´¥ï¼Œåˆ™å°è¯•ç”¨ç›¸åŒçš„æ–¹å¼å†é‡å¤å‡ æ¬¡ã€‚
è¯¥æœºåˆ¶æœ‰åˆ©äºç³»ç»Ÿå¯ç”¨æ€§ï¼Œä½†ä¸ä¿è¯å®Œå…¨å®¹é”™ï¼šå¦‚æœ‰è¿œç¨‹æœåŠ¡å™¨èƒ½å¤Ÿæ¥å—è¿æ¥ï¼Œä½†æ— æ³•æ­£å¸¸å·¥ä½œæˆ–çŠ¶å†µä¸ä½³ã€‚</p><p>ä½ å¯ä»¥é…ç½®ä¸€ä¸ªï¼ˆè¿™ç§æƒ…å†µä¸‹ï¼ŒæŸ¥è¯¢æ“ä½œæ›´åº”è¯¥ç§°ä¸ºè¿œç¨‹æŸ¥è¯¢ï¼Œè€Œä¸æ˜¯åˆ†å¸ƒå¼æŸ¥è¯¢ï¼‰æˆ–ä»»æ„å¤šä¸ªåˆ†ç‰‡ã€‚åœ¨æ¯ä¸ªåˆ†ç‰‡ä¸­ï¼Œå¯ä»¥é…ç½®ä¸€ä¸ªæˆ–ä»»æ„å¤šä¸ªå‰¯æœ¬ã€‚ä¸åŒåˆ†ç‰‡å¯é…ç½®ä¸åŒæ•°é‡çš„å‰¯æœ¬ã€‚</p><p>å¯ä»¥åœ¨é…ç½®ä¸­é…ç½®ä»»æ„æ•°é‡çš„é›†ç¾¤ã€‚</p><p>è¦æŸ¥çœ‹é›†ç¾¤ï¼Œå¯ä½¿ç”¨Â«system.clustersÂ»è¡¨ã€‚</p><p>é€šè¿‡åˆ†å¸ƒå¼å¼•æ“å¯ä»¥åƒä½¿ç”¨æœ¬åœ°æœåŠ¡å™¨ä¸€æ ·ä½¿ç”¨é›†ç¾¤ã€‚ä½†æ˜¯ï¼Œé›†ç¾¤ä¸æ˜¯è‡ªåŠ¨æ‰©å±•çš„ï¼šä½ å¿…é¡»ç¼–å†™é›†ç¾¤é…ç½®åˆ°æœåŠ¡å™¨é…ç½®æ–‡ä»¶ä¸­ï¼ˆæœ€å¥½ï¼Œç»™æ‰€æœ‰é›†ç¾¤çš„æœåŠ¡å™¨å†™ä¸Šå®Œæ•´é…ç½®ï¼‰ã€‚</p><p>ä¸æ”¯æŒç”¨åˆ†å¸ƒå¼è¡¨æŸ¥è¯¢åˆ«çš„åˆ†å¸ƒå¼è¡¨ï¼ˆé™¤éè¯¥è¡¨åªæœ‰ä¸€ä¸ªåˆ†ç‰‡ï¼‰ã€‚æˆ–è€…è¯´ï¼Œè¦ç”¨åˆ†å¸ƒè¡¨æŸ¥æŸ¥è¯¢Â«æœ€ç»ˆÂ»çš„æ•°æ®è¡¨ã€‚
åˆ†å¸ƒå¼å¼•æ“éœ€è¦å°†é›†ç¾¤ä¿¡æ¯å†™å…¥é…ç½®æ–‡ä»¶ã€‚é…ç½®æ–‡ä»¶ä¸­çš„é›†ç¾¤ä¿¡æ¯ä¼šå³æ—¶æ›´æ–°ï¼Œæ— éœ€é‡å¯æœåŠ¡å™¨ã€‚å¦‚æœä½ æ¯æ¬¡æ˜¯è¦å‘ä¸ç¡®å®šçš„ä¸€ç»„åˆ†ç‰‡å’Œå‰¯æœ¬å‘é€æŸ¥è¯¢ï¼Œåˆ™ä¸é€‚åˆåˆ›å»ºåˆ†å¸ƒå¼è¡¨ - è€Œåº”è¯¥ä½¿ç”¨Â«è¿œç¨‹Â»è¡¨å‡½æ•°ã€‚ è¯·å‚é˜…Â«è¡¨å‡½æ•°Â»éƒ¨åˆ†ã€‚</p><h2 class="anchor anchorWithHideOnScrollNavbar_R0VQ" id="å†™å…¥æ•°æ®">å†™å…¥æ•°æ®<a class="hash-link" href="#å†™å…¥æ•°æ®" title="Direct link to heading">â€‹</a></h2><p>å‘é›†ç¾¤å†™æ•°æ®çš„æ–¹æ³•æœ‰ä¸¤ç§ï¼š</p><p>ä¸€ï¼Œè‡ªå·²æŒ‡å®šè¦å°†å“ªäº›æ•°æ®å†™å…¥å“ªäº›æœåŠ¡å™¨ï¼Œå¹¶ç›´æ¥åœ¨æ¯ä¸ªåˆ†ç‰‡ä¸Šæ‰§è¡Œå†™å…¥ã€‚æ¢å¥è¯è¯´ï¼Œåœ¨åˆ†å¸ƒå¼è¡¨ä¸ŠÂ«æŸ¥è¯¢Â»ï¼Œåœ¨æ•°æ®è¡¨ä¸Š INSERTã€‚
è¿™æ˜¯æœ€çµæ´»çš„è§£å†³æ–¹æ¡ˆ â€“ ä½ å¯ä»¥ä½¿ç”¨ä»»ä½•åˆ†ç‰‡æ–¹æ¡ˆï¼Œå¯¹äºå¤æ‚ä¸šåŠ¡ç‰¹æ€§çš„éœ€æ±‚ï¼Œè¿™å¯èƒ½æ˜¯éå¸¸é‡è¦çš„ã€‚
è¿™ä¹Ÿæ˜¯æœ€ä½³è§£å†³æ–¹æ¡ˆï¼Œå› ä¸ºæ•°æ®å¯ä»¥å®Œå…¨ç‹¬ç«‹åœ°å†™å…¥ä¸åŒçš„åˆ†ç‰‡ã€‚</p><p>äºŒï¼Œåœ¨åˆ†å¸ƒå¼è¡¨ä¸Šæ‰§è¡Œ INSERTã€‚åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œåˆ†å¸ƒå¼è¡¨ä¼šè·¨æœåŠ¡å™¨åˆ†å‘æ’å…¥æ•°æ®ã€‚
ä¸ºäº†å†™å…¥åˆ†å¸ƒå¼è¡¨ï¼Œå¿…é¡»è¦é…ç½®åˆ†ç‰‡é”®ï¼ˆæœ€åä¸€ä¸ªå‚æ•°ï¼‰ã€‚å½“ç„¶ï¼Œå¦‚æœåªæœ‰ä¸€ä¸ªåˆ†ç‰‡ï¼Œåˆ™å†™æ“ä½œåœ¨æ²¡æœ‰åˆ†ç‰‡é”®çš„æƒ…å†µä¸‹ä¹Ÿèƒ½å·¥ä½œï¼Œå› ä¸ºè¿™ç§æƒ…å†µä¸‹åˆ†ç‰‡é”®æ²¡æœ‰æ„ä¹‰ã€‚</p><p>æ¯ä¸ªåˆ†ç‰‡éƒ½å¯ä»¥åœ¨é…ç½®æ–‡ä»¶ä¸­å®šä¹‰æƒé‡ã€‚é»˜è®¤æƒ…å†µä¸‹ï¼Œæƒé‡ç­‰äº1ã€‚æ•°æ®ä¾æ®åˆ†ç‰‡æƒé‡æŒ‰æ¯”ä¾‹åˆ†å‘åˆ°åˆ†ç‰‡ä¸Šã€‚ä¾‹å¦‚ï¼Œå¦‚æœæœ‰ä¸¤ä¸ªåˆ†ç‰‡ï¼Œç¬¬ä¸€ä¸ªåˆ†ç‰‡çš„æƒé‡æ˜¯9ï¼Œè€Œç¬¬äºŒä¸ªåˆ†ç‰‡çš„æƒé‡æ˜¯10ï¼Œåˆ™å‘é€ 9 / 19 çš„è¡Œåˆ°ç¬¬ä¸€ä¸ªåˆ†ç‰‡ï¼Œ 10 / 19 çš„è¡Œåˆ°ç¬¬äºŒä¸ªåˆ†ç‰‡ã€‚</p><p>åˆ†ç‰‡å¯åœ¨é…ç½®æ–‡ä»¶ä¸­å®šä¹‰ â€˜internal_replicationâ€™ å‚æ•°ã€‚</p><p>æ­¤å‚æ•°è®¾ç½®ä¸ºÂ«trueÂ»æ—¶ï¼Œå†™æ“ä½œåªé€‰ä¸€ä¸ªæ­£å¸¸çš„å‰¯æœ¬å†™å…¥æ•°æ®ã€‚å¦‚æœåˆ†å¸ƒå¼è¡¨çš„å­è¡¨æ˜¯å¤åˆ¶è¡¨(<!-- -->*<!-- -->ReplicaMergeTree)ï¼Œè¯·ä½¿ç”¨æ­¤æ–¹æ¡ˆã€‚æ¢å¥è¯è¯´ï¼Œè¿™å…¶å®æ˜¯æŠŠæ•°æ®çš„å¤åˆ¶å·¥ä½œäº¤ç»™å®é™…éœ€è¦å†™å…¥æ•°æ®çš„è¡¨æœ¬èº«è€Œä¸æ˜¯åˆ†å¸ƒå¼è¡¨ã€‚</p><p>è‹¥æ­¤å‚æ•°è®¾ç½®ä¸ºÂ«falseÂ»ï¼ˆé»˜è®¤å€¼ï¼‰ï¼Œå†™æ“ä½œä¼šå°†æ•°æ®å†™å…¥æ‰€æœ‰å‰¯æœ¬ã€‚å®è´¨ä¸Šï¼Œè¿™æ„å‘³ç€è¦åˆ†å¸ƒå¼è¡¨æœ¬èº«æ¥å¤åˆ¶æ•°æ®ã€‚è¿™ç§æ–¹å¼ä¸å¦‚ä½¿ç”¨å¤åˆ¶è¡¨çš„å¥½ï¼Œå› ä¸ºä¸ä¼šæ£€æŸ¥å‰¯æœ¬çš„ä¸€è‡´æ€§ï¼Œå¹¶ä¸”éšç€æ—¶é—´çš„æ¨ç§»ï¼Œå‰¯æœ¬æ•°æ®å¯èƒ½ä¼šæœ‰äº›ä¸ä¸€æ ·ã€‚</p><p>é€‰æ‹©å°†ä¸€è¡Œæ•°æ®å‘é€åˆ°å“ªä¸ªåˆ†ç‰‡çš„æ–¹æ³•æ˜¯ï¼Œé¦–å…ˆè®¡ç®—åˆ†ç‰‡è¡¨è¾¾å¼ï¼Œç„¶åå°†è¿™ä¸ªè®¡ç®—ç»“æœé™¤ä»¥æ‰€æœ‰åˆ†ç‰‡çš„æƒé‡æ€»å’Œå¾—åˆ°ä½™æ•°ã€‚è¯¥è¡Œä¼šå‘é€åˆ°é‚£ä¸ªåŒ…å«è¯¥ä½™æ•°çš„ä»â€™prev_weightâ€™åˆ°â€™prev_weights + weightâ€™çš„åŠé—­åŠå¼€åŒºé—´å¯¹åº”çš„åˆ†ç‰‡ä¸Šï¼Œå…¶ä¸­ â€˜prev_weightsâ€™ æ˜¯è¯¥åˆ†ç‰‡å‰é¢çš„æ‰€æœ‰åˆ†ç‰‡çš„æƒé‡å’Œï¼Œâ€˜weightâ€™ æ˜¯è¯¥åˆ†ç‰‡çš„æƒé‡ã€‚ä¾‹å¦‚ï¼Œå¦‚æœæœ‰ä¸¤ä¸ªåˆ†ç‰‡ï¼Œç¬¬ä¸€ä¸ªåˆ†ç‰‡æƒé‡ä¸º9ï¼Œè€Œç¬¬äºŒä¸ªåˆ†ç‰‡æƒé‡ä¸º10ï¼Œåˆ™ä½™æ•°åœ¨ <!-- -->[<!-- -->0,9) ä¸­çš„è¡Œå‘ç»™ç¬¬ä¸€ä¸ªåˆ†ç‰‡ï¼Œä½™æ•°åœ¨ <!-- -->[<!-- -->9,19) ä¸­çš„è¡Œå‘ç»™ç¬¬äºŒä¸ªåˆ†ç‰‡ã€‚</p><p>åˆ†ç‰‡è¡¨è¾¾å¼å¯ä»¥æ˜¯ç”±å¸¸é‡å’Œè¡¨åˆ—ç»„æˆçš„ä»»ä½•è¿”å›æ•´æ•°è¡¨è¾¾å¼ã€‚ä¾‹å¦‚ï¼Œæ‚¨å¯ä»¥ä½¿ç”¨è¡¨è¾¾å¼ â€˜rand()â€™ æ¥éšæœºåˆ†é…æ•°æ®ï¼Œæˆ–è€…ä½¿ç”¨ â€˜UserIDâ€™ æ¥æŒ‰ç”¨æˆ· ID çš„ä½™æ•°åˆ†å¸ƒï¼ˆç›¸åŒç”¨æˆ·çš„æ•°æ®å°†åˆ†é…åˆ°å•ä¸ªåˆ†ç‰‡ä¸Šï¼Œè¿™å¯é™ä½å¸¦æœ‰ç”¨æˆ·ä¿¡æ¯çš„ IN å’Œ JOIN çš„è¯­å¥è¿è¡Œçš„å¤æ‚åº¦ï¼‰ã€‚å¦‚æœè¯¥åˆ—æ•°æ®åˆ†å¸ƒä¸å¤Ÿå‡åŒ€ï¼Œå¯ä»¥å°†å…¶åŒ…è£…åœ¨æ•£åˆ—å‡½æ•°ä¸­ï¼šintHash64(UserID)ã€‚</p><p>è¿™ç§ç®€å•çš„ç”¨ä½™æ•°æ¥é€‰æ‹©åˆ†ç‰‡çš„æ–¹æ¡ˆæ˜¯æœ‰å±€é™çš„ï¼Œå¹¶ä¸æ€»é€‚ç”¨ã€‚å®ƒé€‚ç”¨äºä¸­å‹å’Œå¤§å‹æ•°æ®ï¼ˆæ•°åå°æœåŠ¡å™¨ï¼‰çš„åœºæ™¯ï¼Œä½†ä¸é€‚ç”¨äºå·¨é‡æ•°æ®ï¼ˆæ•°ç™¾å°æˆ–æ›´å¤šæœåŠ¡å™¨ï¼‰çš„åœºæ™¯ã€‚åä¸€ç§æƒ…å†µä¸‹ï¼Œåº”æ ¹æ®ä¸šåŠ¡ç‰¹æ€§éœ€æ±‚è€ƒè™‘çš„åˆ†ç‰‡æ–¹æ¡ˆï¼Œè€Œä¸æ˜¯ç›´æ¥ç”¨åˆ†å¸ƒå¼è¡¨çš„å¤šåˆ†ç‰‡ã€‚</p><p>SELECT æŸ¥è¯¢ä¼šè¢«å‘é€åˆ°æ‰€æœ‰åˆ†ç‰‡ï¼Œå¹¶ä¸”æ— è®ºæ•°æ®åœ¨åˆ†ç‰‡ä¸­å¦‚ä½•åˆ†å¸ƒï¼ˆå³ä½¿æ•°æ®å®Œå…¨éšæœºåˆ†å¸ƒï¼‰éƒ½å¯æ­£å¸¸å·¥ä½œã€‚æ·»åŠ æ–°åˆ†ç‰‡æ—¶ï¼Œä¸å¿…å°†æ—§æ•°æ®ä¼ è¾“åˆ°è¯¥åˆ†ç‰‡ã€‚ä½ å¯ä»¥ç»™æ–°åˆ†ç‰‡åˆ†é…å¤§æƒé‡ç„¶åå†™æ–°æ•°æ® - æ•°æ®å¯èƒ½ä¼šç¨åˆ†å¸ƒä¸å‡ï¼Œä½†æŸ¥è¯¢ä¼šæ­£ç¡®é«˜æ•ˆåœ°è¿è¡Œã€‚</p><p>ä¸‹é¢çš„æƒ…å†µï¼Œä½ éœ€è¦å…³æ³¨åˆ†ç‰‡æ–¹æ¡ˆï¼š</p><ul><li>ä½¿ç”¨éœ€è¦ç‰¹å®šé”®è¿æ¥æ•°æ®ï¼ˆ IN æˆ– JOIN ï¼‰çš„æŸ¥è¯¢ã€‚å¦‚æœæ•°æ®æ˜¯ç”¨è¯¥é”®è¿›è¡Œåˆ†ç‰‡ï¼Œåˆ™åº”ä½¿ç”¨æœ¬åœ° IN æˆ– JOIN è€Œä¸æ˜¯ GLOBAL IN æˆ– GLOBAL JOINï¼Œè¿™æ ·æ•ˆç‡æ›´é«˜ã€‚</li><li>ä½¿ç”¨å¤§é‡æœåŠ¡å™¨ï¼ˆä¸Šç™¾æˆ–æ›´å¤šï¼‰ï¼Œä½†æœ‰å¤§é‡å°æŸ¥è¯¢ï¼ˆä¸ªåˆ«å®¢æˆ·çš„æŸ¥è¯¢ - ç½‘ç«™ï¼Œå¹¿å‘Šå•†æˆ–åˆä½œä¼™ä¼´ï¼‰ã€‚ä¸ºäº†ä½¿å°æŸ¥è¯¢ä¸å½±å“æ•´ä¸ªé›†ç¾¤ï¼Œè®©å•ä¸ªå®¢æˆ·çš„æ•°æ®å¤„äºå•ä¸ªåˆ†ç‰‡ä¸Šæ˜¯æœ‰æ„ä¹‰çš„ã€‚æˆ–è€… ä½ å¯ä»¥é…ç½®ä¸¤çº§åˆ†ç‰‡ï¼šå°†æ•´ä¸ªé›†ç¾¤åˆ’åˆ†ä¸ºÂ«å±‚Â»ï¼Œä¸€ä¸ªå±‚å¯ä»¥åŒ…å«å¤šä¸ªåˆ†ç‰‡ã€‚å•ä¸ªå®¢æˆ·çš„æ•°æ®ä½äºå•ä¸ªå±‚ä¸Šï¼Œæ ¹æ®éœ€è¦å°†åˆ†ç‰‡æ·»åŠ åˆ°å±‚ä¸­ï¼Œå±‚ä¸­çš„æ•°æ®éšæœºåˆ†å¸ƒã€‚ç„¶åç»™æ¯å±‚åˆ›å»ºåˆ†å¸ƒå¼è¡¨ï¼Œå†åˆ›å»ºä¸€ä¸ªå…¨å±€çš„åˆ†å¸ƒå¼è¡¨ç”¨äºå…¨å±€çš„æŸ¥è¯¢ã€‚</li></ul><p>æ•°æ®æ˜¯å¼‚æ­¥å†™å…¥çš„ã€‚å¯¹äºåˆ†å¸ƒå¼è¡¨çš„ INSERTï¼Œæ•°æ®å—åªå†™æœ¬åœ°æ–‡ä»¶ç³»ç»Ÿã€‚ä¹‹åä¼šå°½å¿«åœ°åœ¨åå°å‘é€åˆ°è¿œç¨‹æœåŠ¡å™¨ã€‚å‘é€æ•°æ®çš„å‘¨æœŸæ€§æ˜¯ç”±<a href="/zh/operations/settings/#distributed_directory_monitor_sleep_time_ms">distributed_directory_monitor_sleep_time_ms</a>å’Œ<a href="/zh/operations/settings/#distributed_directory_monitor_max_sleep_time_ms">distributed_directory_monitor_max_sleep_time_ms</a>è®¾ç½®ã€‚åˆ†å¸ƒå¼å¼•æ“ä¼šåˆ†åˆ«å‘é€æ¯ä¸ªæ’å…¥æ•°æ®çš„æ–‡ä»¶ï¼Œä½†æ˜¯ä½ å¯ä»¥ä½¿ç”¨<a href="/zh/operations/settings/#distributed_directory_monitor_batch_inserts">distributed_directory_monitor_batch_inserts</a>è®¾ç½®å¯ç”¨æ‰¹é‡å‘é€æ–‡ä»¶ã€‚è¯¥è®¾ç½®é€šè¿‡æ›´å¥½åœ°åˆ©ç”¨æœ¬åœ°æœåŠ¡å™¨å’Œç½‘ç»œèµ„æºæ¥æé«˜é›†ç¾¤æ€§èƒ½ã€‚ä½ åº”è¯¥æ£€æŸ¥è¡¨ç›®å½•<code>/var/lib/clickhouse/data/database/table/</code>ä¸­çš„æ–‡ä»¶åˆ—è¡¨(ç­‰å¾…å‘é€çš„æ•°æ®)æ¥æ£€æŸ¥æ•°æ®æ˜¯å¦å‘é€æˆåŠŸã€‚æ‰§è¡Œåå°ä»»åŠ¡çš„çº¿ç¨‹æ•°å¯ä»¥é€šè¿‡<a href="/zh/operations/settings/#background_distributed_schedule_pool_size">background_distributed_schedule_pool_size</a>è®¾ç½®ã€‚</p><p>å¦‚æœåœ¨ INSERT åˆ°åˆ†å¸ƒå¼è¡¨æ—¶æœåŠ¡å™¨èŠ‚ç‚¹ä¸¢å¤±æˆ–é‡å¯ï¼ˆå¦‚ï¼Œè®¾å¤‡æ•…éšœï¼‰ï¼Œåˆ™æ’å…¥çš„æ•°æ®å¯èƒ½ä¼šä¸¢å¤±ã€‚å¦‚æœåœ¨è¡¨ç›®å½•ä¸­æ£€æµ‹åˆ°æŸåçš„æ•°æ®åˆ†ç‰‡ï¼Œåˆ™ä¼šå°†å…¶è½¬ç§»åˆ°Â«brokenÂ»å­ç›®å½•ï¼Œå¹¶ä¸å†ä½¿ç”¨ã€‚</p><h2 class="anchor anchorWithHideOnScrollNavbar_R0VQ" id="distributed-reading-data">è¯»å–æ•°æ®<a class="hash-link" href="#distributed-reading-data" title="Direct link to heading">â€‹</a></h2><p>å½“æŸ¥è¯¢ä¸€ä¸ª<code>Distributed</code>è¡¨æ—¶ï¼Œ<code>SELECT</code>æŸ¥è¯¢è¢«å‘é€åˆ°æ‰€æœ‰çš„åˆ†ç‰‡ï¼Œä¸ç®¡æ•°æ®æ˜¯å¦‚ä½•åˆ†å¸ƒåœ¨åˆ†ç‰‡ä¸Šçš„(å®ƒä»¬å¯ä»¥å®Œå…¨éšæœºåˆ†å¸ƒ)ã€‚å½“æ‚¨æ·»åŠ ä¸€ä¸ªæ–°åˆ†ç‰‡æ—¶ï¼Œæ‚¨ä¸å¿…å°†æ—§æ•°æ®ä¼ è¾“åˆ°å®ƒã€‚ç›¸åï¼Œæ‚¨å¯ä»¥ä½¿ç”¨æ›´é‡çš„æƒé‡å‘å…¶å†™å…¥æ–°æ•°æ®â€”â€”æ•°æ®çš„åˆ†å¸ƒä¼šç¨å¾®ä¸å‡åŒ€ï¼Œä½†æŸ¥è¯¢å°†æ­£ç¡®æœ‰æ•ˆåœ°å·¥ä½œã€‚</p><p>å½“å¯ç”¨<code>max_parallel_replicas</code>é€‰é¡¹æ—¶ï¼ŒæŸ¥è¯¢å¤„ç†å°†åœ¨å•ä¸ªåˆ†ç‰‡ä¸­çš„æ‰€æœ‰å‰¯æœ¬ä¹‹é—´å¹¶è¡ŒåŒ–ã€‚æ›´å¤šä¿¡æ¯ï¼Œè¯·å‚è§<a href="/zh/operations/settings/#settings-max_parallel_replicas">max_parallel_replicas</a>ã€‚</p><p>è¦äº†è§£æ›´å¤šå…³äºåˆ†å¸ƒå¼<code>in</code>å’Œ<code>global in</code>æŸ¥è¯¢æ˜¯å¦‚ä½•å¤„ç†çš„ï¼Œè¯·å‚è€ƒ<a href="/zh/sql-reference/operators/in#select-distributed-subqueries">è¿™é‡Œ</a>æ–‡æ¡£ã€‚</p><h2 class="anchor anchorWithHideOnScrollNavbar_R0VQ" id="virtual-columns">è™šæ‹Ÿåˆ—<a class="hash-link" href="#virtual-columns" title="Direct link to heading">â€‹</a></h2><ul><li><code>_shard_num</code> â€” è¡¨<code>system.clusters</code> ä¸­çš„  <code>shard_num</code> å€¼ . æ•°æ®ç±»å‹: <a href="/zh/sql-reference/data-types/int-uint">UInt32</a>.</li></ul><p>!!! note &quot;å¤‡æ³¨&quot;
å› ä¸º <a href="/zh/sql-reference/table-functions/remote">remote</a> å’Œ <a href="/zh/sql-reference/table-functions/cluster">cluster</a> è¡¨æ–¹æ³•å†…éƒ¨åˆ›å»ºäº†åˆ†å¸ƒå¼è¡¨ï¼Œ <code>_shard_num</code> å¯¹ä»–ä»¬éƒ½æœ‰æ•ˆ.</p><p><strong>è¯¦è§</strong></p><ul><li><a href="/zh/engines/table-engines/#table_engines-virtual_columns">è™šæ‹Ÿåˆ—</a> æè¿°</li><li><a href="/zh/operations/settings/#background_distributed_schedule_pool_size">background_distributed_schedule_pool_size</a> è®¾ç½®</li><li><a href="/zh/sql-reference/functions/other-functions#shard-num">shardNum()</a> å’Œ <a href="/zh/sql-reference/functions/other-functions#shard-count">shardCount()</a> æ–¹æ³•</li></ul><p><a href="https://clickhouse.com/docs/en/operations/table_engines/distributed/" target="_blank" rel="noopener noreferrer">åŸå§‹æ–‡ç« </a> </p></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/ClickHouse/ClickHouse/tree/docs-staging/docs/zh/engines/table-engines/special/distributed.md" target="_blank" rel="noreferrer noopener" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_dcUD" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_foO9"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/zh/engines/table-engines/integrations/mysql"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">MySQL</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/zh/engines/table-engines/special/join"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">å…³è”è¡¨å¼•æ“</div></a></div></nav></div></div><div class="col col--3"><div class="tableOfContents_cNA8 thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#distributed-creating-a-table" class="table-of-contents__link toc-highlight">åˆ›å»ºæ•°æ®è¡¨</a></li><li><a href="#distributed-from-a-table" class="table-of-contents__link toc-highlight">å·²æœ‰æ•°æ®è¡¨</a></li><li><a href="#distributed-clusters" class="table-of-contents__link toc-highlight">é›†ç¾¤</a></li><li><a href="#å†™å…¥æ•°æ®" class="table-of-contents__link toc-highlight">å†™å…¥æ•°æ®</a></li><li><a href="#distributed-reading-data" class="table-of-contents__link toc-highlight">è¯»å–æ•°æ®</a></li><li><a href="#virtual-columns" class="table-of-contents__link toc-highlight">è™šæ‹Ÿåˆ—</a></li></ul></div></div></div></div></main></div></div><footer class="footer"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">ClickHouse</div><ul class="footer__items"><li class="footer__item"><a href="https://clickhouse.com/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Company</a></li><li class="footer__item"><a href="https://clickhouse.com/cloud/" target="_blank" rel="noopener noreferrer" class="footer__link-item">ClickHouse as a Service</a></li><li class="footer__item"><a href="https://clickhouse.com/careers/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Careers</a></li><li class="footer__item"><a href="https://clickhouse.com/learn/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Learn ClickHouse</a></li></ul></div><div class="col footer__col"><div class="footer__title">Community</div><ul class="footer__items"><li class="footer__item"><a href="https://github.com/ClickHouse/ClickHouse" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_I5OW"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://clickhouse.com/blog/en/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Blog<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_I5OW"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://www.youtube.com/c/ClickHouseDB" target="_blank" rel="noopener noreferrer" class="footer__link-item">YouTube<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_I5OW"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://twitter.com/ClickHouseDB" target="_blank" rel="noopener noreferrer" class="footer__link-item">Twitter<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_I5OW"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://join.slack.com/t/clickhousedb/shared_invite/zt-rxm3rdrk-lIUmhLC3V8WTaL0TGxsOmg" target="_blank" rel="noopener noreferrer" class="footer__link-item">Slack<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_I5OW"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">Policies</div><ul class="footer__items"><li class="footer__item"><a href="https://clickhouse.com/legal/trademark-policy/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Trademark Policy</a></li><li class="footer__item"><a href="https://clickhouse.com/legal/privacy-policy/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Privacy Policy</a></li><li class="footer__item"><a href="https://clickhouse.com/legal/cookie-policy/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Cookie Policy</a></li></ul></div></div><div class="footer__bottom text--center"><div class="margin-bottom--sm"><img src="/img/logo.png" alt="ClickHouse Documentation" class="themedImage_W2Cr themedImage--light_TfLj footer__logo"><img src="/img/logo.png" alt="ClickHouse Documentation" class="themedImage_W2Cr themedImage--dark_oUvU footer__logo"></div><div class="footer__copyright">Copyright &copy; 2016&ndash;2022 ClickHouse, Inc. ClickHouse Docs provided under the Creative Commons CC BY-NC-SA license. ClickHouse&reg; is a registered trademark of ClickHouse, Inc.</div></div></div></footer></div>
<script src="/assets/js/runtime~main.db9e59e5.js"></script>
<script src="/assets/js/main.028d105f.js"></script>
</body>
</html>