<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper docs-doc-page docs-version-current plugin-docs plugin-id-default docs-doc-id-ru/engines/table-engines/special/distributed">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-beta.18">
<link rel="preconnect" href="https://www.google-analytics.com">
<link rel="preconnect" href="https://www.googletagmanager.com">
<script async src="https://www.googletagmanager.com/gtag/js?id=G-KF1LLRTQ5Q"></script>
<script>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","G-KF1LLRTQ5Q",{})</script>
<link rel="search" type="application/opensearchdescription+xml" title="ClickHouse Docs" href="/opensearch.xml">
<script src="./src/js/analytics.js"></script><title data-rh="true">Distributed | ClickHouse Docs</title><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://sturdy-adventure-06fed4eb.pages.github.io//ru/engines/table-engines/special/distributed"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Distributed | ClickHouse Docs"><meta data-rh="true" name="description" content="distributed}"><meta data-rh="true" property="og:description" content="distributed}"><link data-rh="true" rel="icon" href="/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://sturdy-adventure-06fed4eb.pages.github.io//ru/engines/table-engines/special/distributed"><link data-rh="true" rel="alternate" href="https://sturdy-adventure-06fed4eb.pages.github.io//ru/engines/table-engines/special/distributed" hreflang="en"><link data-rh="true" rel="alternate" href="https://sturdy-adventure-06fed4eb.pages.github.io//ru/engines/table-engines/special/distributed" hreflang="x-default"><link rel="stylesheet" href="/assets/css/styles.d094a63e.css">
<link rel="preload" href="/assets/js/runtime~main.db9e59e5.js" as="script">
<link rel="preload" href="/assets/js/main.028d105f.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div role="region"><a href="#" class="skipToContent_ZgBM">Skip to main content</a></div><nav class="navbar navbar--fixed-top navbarHideable_ObN2"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a href="https://clickhouse.com/" target="_blank" rel="noopener noreferrer" class="navbar__brand"><div class="navbar__logo"><img src="/img/clickhouse.svg" alt="ClickHouse" class="themedImage_W2Cr themedImage--light_TfLj"><img src="/img/clickhouse.svg" alt="ClickHouse" class="themedImage_W2Cr themedImage--dark_oUvU"></div><b class="navbar__title">ClickHouse</b></a><a class="navbar__item navbar__link" href="/en/intro">Docs</a></div><div class="navbar__items navbar__items--right"><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link">Language</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/en/intro">English</a></li><li><a aria-current="page" class="dropdown__link dropdown__link--active" href="/ru">Russian</a></li><li><a class="dropdown__link" href="/zh">Chinese</a></li></ul></div><div class="navbar__search"><span aria-label="expand searchbar" role="button" class="search-icon" tabindex="0"></span><input type="search" id="search_input_react" placeholder="Loading..." aria-label="Search" class="navbar__search-input search-bar" disabled=""></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div class="main-wrapper"><div class="docPage_P2Lg"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_RiI4" type="button"></button><aside class="theme-doc-sidebar-container docSidebarContainer_rKC_"><div class="sidebar_RiAD sidebarWithHideableNavbar_d0QC"><a href="https://clickhouse.com/" target="_blank" rel="noopener noreferrer" tabindex="-1" class="sidebarLogo_YUvz"><img src="/img/clickhouse.svg" alt="ClickHouse" class="themedImage_W2Cr themedImage--light_TfLj"><img src="/img/clickhouse.svg" alt="ClickHouse" class="themedImage_W2Cr themedImage--dark_oUvU"><b>ClickHouse</b></a><nav class="menu thin-scrollbar menu_izAj"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/ru/">–ß—Ç–æ —Ç–∞–∫–æ–µ ClickHouse</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/category/–≤–≤–µ–¥–µ–Ω–∏–µ">–í–≤–µ–¥–µ–Ω–∏–µ</a><button aria-label="Toggle the collapsible sidebar category &#x27;–í–≤–µ–¥–µ–Ω–∏–µ&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/ru/getting-started/">–ù–∞—á–∞–ª–æ —Ä–∞–±–æ—Ç—ã</a><button aria-label="Toggle the collapsible sidebar category &#x27;–ù–∞—á–∞–ª–æ —Ä–∞–±–æ—Ç—ã&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/ru/interfaces/">–ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã</a><button aria-label="Toggle the collapsible sidebar category &#x27;–ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" aria-expanded="true" href="/category/engines">Engines</a><button aria-label="Toggle the collapsible sidebar category &#x27;Engines&#x27;" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" aria-expanded="true" tabindex="0" href="/ru/engines/table-engines/">–î–≤–∏–∂–∫–∏ —Ç–∞–±–ª–∏—Ü</a><button aria-label="Toggle the collapsible sidebar category &#x27;–î–≤–∏–∂–∫–∏ —Ç–∞–±–ª–∏—Ü&#x27;" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/ru/engines/table-engines/mergetree-family/">MergeTree Family</a><button aria-label="Toggle the collapsible sidebar category &#x27;MergeTree Family&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/ru/engines/table-engines/log-family/">–°–µ–º–µ–π—Å—Ç–≤–æ Log</a><button aria-label="Toggle the collapsible sidebar category &#x27;–°–µ–º–µ–π—Å—Ç–≤–æ Log&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/ru/engines/table-engines/integrations/">–î–≤–∏–∂–∫–∏ —Ç–∞–±–ª–∏—Ü –¥–ª—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏</a><button aria-label="Toggle the collapsible sidebar category &#x27;–î–≤–∏–∂–∫–∏ —Ç–∞–±–ª–∏—Ü –¥–ª—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" aria-expanded="true" tabindex="0" href="/ru/engines/table-engines/special/">–°–ø–µ—Ü–∏–∞–ª—å–Ω—ã–µ –¥–≤–∏–∂–∫–∏ —Ç–∞–±–ª–∏—Ü</a><button aria-label="Toggle the collapsible sidebar category &#x27;–°–ø–µ—Ü–∏–∞–ª—å–Ω—ã–µ –¥–≤–∏–∂–∫–∏ —Ç–∞–±–ª–∏—Ü&#x27;" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/ru/engines/table-engines/special/distributed">Distributed</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/ru/engines/table-engines/special/dictionary">Dictionary</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/ru/engines/table-engines/special/merge">Merge</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/ru/engines/table-engines/special/file">File</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/ru/engines/table-engines/special/null">Null</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/ru/engines/table-engines/special/set">Set</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/ru/engines/table-engines/special/join">Join</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/ru/engines/table-engines/special/url">URL</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/ru/engines/table-engines/special/view">View</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/ru/engines/table-engines/special/materializedview">MaterializedView</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/ru/engines/table-engines/special/memory">Memory</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/ru/engines/table-engines/special/buffer">Buffer</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/ru/engines/table-engines/special/external-data">–í–Ω–µ—à–Ω–∏–µ –¥–∞–Ω–Ω—ã–µ –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ –∑–∞–ø—Ä–æ—Å–∞</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/ru/engines/table-engines/special/generate">GenerateRandom</a></li></ul></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/ru/engines/database-engines/">–î–≤–∏–∂–∫–∏ –±–∞–∑ –¥–∞–Ω–Ω—ã—Ö</a><button aria-label="Toggle the collapsible sidebar category &#x27;–î–≤–∏–∂–∫–∏ –±–∞–∑ –¥–∞–Ω–Ω—ã—Ö&#x27;" type="button" class="clean-btn menu__caret"></button></div></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/ru/sql-reference/">–°–ø—Ä–∞–≤–∫–∞ –ø–æ SQL</a><button aria-label="Toggle the collapsible sidebar category &#x27;–°–ø—Ä–∞–≤–∫–∞ –ø–æ SQL&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/ru/guides/">–†—É–∫–æ–≤–æ–¥—Å—Ç–≤–∞</a><button aria-label="Toggle the collapsible sidebar category &#x27;–†—É–∫–æ–≤–æ–¥—Å—Ç–≤–∞&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/ru/operations/">–≠–∫—Å–ø–ª—É–∞—Ç–∞—Ü–∏—è</a><button aria-label="Toggle the collapsible sidebar category &#x27;–≠–∫—Å–ø–ª—É–∞—Ç–∞—Ü–∏—è&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/category/–∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è-–¥–ª—è-—Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤">–ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤</a><button aria-label="Toggle the collapsible sidebar category &#x27;–ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/ru/commercial/">–ö–æ–º–º–µ—Ä—á–µ—Å–∫–∏–µ —É—Å–ª—É–≥–∏</a><button aria-label="Toggle the collapsible sidebar category &#x27;–ö–æ–º–º–µ—Ä—á–µ—Å–∫–∏–µ —É—Å–ª—É–≥–∏&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/ru/faq/">F.A.Q.</a><button aria-label="Toggle the collapsible sidebar category &#x27;F.A.Q.&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/ru/whats-new/">–ß—Ç–æ –Ω–æ–≤–æ–≥–æ?</a><button aria-label="Toggle the collapsible sidebar category &#x27;–ß—Ç–æ –Ω–æ–≤–æ–≥–æ?&#x27;" type="button" class="clean-btn menu__caret"></button></div></li></ul></nav></div></aside><main class="docMainContainer_TCnq"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_DM6M"><div class="docItemContainer_vinB"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Xlws" aria-label="breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a class="breadcrumbs__link" href="/">üè†</a></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/category/engines"><span itemprop="name">Engines</span></a><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/ru/engines/table-engines/"><span itemprop="name">–î–≤–∏–∂–∫–∏ —Ç–∞–±–ª–∏—Ü</span></a><meta itemprop="position" content="2"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/ru/engines/table-engines/special/"><span itemprop="name">–°–ø–µ—Ü–∏–∞–ª—å–Ω—ã–µ –¥–≤–∏–∂–∫–∏ —Ç–∞–±–ª–∏—Ü</span></a><meta itemprop="position" content="3"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="item name">Distributed</span><meta itemprop="position" content="4"></li></ul></nav><div class="tocCollapsible_jdIR theme-doc-toc-mobile tocMobile_TmEX"><button type="button" class="clean-btn tocCollapsibleButton_Fzxq">On this page</button></div><div class="theme-doc-markdown markdown"><h1>Distributed</h1><p><strong>–î–≤–∏–∂–æ–∫ Distributed –Ω–µ —Ö—Ä–∞–Ω–∏—Ç –¥–∞–Ω–Ω—ã–µ —Å–∞–º–æ—Å—Ç–æ—è—Ç–µ–ª—å–Ω–æ</strong>, –∞ –ø–æ–∑–≤–æ–ª—è–µ—Ç –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—Ç—å –∑–∞–ø—Ä–æ—Å—ã —Ä–∞—Å–ø—Ä–µ–¥–µ–ª—ë–Ω–Ω–æ, –Ω–∞ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö —Å–µ—Ä–≤–µ—Ä–∞—Ö. –ß—Ç–µ–Ω–∏–µ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Ä–∞—Å–ø–∞—Ä–∞–ª–ª–µ–ª–∏–≤–∞–µ—Ç—Å—è. –ü—Ä–∏ —á—Ç–µ–Ω–∏–∏ –±—É–¥—É—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω—ã –∏–Ω–¥–µ–∫—Å—ã —Ç–∞–±–ª–∏—Ü –Ω–∞ —É–¥–∞–ª—ë–Ω–Ω—ã—Ö —Å–µ—Ä–≤–µ—Ä–∞—Ö, –µ—Å–ª–∏ –µ—Å—Ç—å.</p><p>–î–≤–∏–∂–æ–∫ Distributed –ø—Ä–∏–Ω–∏–º–∞–µ—Ç –ø–∞—Ä–∞–º–µ—Ç—Ä—ã:</p><ul><li><p>–∏–º—è –∫–ª–∞—Å—Ç–µ—Ä–∞ –≤ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–æ–Ω–Ω–æ–º —Ñ–∞–π–ª–µ —Å–µ—Ä–≤–µ—Ä–∞</p></li><li><p>–∏–º—è —É–¥–∞–ª—ë–Ω–Ω–æ–π –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö</p></li><li><p>–∏–º—è —É–¥–∞–ª—ë–Ω–Ω–æ–π —Ç–∞–±–ª–∏—Ü—ã</p></li><li><p>(–Ω–µ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ) –∫–ª—é—á —à–∞—Ä–¥–∏—Ä–æ–≤–∞–Ω–∏—è.</p></li><li><p>(–Ω–µ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ) –∏–º—è –ø–æ–ª–∏—Ç–∏–∫–∏, –æ–Ω–æ –±—É–¥–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è –≤—Ä–µ–º–µ–Ω–Ω—ã—Ö —Ñ–∞–π–ª–æ–≤ –¥–ª—è –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ–π –æ—Ç–ø—Ä–∞–≤–∫–∏</p><p>–°–º–æ—Ç—Ä–∏—Ç–µ —Ç–∞–∫–∂–µ:</p><ul><li>–Ω–∞—Å—Ç—Ä–æ–π–∫–∞ <code>insert_distributed_sync</code></li><li><a href="/ru/engines/table-engines/mergetree-family/mergetree#table_engine-mergetree-multiple-volumes">MergeTree</a> –¥–ª—è –ø—Ä–∏–º–µ—Ä–∞</li></ul></li></ul><p>–ü—Ä–∏–º–µ—Ä:</p><div class="codeBlockContainer_I0IT language-sql theme-code-block"><div class="codeBlockContent_wNvx" style="color:#000000;background-color:#ffffff"><pre tabindex="0" class="prism-code language-sql codeBlock_jd64 thin-scrollbar"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#000000"><span class="token keyword" style="color:rgb(0, 0, 255)">Distributed</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">logs</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">default</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> hits</span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> sharding_key</span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> policy_name</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" title="Copy" class="copyButton_eDfN clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><p>–¥–∞–Ω–Ω—ã–µ –±—É–¥—É—Ç —á–∏—Ç–∞—Ç—å—Å—è —Å–æ –≤—Å–µ—Ö —Å–µ—Ä–≤–µ—Ä–æ–≤ –∫–ª–∞—Å—Ç–µ—Ä–∞ logs, –∏–∑ —Ç–∞–±–ª–∏—Ü—ã default.hits, —Ä–∞—Å–ø–æ–ª–æ–∂–µ–Ω–Ω–æ–π –Ω–∞ –∫–∞–∂–¥–æ–º —Å–µ—Ä–≤–µ—Ä–µ –∫–ª–∞—Å—Ç–µ—Ä–∞.
–î–∞–Ω–Ω—ã–µ –Ω–µ —Ç–æ–ª—å–∫–æ —á–∏—Ç–∞—é—Ç—Å—è, –Ω–æ –∏ —á–∞—Å—Ç–∏—á–Ω–æ (–Ω–∞—Å—Ç–æ–ª—å–∫–æ, –Ω–∞—Å–∫–æ–ª—å–∫–æ —ç—Ç–æ –≤–æ–∑–º–æ–∂–Ω–æ) –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—é—Ç—Å—è –Ω–∞ —É–¥–∞–ª—ë–Ω–Ω—ã—Ö —Å–µ—Ä–≤–µ—Ä–∞—Ö.
–ù–∞–ø—Ä–∏–º–µ—Ä, –ø—Ä–∏ –∑–∞–ø—Ä–æ—Å–µ —Å GROUP BY, –¥–∞–Ω–Ω—ã–µ –±—É–¥—É—Ç –∞–≥—Ä–µ–≥–∏—Ä–æ–≤–∞–Ω—ã –Ω–∞ —É–¥–∞–ª—ë–Ω–Ω—ã—Ö —Å–µ—Ä–≤–µ—Ä–∞—Ö, –ø—Ä–æ–º–µ–∂—É—Ç–æ—á–Ω—ã–µ —Å–æ—Å—Ç–æ—è–Ω–∏—è –∞–≥—Ä–µ–≥–∞—Ç–Ω—ã—Ö —Ñ—É–Ω–∫—Ü–∏–π –±—É–¥—É—Ç –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω—ã –Ω–∞ –∑–∞–ø—Ä–æ—Å–∏–≤—à–∏–π —Å–µ—Ä–≤–µ—Ä; –∑–∞—Ç–µ–º –¥–∞–Ω–Ω—ã–µ –±—É–¥—É—Ç –¥–æ–∞–≥—Ä–µ–≥–∏—Ä–æ–≤–∞–Ω—ã.</p><p>–í–º–µ—Å—Ç–æ –∏–º–µ–Ω–∏ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö –º–æ–∂–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è –∫–æ–Ω—Å—Ç–∞–Ω—Ç–Ω–æ–µ –≤—ã—Ä–∞–∂–µ–Ω–∏–µ, –≤–æ–∑–≤—Ä–∞—â–∞—é—â–µ–µ —Å—Ç—Ä–æ–∫—É. –ù–∞–ø—Ä–∏–º–µ—Ä, currentDatabase().</p><p>logs - –∏–º—è –∫–ª–∞—Å—Ç–µ—Ä–∞ –≤ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–æ–Ω–Ω–æ–º —Ñ–∞–π–ª–µ —Å–µ—Ä–≤–µ—Ä–∞.</p><p>–ö–ª–∞—Å—Ç–µ—Ä—ã –∑–∞–¥–∞—é—Ç—Å—è —Å–ª–µ–¥—É—é—â–∏–º –æ–±—Ä–∞–∑–æ–º:</p><div class="codeBlockContainer_I0IT language-xml theme-code-block"><div class="codeBlockContent_wNvx" style="color:#000000;background-color:#ffffff"><pre tabindex="0" class="prism-code language-xml codeBlock_jd64 thin-scrollbar"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#000000"><span class="token tag punctuation" style="color:rgb(4, 81, 165)">&lt;</span><span class="token tag" style="color:rgb(128, 0, 0)">remote_servers</span><span class="token tag punctuation" style="color:rgb(4, 81, 165)">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token tag punctuation" style="color:rgb(4, 81, 165)">&lt;</span><span class="token tag" style="color:rgb(128, 0, 0)">logs</span><span class="token tag punctuation" style="color:rgb(4, 81, 165)">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token tag punctuation" style="color:rgb(4, 81, 165)">&lt;</span><span class="token tag" style="color:rgb(128, 0, 0)">shard</span><span class="token tag punctuation" style="color:rgb(4, 81, 165)">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">            </span><span class="token comment" style="color:rgb(0, 128, 0)">&lt;!-- –ù–µ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ. –í–µ—Å —à–∞—Ä–¥–∞ –ø—Ä–∏ –∑–∞–ø–∏—Å–∏ –¥–∞–Ω–Ω—ã—Ö. –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é, 1. --&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">            </span><span class="token tag punctuation" style="color:rgb(4, 81, 165)">&lt;</span><span class="token tag" style="color:rgb(128, 0, 0)">weight</span><span class="token tag punctuation" style="color:rgb(4, 81, 165)">&gt;</span><span class="token plain">1</span><span class="token tag punctuation" style="color:rgb(4, 81, 165)">&lt;/</span><span class="token tag" style="color:rgb(128, 0, 0)">weight</span><span class="token tag punctuation" style="color:rgb(4, 81, 165)">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">            </span><span class="token comment" style="color:rgb(0, 128, 0)">&lt;!-- –ù–µ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ. –ó–∞–ø–∏—Å—ã–≤–∞—Ç—å –ª–∏ –¥–∞–Ω–Ω—ã–µ —Ç–æ–ª—å–∫–æ –Ω–∞ –æ–¥–Ω—É, –ª—é–±—É—é –∏–∑ —Ä–µ–ø–ª–∏–∫. –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é, false - –∑–∞–ø–∏—Å—ã–≤–∞—Ç—å –¥–∞–Ω–Ω—ã–µ –Ω–∞ –≤—Å–µ —Ä–µ–ø–ª–∏–∫–∏. --&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">            </span><span class="token tag punctuation" style="color:rgb(4, 81, 165)">&lt;</span><span class="token tag" style="color:rgb(128, 0, 0)">internal_replication</span><span class="token tag punctuation" style="color:rgb(4, 81, 165)">&gt;</span><span class="token plain">false</span><span class="token tag punctuation" style="color:rgb(4, 81, 165)">&lt;/</span><span class="token tag" style="color:rgb(128, 0, 0)">internal_replication</span><span class="token tag punctuation" style="color:rgb(4, 81, 165)">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">            </span><span class="token tag punctuation" style="color:rgb(4, 81, 165)">&lt;</span><span class="token tag" style="color:rgb(128, 0, 0)">replica</span><span class="token tag punctuation" style="color:rgb(4, 81, 165)">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">                </span><span class="token comment" style="color:rgb(0, 128, 0)">&lt;!-- –ù–µ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ. –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç —Ä–µ–ø–ª–∏–∫–∏ –¥–ª—è –±–∞–ª–∞–Ω—Å–∏—Ä–æ–≤–∫–∏ –Ω–∞–≥—Ä—É–∑–∫–∏ (—Å–º–æ—Ç—Ä–∏—Ç–µ —Ç–∞–∫–∂–µ –Ω–∞—Å—Ç—Ä–æ–π–∫—É load_balancing). –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é : 1 (–º–µ–Ω—å—à–µ–µ –∑–Ω–∞—á–µ–Ω–∏–µ - –±–æ–ª—å—à–∏–π –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç). --&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">                </span><span class="token tag punctuation" style="color:rgb(4, 81, 165)">&lt;</span><span class="token tag" style="color:rgb(128, 0, 0)">priority</span><span class="token tag punctuation" style="color:rgb(4, 81, 165)">&gt;</span><span class="token plain">1</span><span class="token tag punctuation" style="color:rgb(4, 81, 165)">&lt;/</span><span class="token tag" style="color:rgb(128, 0, 0)">priority</span><span class="token tag punctuation" style="color:rgb(4, 81, 165)">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">                </span><span class="token tag punctuation" style="color:rgb(4, 81, 165)">&lt;</span><span class="token tag" style="color:rgb(128, 0, 0)">host</span><span class="token tag punctuation" style="color:rgb(4, 81, 165)">&gt;</span><span class="token plain">example01-01-1</span><span class="token tag punctuation" style="color:rgb(4, 81, 165)">&lt;/</span><span class="token tag" style="color:rgb(128, 0, 0)">host</span><span class="token tag punctuation" style="color:rgb(4, 81, 165)">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">                </span><span class="token tag punctuation" style="color:rgb(4, 81, 165)">&lt;</span><span class="token tag" style="color:rgb(128, 0, 0)">port</span><span class="token tag punctuation" style="color:rgb(4, 81, 165)">&gt;</span><span class="token plain">9000</span><span class="token tag punctuation" style="color:rgb(4, 81, 165)">&lt;/</span><span class="token tag" style="color:rgb(128, 0, 0)">port</span><span class="token tag punctuation" style="color:rgb(4, 81, 165)">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">            </span><span class="token tag punctuation" style="color:rgb(4, 81, 165)">&lt;/</span><span class="token tag" style="color:rgb(128, 0, 0)">replica</span><span class="token tag punctuation" style="color:rgb(4, 81, 165)">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">            </span><span class="token tag punctuation" style="color:rgb(4, 81, 165)">&lt;</span><span class="token tag" style="color:rgb(128, 0, 0)">replica</span><span class="token tag punctuation" style="color:rgb(4, 81, 165)">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">                </span><span class="token tag punctuation" style="color:rgb(4, 81, 165)">&lt;</span><span class="token tag" style="color:rgb(128, 0, 0)">host</span><span class="token tag punctuation" style="color:rgb(4, 81, 165)">&gt;</span><span class="token plain">example01-01-2</span><span class="token tag punctuation" style="color:rgb(4, 81, 165)">&lt;/</span><span class="token tag" style="color:rgb(128, 0, 0)">host</span><span class="token tag punctuation" style="color:rgb(4, 81, 165)">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">                </span><span class="token tag punctuation" style="color:rgb(4, 81, 165)">&lt;</span><span class="token tag" style="color:rgb(128, 0, 0)">port</span><span class="token tag punctuation" style="color:rgb(4, 81, 165)">&gt;</span><span class="token plain">9000</span><span class="token tag punctuation" style="color:rgb(4, 81, 165)">&lt;/</span><span class="token tag" style="color:rgb(128, 0, 0)">port</span><span class="token tag punctuation" style="color:rgb(4, 81, 165)">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">            </span><span class="token tag punctuation" style="color:rgb(4, 81, 165)">&lt;/</span><span class="token tag" style="color:rgb(128, 0, 0)">replica</span><span class="token tag punctuation" style="color:rgb(4, 81, 165)">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token tag punctuation" style="color:rgb(4, 81, 165)">&lt;/</span><span class="token tag" style="color:rgb(128, 0, 0)">shard</span><span class="token tag punctuation" style="color:rgb(4, 81, 165)">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token tag punctuation" style="color:rgb(4, 81, 165)">&lt;</span><span class="token tag" style="color:rgb(128, 0, 0)">shard</span><span class="token tag punctuation" style="color:rgb(4, 81, 165)">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">            </span><span class="token tag punctuation" style="color:rgb(4, 81, 165)">&lt;</span><span class="token tag" style="color:rgb(128, 0, 0)">weight</span><span class="token tag punctuation" style="color:rgb(4, 81, 165)">&gt;</span><span class="token plain">2</span><span class="token tag punctuation" style="color:rgb(4, 81, 165)">&lt;/</span><span class="token tag" style="color:rgb(128, 0, 0)">weight</span><span class="token tag punctuation" style="color:rgb(4, 81, 165)">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">            </span><span class="token tag punctuation" style="color:rgb(4, 81, 165)">&lt;</span><span class="token tag" style="color:rgb(128, 0, 0)">internal_replication</span><span class="token tag punctuation" style="color:rgb(4, 81, 165)">&gt;</span><span class="token plain">false</span><span class="token tag punctuation" style="color:rgb(4, 81, 165)">&lt;/</span><span class="token tag" style="color:rgb(128, 0, 0)">internal_replication</span><span class="token tag punctuation" style="color:rgb(4, 81, 165)">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">            </span><span class="token tag punctuation" style="color:rgb(4, 81, 165)">&lt;</span><span class="token tag" style="color:rgb(128, 0, 0)">replica</span><span class="token tag punctuation" style="color:rgb(4, 81, 165)">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">                </span><span class="token tag punctuation" style="color:rgb(4, 81, 165)">&lt;</span><span class="token tag" style="color:rgb(128, 0, 0)">host</span><span class="token tag punctuation" style="color:rgb(4, 81, 165)">&gt;</span><span class="token plain">example01-02-1</span><span class="token tag punctuation" style="color:rgb(4, 81, 165)">&lt;/</span><span class="token tag" style="color:rgb(128, 0, 0)">host</span><span class="token tag punctuation" style="color:rgb(4, 81, 165)">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">                </span><span class="token tag punctuation" style="color:rgb(4, 81, 165)">&lt;</span><span class="token tag" style="color:rgb(128, 0, 0)">port</span><span class="token tag punctuation" style="color:rgb(4, 81, 165)">&gt;</span><span class="token plain">9000</span><span class="token tag punctuation" style="color:rgb(4, 81, 165)">&lt;/</span><span class="token tag" style="color:rgb(128, 0, 0)">port</span><span class="token tag punctuation" style="color:rgb(4, 81, 165)">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">            </span><span class="token tag punctuation" style="color:rgb(4, 81, 165)">&lt;/</span><span class="token tag" style="color:rgb(128, 0, 0)">replica</span><span class="token tag punctuation" style="color:rgb(4, 81, 165)">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">            </span><span class="token tag punctuation" style="color:rgb(4, 81, 165)">&lt;</span><span class="token tag" style="color:rgb(128, 0, 0)">replica</span><span class="token tag punctuation" style="color:rgb(4, 81, 165)">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">                </span><span class="token tag punctuation" style="color:rgb(4, 81, 165)">&lt;</span><span class="token tag" style="color:rgb(128, 0, 0)">host</span><span class="token tag punctuation" style="color:rgb(4, 81, 165)">&gt;</span><span class="token plain">example01-02-2</span><span class="token tag punctuation" style="color:rgb(4, 81, 165)">&lt;/</span><span class="token tag" style="color:rgb(128, 0, 0)">host</span><span class="token tag punctuation" style="color:rgb(4, 81, 165)">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">                </span><span class="token tag punctuation" style="color:rgb(4, 81, 165)">&lt;</span><span class="token tag" style="color:rgb(128, 0, 0)">port</span><span class="token tag punctuation" style="color:rgb(4, 81, 165)">&gt;</span><span class="token plain">9000</span><span class="token tag punctuation" style="color:rgb(4, 81, 165)">&lt;/</span><span class="token tag" style="color:rgb(128, 0, 0)">port</span><span class="token tag punctuation" style="color:rgb(4, 81, 165)">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">            </span><span class="token tag punctuation" style="color:rgb(4, 81, 165)">&lt;/</span><span class="token tag" style="color:rgb(128, 0, 0)">replica</span><span class="token tag punctuation" style="color:rgb(4, 81, 165)">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token tag punctuation" style="color:rgb(4, 81, 165)">&lt;/</span><span class="token tag" style="color:rgb(128, 0, 0)">shard</span><span class="token tag punctuation" style="color:rgb(4, 81, 165)">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token tag punctuation" style="color:rgb(4, 81, 165)">&lt;/</span><span class="token tag" style="color:rgb(128, 0, 0)">logs</span><span class="token tag punctuation" style="color:rgb(4, 81, 165)">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token tag punctuation" style="color:rgb(4, 81, 165)">&lt;/</span><span class="token tag" style="color:rgb(128, 0, 0)">remote_servers</span><span class="token tag punctuation" style="color:rgb(4, 81, 165)">&gt;</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" title="Copy" class="copyButton_eDfN clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><p>–ó–¥–µ—Å—å –∑–∞–¥–∞–Ω –∫–ª–∞—Å—Ç–µ—Ä —Å –∏–º–µ–Ω–µ–º logs, —Å–æ—Å—Ç–æ—è—â–∏–π –∏–∑ –¥–≤—É—Ö —à–∞—Ä–¥–æ–≤, –∫–∞–∂–¥—ã–π –∏–∑ –∫–æ—Ç–æ—Ä—ã—Ö —Å–æ—Å—Ç–æ–∏—Ç –∏–∑ –¥–≤—É—Ö —Ä–µ–ø–ª–∏–∫.
–®–∞—Ä–¥–∞–º–∏ –Ω–∞–∑—ã–≤–∞—é—Ç—Å—è —Å–µ—Ä–≤–µ—Ä—ã, —Å–æ–¥–µ—Ä–∂–∞—â–∏–µ —Ä–∞–∑–Ω—ã–µ —á–∞—Å—Ç–∏ –¥–∞–Ω–Ω—ã—Ö (—á—Ç–æ–±—ã –ø—Ä–æ—á–∏—Ç–∞—Ç—å –≤—Å–µ –¥–∞–Ω–Ω—ã–µ, –Ω—É–∂–Ω–æ –∏–¥—Ç–∏ –Ω–∞ –≤—Å–µ —à–∞—Ä–¥—ã).
–†–µ–ø–ª–∏–∫–∞–º–∏ –Ω–∞–∑—ã–≤–∞—é—Ç—Å—è –¥—É–±–ª–∏—Ä—É—é—â–∏–µ —Å–µ—Ä–≤–µ—Ä—ã (—á—Ç–æ–±—ã –ø—Ä–æ—á–∏—Ç–∞—Ç—å –¥–∞–Ω–Ω—ã–µ, –º–æ–∂–Ω–æ –∏–¥—Ç–∏ –∑–∞ –¥–∞–Ω–Ω—ã–º–∏ –Ω–∞ –ª—é–±—É—é –∏–∑ —Ä–µ–ø–ª–∏–∫).</p><p>–ò–º—è –∫–ª–∞—Å—Ç–µ—Ä–∞ –Ω–µ –¥–æ–ª–∂–Ω–æ —Å–æ–¥–µ—Ä–∂–∞—Ç—å —Ç–æ—á–∫–∏.</p><p>–í –∫–∞—á–µ—Å—Ç–≤–µ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ –¥–ª—è –∫–∞–∂–¥–æ–≥–æ —Å–µ—Ä–≤–µ—Ä–∞ —É–∫–∞–∑—ã–≤–∞—é—Ç—Å—è <code>host</code>, <code>port</code> –∏, –Ω–µ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ, <code>user</code>, <code>password</code>, <code>secure</code>, <code>compression</code>:</p><ul><li><code>host</code> - –∞–¥—Ä–µ—Å —É–¥–∞–ª—ë–Ω–Ω–æ–≥–æ —Å–µ—Ä–≤–µ—Ä–∞. –ú–æ–∂–µ—Ç –±—ã—Ç—å —É–∫–∞–∑–∞–Ω –¥–æ–º–µ–Ω, –∏–ª–∏ IPv4 –∏–ª–∏ IPv6 –∞–¥—Ä–µ—Å. –í —Å–ª—É—á–∞–µ —É–∫–∞–∑–∞–Ω–∏—è –¥–æ–º–µ–Ω–∞, –ø—Ä–∏ —Å—Ç–∞—Ä—Ç–µ —Å–µ—Ä–≤–µ—Ä–∞ –¥–µ–ª–∞–µ—Ç—Å—è DNS –∑–∞–ø—Ä–æ—Å, –∏ —Ä–µ–∑—É–ª—å—Ç–∞—Ç –∑–∞–ø–æ–º–∏–Ω–∞–µ—Ç—Å—è –Ω–∞ –≤—Å—ë –≤—Ä–µ–º—è —Ä–∞–±–æ—Ç—ã —Å–µ—Ä–≤–µ—Ä–∞. –ï—Å–ª–∏ DNS –∑–∞–ø—Ä–æ—Å –Ω–µ—É—Å–ø–µ—à–µ–Ω, —Ç–æ —Å–µ—Ä–≤–µ—Ä –Ω–µ –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è. –ï—Å–ª–∏ –≤—ã –∏–∑–º–µ–Ω—è–µ—Ç–µ DNS-–∑–∞–ø–∏—Å—å, –ø–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ —Å–µ—Ä–≤–µ—Ä.</li><li><code>port</code> - TCP-–ø–æ—Ä—Ç –¥–ª—è –º–µ–∂—Å–µ—Ä–≤–µ—Ä–Ω–æ–≥–æ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è (–≤ –∫–æ–Ω—Ñ–∏–≥–µ - tcp_port, –æ–±—ã—á–Ω–æ 9000). –ù–µ –ø–µ—Ä–µ–ø—É—Ç–∞–π—Ç–µ —Å http_port.</li><li><code>user</code> - –∏–º—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –¥–ª—è —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è —Å —É–¥–∞–ª—ë–Ω–Ω—ã–º —Å–µ—Ä–≤–µ—Ä–æ–º. –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é - default. –≠—Ç–æ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –¥–æ–ª–∂–µ–Ω –∏–º–µ—Ç—å –¥–æ—Å—Ç—É–ø –¥–ª—è —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è —Å —É–∫–∞–∑–∞–Ω–Ω—ã–º —Å–µ—Ä–≤–µ—Ä–æ–º. –î–æ—Å—Ç—É–ø—ã –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞—é—Ç—Å—è –≤ —Ñ–∞–π–ª–µ users.xml, –ø–æ–¥—Ä–æ–±–Ω–µ–µ —Å–º–æ—Ç—Ä–∏—Ç–µ –≤ —Ä–∞–∑–¥–µ–ª–µ <a href="/ru/operations/access-rights">–ü—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø–∞</a>.</li><li><code>password</code> - –ø–∞—Ä–æ–ª—å –¥–ª—è —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è —Å —É–¥–∞–ª—ë–Ω–Ω—ã–º —Å–µ—Ä–≤–µ—Ä–æ–º, –≤ –æ—Ç–∫—Ä—ã—Ç–æ–º –≤–∏–¥–µ. –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é - –ø—É—Å—Ç–∞—è —Å—Ç—Ä–æ–∫–∞.</li><li><code>secure</code> - –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —à–∏—Ñ—Ä–æ–≤–∞–Ω–Ω–æ–µ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ ssl, –û–±—ã—á–Ω–æ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —Å –ø–æ—Ä—Ç–æ–º <code>port</code> = 9440. –°–µ—Ä–≤–µ—Ä –¥–æ–ª–∂–µ–Ω —Å–ª—É—à–∞—Ç—å –ø–æ—Ä—Ç <code>&lt;tcp_port_secure&gt;9440&lt;/tcp_port_secure&gt;</code> —Å –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–º–∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞–º–∏ —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–æ–≤.</li><li><code>compression</code> - –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Å–∂–∞—Ç–∏–µ –¥–∞–Ω–Ω—ã—Ö. –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é: true.</li></ul><p>–ü—Ä–∏ —É–∫–∞–∑–∞–Ω–∏–∏ —Ä–µ–ø–ª–∏–∫, –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –∏–∑ —à–∞—Ä–¥–æ–≤, –ø—Ä–∏ —á—Ç–µ–Ω–∏–∏, –±—É–¥–µ—Ç –≤—ã–±—Ä–∞–Ω–∞ –æ–¥–Ω–∞ –∏–∑ –¥–æ—Å—Ç—É–ø–Ω—ã—Ö —Ä–µ–ø–ª–∏–∫. –ú–æ–∂–Ω–æ –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å –∞–ª–≥–æ—Ä–∏—Ç–º –±–∞–ª–∞–Ω—Å–∏—Ä–æ–≤–∫–∏ –Ω–∞–≥—Ä—É–∑–∫–∏ (—Ç–æ –µ—Å—Ç—å, –ø—Ä–µ–¥–ø–æ—á—Ç–µ–Ω–∏—è, –Ω–∞ –∫–∞–∫—É—é –∏–∑ —Ä–µ–ø–ª–∏–∫ –∏–¥—Ç–∏) - —Å–º. –Ω–∞—Å—Ç—Ä–æ–π–∫—É <a href="/ru/operations/settings/#settings-load_balancing">load_balancing</a>.
–ï—Å–ª–∏ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ —Å —Å–µ—Ä–≤–µ—Ä–æ–º –Ω–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–æ, —Ç–æ –±—É–¥–µ—Ç –ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∞ –ø–æ–ø—ã—Ç–∫–∞ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è —Å –Ω–µ–±–æ–ª—å—à–∏–º —Ç–∞–π–º–∞—É—Ç–æ–º. –ï—Å–ª–∏ —Å–æ–µ–¥–∏–Ω–∏—Ç—å—Å—è –Ω–µ —É–¥–∞–ª–æ—Å—å, —Ç–æ –±—É–¥–µ—Ç –≤—ã–±—Ä–∞–Ω–∞ —Å–ª–µ–¥—É—é—â–∞—è —Ä–µ–ø–ª–∏–∫–∞, –∏ —Ç–∞–∫ –¥–ª—è –≤—Å–µ—Ö —Ä–µ–ø–ª–∏–∫. –ï—Å–ª–∏ –ø–æ–ø—ã—Ç–∫–∞ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è –¥–ª—è –≤—Å–µ—Ö —Ä–µ–ø–ª–∏–∫ –Ω–µ —É–¥–∞–ª–∞—Å—å, —Ç–æ –±—É–¥—É—Ç —Å–Ω–æ–≤–∞ –ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω—ã –ø–æ–ø—ã—Ç–∫–∏ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è –ø–æ –∫—Ä—É–≥—É, –∏ —Ç–∞–∫ –Ω–µ—Å–∫–æ–ª—å–∫–æ —Ä–∞–∑.
–≠—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç –≤ –ø–æ–ª—å–∑—É –æ—Ç–∫–∞–∑–æ—É—Å—Ç–æ–π—á–∏–≤–æ—Å—Ç–∏, —Ö–æ—Ç—è –∏ –Ω–µ –æ–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç –ø–æ–ª–Ω—É—é –æ—Ç–∫–∞–∑–æ—É—Å—Ç–æ–π—á–∏–≤–æ—Å—Ç—å: —É–¥–∞–ª—ë–Ω–Ω—ã–π —Å–µ—Ä–≤–µ—Ä –º–æ–∂–µ—Ç –ø—Ä–∏–Ω—è—Ç—å —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ, –Ω–æ –Ω–µ —Ä–∞–±–æ—Ç–∞—Ç—å, –∏–ª–∏ –ø–ª–æ—Ö–æ —Ä–∞–±–æ—Ç–∞—Ç—å.</p><p>–ú–æ–∂–Ω–æ —É–∫–∞–∑–∞—Ç—å –æ—Ç –æ–¥–Ω–æ–≥–æ —à–∞—Ä–¥–∞ (–≤ —Ç–∞–∫–æ–º —Å–ª—É—á–∞–µ, –æ–±—Ä–∞–±–æ—Ç–∫—É –∑–∞–ø—Ä–æ—Å–∞ —Å—Ç–æ–∏—Ç –Ω–∞–∑—ã–≤–∞—Ç—å —É–¥–∞–ª—ë–Ω–Ω–æ–π, –∞ –Ω–µ —Ä–∞—Å–ø—Ä–µ–¥–µ–ª—ë–Ω–Ω–æ–π) –¥–æ –ø—Ä–æ–∏–∑–≤–æ–ª—å–Ω–æ–≥–æ –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ —à–∞—Ä–¥–æ–≤. –í –∫–∞–∂–¥–æ–º —à–∞—Ä–¥–µ –º–æ–∂–Ω–æ —É–∫–∞–∑–∞—Ç—å –æ—Ç –æ–¥–Ω–æ–π –¥–æ –ø—Ä–æ–∏–∑–≤–æ–ª—å–Ω–æ–≥–æ —á–∏—Å–ª–∞ —Ä–µ–ø–ª–∏–∫. –ú–æ–∂–Ω–æ —É–∫–∞–∑–∞—Ç—å —Ä–∞–∑–Ω–æ–µ —á–∏—Å–ª–æ —Ä–µ–ø–ª–∏–∫ –¥–ª—è –∫–∞–∂–¥–æ–≥–æ —à–∞—Ä–¥–∞.</p><p>–í—ã –º–æ–∂–µ—Ç–µ –ø—Ä–æ–ø–∏—Å–∞—Ç—å —Å–∫–æ–ª—å–∫–æ —É–≥–æ–¥–Ω–æ –∫–ª–∞—Å—Ç–µ—Ä–æ–≤ –≤ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏.</p><p>–î–ª—è –ø—Ä–æ—Å–º–æ—Ç—Ä–∞ –∏–º–µ—é—â–∏—Ö—Å—è –∫–ª–∞—Å—Ç–µ—Ä–æ–≤, –≤—ã –º–æ–∂–µ—Ç–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Å–∏—Å—Ç–µ–º–Ω—É—é —Ç–∞–±–ª–∏—Ü—É system.clusters.</p><p>–î–≤–∏–∂–æ–∫ Distributed –ø–æ–∑–≤–æ–ª—è–µ—Ç —Ä–∞–±–æ—Ç–∞—Ç—å —Å –∫–ª–∞—Å—Ç–µ—Ä–æ–º, –∫–∞–∫ —Å –ª–æ–∫–∞–ª—å–Ω—ã–º —Å–µ—Ä–≤–µ—Ä–æ–º. –ü—Ä–∏ —ç—Ç–æ–º, –∫–ª–∞—Å—Ç–µ—Ä —è–≤–ª—è–µ—Ç—Å—è –Ω–µ—ç–ª–∞—Å—Ç–∏—á–Ω—ã–º: –≤—ã –¥–æ–ª–∂–Ω—ã –ø—Ä–æ–ø–∏—Å–∞—Ç—å –µ–≥–æ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é –≤ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–æ–Ω–Ω—ã–π —Ñ–∞–π–ª —Å–µ—Ä–≤–µ—Ä–∞ (–ª—É—á—à–µ –≤—Å–µ—Ö —Å–µ—Ä–≤–µ—Ä–æ–≤ –∫–ª–∞—Å—Ç–µ—Ä–∞).</p><p>–ö–∞–∫ –≤–∏–¥–Ω–æ, –¥–≤–∏–∂–æ–∫ Distributed —Ç—Ä–µ–±—É–µ—Ç –ø—Ä–æ–ø–∏—Å—ã–≤–∞–Ω–∏—è –∫–ª–∞—Å—Ç–µ—Ä–∞ –≤ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–æ–Ω–Ω—ã–π —Ñ–∞–π–ª; –∫–ª–∞—Å—Ç–µ—Ä–∞ –∏–∑ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–æ–Ω–Ω–æ–≥–æ —Ñ–∞–π–ª–∞ –æ–±–Ω–æ–≤–ª—è—é—Ç—Å—è –Ω–∞–ª–µ—Ç—É, –±–µ–∑ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞ —Å–µ—Ä–≤–µ—Ä–∞. –ï—Å–ª–∏ –≤–∞–º –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –∫–∞–∂–¥—ã–π —Ä–∞–∑ –æ—Ç–ø—Ä–∞–≤–ª—è—Ç—å –∑–∞–ø—Ä–æ—Å –Ω–∞ –Ω–µ–∏–∑–≤–µ—Å—Ç–Ω—ã–π –Ω–∞–±–æ—Ä —à–∞—Ä–¥–æ–≤ –∏ —Ä–µ–ø–ª–∏–∫, –≤—ã –º–æ–∂–µ—Ç–µ –Ω–µ —Å–æ–∑–¥–∞–≤–∞—Ç—å Distributed —Ç–∞–±–ª–∏—Ü—É, –∞ –≤–æ—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è —Ç–∞–±–ª–∏—á–Ω–æ–π —Ñ—É–Ω–∫—Ü–∏–µ–π remote. –°–º–æ—Ç—Ä–∏—Ç–µ —Ä–∞–∑–¥–µ–ª <a href="/ru/engines/table-engines/special/distributed">–¢–∞–±–ª–∏—á–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏</a>.</p><p>–ï—Å—Ç—å –¥–≤–∞ —Å–ø–æ—Å–æ–±–∞ –∑–∞–ø–∏—Å—ã–≤–∞—Ç—å –¥–∞–Ω–Ω—ã–µ –Ω–∞ –∫–ª–∞—Å—Ç–µ—Ä:</p><p>–í–æ-–ø–µ—Ä–≤—ã—Ö, –≤—ã –º–æ–∂–µ—Ç–µ —Å–∞–º–æ—Å—Ç–æ—è—Ç–µ–ª—å–Ω–æ –æ–ø—Ä–µ–¥–µ–ª—è—Ç—å, –Ω–∞ –∫–∞–∫–∏–µ —Å–µ—Ä–≤–µ—Ä—ã –∫–∞–∫–∏–µ –¥–∞–Ω–Ω—ã–µ –∑–∞–ø–∏—Å—ã–≤–∞—Ç—å, –∏ –≤—ã–ø–æ–ª–Ω—è—Ç—å –∑–∞–ø–∏—Å—å –Ω–µ–ø–æ—Å—Ä–µ–¥—Å—Ç–≤–µ–Ω–Ω–æ –Ω–∞ –∫–∞–∂–¥—ã–π —à–∞—Ä–¥. –¢–æ –µ—Å—Ç—å, –¥–µ–ª–∞—Ç—å INSERT –≤ —Ç–µ —Ç–∞–±–ª–∏—Ü—ã, –Ω–∞ –∫–æ—Ç–æ—Ä—ã–µ ¬´—Å–º–æ—Ç—Ä–∏—Ç¬ª —Ä–∞—Å–ø—Ä–µ–¥–µ–ª—ë–Ω–Ω–∞—è —Ç–∞–±–ª–∏—Ü–∞. –≠—Ç–æ –Ω–∞–∏–±–æ–ª–µ–µ –≥–∏–±–∫–æ–µ —Ä–µ—à–µ–Ω–∏–µ –ø–æ—Å–∫–æ–ª—å–∫—É –≤—ã –º–æ–∂–µ—Ç–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –ª—é–±—É—é —Å—Ö–µ–º—É —à–∞—Ä–¥–∏—Ä–æ–≤–∞–Ω–∏—è, –∫–æ—Ç–æ—Ä–∞—è –º–æ–∂–µ—Ç –±—ã—Ç—å –Ω–µ—Ç—Ä–∏–≤–∏–∞–ª—å–Ω–æ–π –∏–∑-–∑–∞ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏–π –ø—Ä–µ–¥–º–µ—Ç–Ω–æ–π –æ–±–ª–∞—Å—Ç–∏.
–¢–∞–∫–∂–µ —ç—Ç–æ —è–≤–ª—è–µ—Ç—Å—è –Ω–∞–∏–±–æ–ª–µ–µ –æ–ø—Ç–∏–º–∞–ª—å–Ω—ã–º —Ä–µ—à–µ–Ω–∏–µ–º, —Ç–∞–∫ –∫–∞–∫ –¥–∞–Ω–Ω—ã–µ –º–æ–≥—É—Ç –∑–∞–ø–∏—Å—ã–≤–∞—Ç—å—Å—è –Ω–∞ —Ä–∞–∑–Ω—ã–µ —à–∞—Ä–¥—ã –ø–æ–ª–Ω–æ—Å—Ç—å—é –Ω–µ–∑–∞–≤–∏—Å–∏–º–æ.</p><p>–í–æ-–≤—Ç–æ—Ä—ã—Ö, –≤—ã –º–æ–∂–µ—Ç–µ –¥–µ–ª–∞—Ç—å INSERT –≤ Distributed —Ç–∞–±–ª–∏—Ü—É. –í —ç—Ç–æ–º —Å–ª—É—á–∞–µ, —Ç–∞–±–ª–∏—Ü–∞ –±—É–¥–µ—Ç —Å–∞–º–∞ —Ä–∞—Å–ø—Ä–µ–¥–µ–ª—è—Ç—å –≤—Å—Ç–∞–≤–ª—è–µ–º—ã–µ –¥–∞–Ω–Ω—ã–µ –ø–æ —Å–µ—Ä–≤–µ—Ä–∞–º. –î–ª—è —Ç–æ–≥–æ, —á—Ç–æ–±—ã –ø–∏—Å–∞—Ç—å –≤ Distributed —Ç–∞–±–ª–∏—Ü—É, —É –Ω–µ—ë –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –∑–∞–¥–∞–Ω –∫–ª—é—á —à–∞—Ä–¥–∏—Ä–æ–≤–∞–Ω–∏—è (–ø–æ—Å–ª–µ–¥–Ω–∏–π –ø–∞—Ä–∞–º–µ—Ç—Ä). –¢–∞–∫–∂–µ, –µ—Å–ª–∏ —à–∞—Ä–¥ –≤—Å–µ–≥–æ-–ª–∏—à—å –æ–¥–∏–Ω, —Ç–æ –∑–∞–ø–∏—Å—å —Ä–∞–±–æ—Ç–∞–µ—Ç –∏ –±–µ–∑ —É–∫–∞–∑–∞–Ω–∏—è –∫–ª—é—á–∞ —à–∞—Ä–¥–∏—Ä–æ–≤–∞–Ω–∏—è (—Ç–∞–∫ –∫–∞–∫ –≤ —ç—Ç–æ–º —Å–ª—É—á–∞–µ –æ–Ω –Ω–µ –∏–º–µ–µ—Ç —Å–º—ã—Å–ª–∞).</p><p>–£ –∫–∞–∂–¥–æ–≥–æ —à–∞—Ä–¥–∞ –≤ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–æ–Ω–Ω–æ–º —Ñ–∞–π–ª–µ –º–æ–∂–µ—Ç –±—ã—Ç—å –∑–∞–¥–∞–Ω ¬´–≤–µ—Å¬ª (weight). –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é, –≤–µ—Å —Ä–∞–≤–µ–Ω –µ–¥–∏–Ω–∏—Ü–µ. –î–∞–Ω–Ω—ã–µ –±—É–¥—É—Ç —Ä–∞—Å–ø—Ä–µ–¥–µ–ª—è—Ç—å—Å—è –ø–æ —à–∞—Ä–¥–∞–º –≤ –∫–æ–ª–∏—á–µ—Å—Ç–≤–µ, –ø—Ä–æ–ø–æ—Ä—Ü–∏–æ–Ω–∞–ª—å–Ω–æ–º –≤–µ—Å—É —à–∞—Ä–¥–∞. –ù–∞–ø—Ä–∏–º–µ—Ä, –µ—Å–ª–∏ –µ—Å—Ç—å –¥–≤–∞ —à–∞—Ä–¥–∞, –∏ —É –ø–µ—Ä–≤–æ–≥–æ –≤—ã—Å—Ç–∞–≤–ª–µ–Ω –≤–µ—Å 9, –∞ —É –≤—Ç–æ—Ä–æ–≥–æ 10, —Ç–æ –Ω–∞ –ø–µ—Ä–≤—ã–π –±—É–¥–µ—Ç –æ—Ç–ø—Ä–∞–≤–ª—è—Ç—å—Å—è 9 / 19 –¥–æ–ª—è —Å—Ç—Ä–æ–∫, –∞ –Ω–∞ –≤—Ç–æ—Ä–æ–π - 10 / 19.</p><p>–£ –∫–∞–∂–¥–æ–≥–æ —à–∞—Ä–¥–∞ –≤ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–æ–Ω–Ω–æ–º —Ñ–∞–π–ª–µ –º–æ–∂–µ—Ç –±—ã—Ç—å —É–∫–∞–∑–∞–Ω –ø–∞—Ä–∞–º–µ—Ç—Ä internal_replication.</p><p>–ï—Å–ª–∏ –æ–Ω –≤—ã—Å—Ç–∞–≤–ª–µ–Ω –≤ true, —Ç–æ –¥–ª—è –∑–∞–ø–∏—Å–∏ –±—É–¥–µ—Ç –≤—ã–±–∏—Ä–∞—Ç—å—Å—è –ø–µ—Ä–≤–∞—è –∂–∏–≤–∞—è —Ä–µ–ø–ª–∏–∫–∞ –∏ –¥–∞–Ω–Ω—ã–µ –±—É–¥—É—Ç –ø–∏—Å–∞—Ç—å—Å—è –Ω–∞ –Ω–µ—ë. –≠—Ç–æ—Ç –≤–∞—Ä–∏–∞–Ω—Ç —Å–ª–µ–¥—É–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å, –µ—Å–ª–∏ Distributed —Ç–∞–±–ª–∏—Ü–∞ ¬´—Å–º–æ—Ç—Ä–∏—Ç¬ª –Ω–∞ —Ä–µ–ø–ª–∏—Ü–∏—Ä—É–µ–º—ã–µ —Ç–∞–±–ª–∏—Ü—ã. –¢–æ –µ—Å—Ç—å, –µ—Å–ª–∏ —Ç–∞–±–ª–∏—Ü–∞, –≤ –∫–æ—Ç–æ—Ä—É—é –±—É–¥—É—Ç –∑–∞–ø–∏—Å–∞–Ω—ã –¥–∞–Ω–Ω—ã–µ, –±—É–¥–µ—Ç —Å–∞–º–∞ –∑–∞–Ω–∏–º–∞—Ç—å—Å—è –∏—Ö —Ä–µ–ø–ª–∏–∫–∞—Ü–∏–µ–π.</p><p>–ï—Å–ª–∏ –æ–Ω –≤—ã—Å—Ç–∞–≤–ª–µ–Ω –≤ false (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é), —Ç–æ –¥–∞–Ω–Ω—ã–µ –±—É–¥—É—Ç –∑–∞–ø–∏—Å—ã–≤–∞—Ç—å—Å—è –Ω–∞ –≤—Å–µ —Ä–µ–ø–ª–∏–∫–∏. –ü–æ —Å—É—Ç–∏, —ç—Ç–æ –æ–∑–Ω–∞—á–∞–µ—Ç, —á—Ç–æ Distributed —Ç–∞–±–ª–∏—Ü–∞ –∑–∞–Ω–∏–º–∞–µ—Ç—Å—è —Ä–µ–ø–ª–∏–∫–∞—Ü–∏–µ–π –¥–∞–Ω–Ω—ã—Ö —Å–∞–º–æ—Å—Ç–æ—è—Ç–µ–ª—å–Ω–æ. –≠—Ç–æ —Ö—É–∂–µ, —á–µ–º –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Ä–µ–ø–ª–∏—Ü–∏—Ä—É–µ–º—ã—Ö —Ç–∞–±–ª–∏—Ü, —Ç–∞–∫ –∫–∞–∫ –Ω–µ –∫–æ–Ω—Ç—Ä–æ–ª–∏—Ä—É–µ—Ç—Å—è –∫–æ–Ω—Å–∏—Å—Ç–µ–Ω—Ç–Ω–æ—Å—Ç—å —Ä–µ–ø–ª–∏–∫, –∏ –æ–Ω–∏ —Å–æ –≤—Ä–µ–º–µ–Ω–µ–º –±—É–¥—É—Ç —Å–æ–¥–µ—Ä–∂–∞—Ç—å –Ω–µ–º–Ω–æ–≥–æ —Ä–∞–∑–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ.</p><p>–î–ª—è –≤—ã–±–æ—Ä–∞ —à–∞—Ä–¥–∞, –Ω–∞ –∫–æ—Ç–æ—Ä—ã–π –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è —Å—Ç—Ä–æ–∫–∞ –¥–∞–Ω–Ω—ã—Ö, –≤—ã—á–∏—Å–ª—è–µ—Ç—Å—è –≤—ã—Ä–∞–∂–µ–Ω–∏–µ —à–∞—Ä–¥–∏—Ä–æ–≤–∞–Ω–∏—è, –∏ –±–µ—Ä—ë—Ç—Å—è –µ–≥–æ –æ—Å—Ç–∞—Ç–æ–∫ –æ—Ç –¥–µ–ª–µ–Ω–∏—è –Ω–∞ —Å—É–º–º–∞—Ä–Ω—ã–π –≤–µ—Å —à–∞—Ä–¥–æ–≤. –°—Ç—Ä–æ–∫–∞ –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è –Ω–∞ —à–∞—Ä–¥, —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–π –ø–æ–ª—É–∏–Ω—Ç–µ—Ä–≤–∞–ª—É –æ—Å—Ç–∞—Ç–∫–æ–≤ –æ—Ç prev_weights –¥–æ prev_weights + weight, –≥–¥–µ prev_weights - —Å—É–º–º–∞ –≤–µ—Å–æ–≤ —à–∞—Ä–¥–æ–≤ —Å –º–µ–Ω—å—à–∏–º –Ω–æ–º–µ—Ä–æ–º, –∞ weight - –≤–µ—Å —ç—Ç–æ–≥–æ —à–∞—Ä–¥–∞. –ù–∞–ø—Ä–∏–º–µ—Ä, –µ—Å–ª–∏ –µ—Å—Ç—å –¥–≤–∞ —à–∞—Ä–¥–∞, –∏ —É –ø–µ—Ä–≤–æ–≥–æ –≤—ã—Å—Ç–∞–≤–ª–µ–Ω –≤–µ—Å 9, –∞ —É –≤—Ç–æ—Ä–æ–≥–æ 10, —Ç–æ —Å—Ç—Ä–æ–∫–∞ –±—É–¥–µ—Ç –æ—Ç–ø—Ä–∞–≤–ª—è—Ç—å—Å—è –Ω–∞ –ø–µ—Ä–≤—ã–π —à–∞—Ä–¥ –¥–ª—è –æ—Å—Ç–∞—Ç–∫–æ–≤ –∏–∑ –¥–∏–∞–ø–∞–∑–æ–Ω–∞ <!-- -->[<!-- -->0, 9), –∞ –Ω–∞ –≤—Ç–æ—Ä–æ–π - –¥–ª—è –æ—Å—Ç–∞—Ç–∫–æ–≤ –∏–∑ –¥–∏–∞–ø–∞–∑–æ–Ω–∞ <!-- -->[<!-- -->9, 19).</p><p>–í—ã—Ä–∞–∂–µ–Ω–∏–µ–º —à–∞—Ä–¥–∏—Ä–æ–≤–∞–Ω–∏–µ –º–æ–∂–µ—Ç –±—ã—Ç—å –ø—Ä–æ–∏–∑–≤–æ–ª—å–Ω–æ–µ –≤—ã—Ä–∞–∂–µ–Ω–∏–µ –æ—Ç –∫–æ–Ω—Å—Ç–∞–Ω—Ç –∏ —Å—Ç–æ–ª–±—Ü–æ–≤ —Ç–∞–±–ª–∏—Ü—ã, –≤–æ–∑–≤—Ä–∞—â–∞—é—â–µ–µ —Ü–µ–ª–æ–µ —á–∏—Å–ª–æ. –ù–∞–ø—Ä–∏–º–µ—Ä, –≤—ã –º–æ–∂–µ—Ç–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –≤—ã—Ä–∞–∂–µ–Ω–∏–µ rand() –¥–ª—è —Å–ª—É—á–∞–π–Ω–æ–≥–æ —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö, –∏–ª–∏ UserID - –¥–ª—è —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è –ø–æ –æ—Å—Ç–∞—Ç–∫—É –æ—Ç –¥–µ–ª–µ–Ω–∏—è –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä–∞ –ø–æ—Å–µ—Ç–∏—Ç–µ–ª—è (—Ç–æ–≥–¥–∞ –¥–∞–Ω–Ω—ã–µ –æ–¥–Ω–æ–≥–æ –ø–æ—Å–µ—Ç–∏—Ç–µ–ª—è –±—É–¥—É—Ç —Ä–∞—Å–ø–æ–ª–æ–∂–µ–Ω—ã –Ω–∞ –æ–¥–Ω–æ–º —à–∞—Ä–¥–µ, —á—Ç–æ —É–ø—Ä–æ—Å—Ç–∏—Ç –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ IN –∏ JOIN –ø–æ –ø–æ—Å–µ—Ç–∏—Ç–µ–ª—è–º). –ï—Å–ª–∏ —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –∫–∞–∫–æ–≥–æ-–ª–∏–±–æ —Å—Ç–æ–ª–±—Ü–∞ –Ω–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ —Ä–∞–≤–Ω–æ–º–µ—Ä–Ω–æ–µ, –≤—ã –º–æ–∂–µ—Ç–µ –æ–±–µ—Ä–Ω—É—Ç—å –µ–≥–æ –≤ —Ö—ç—à —Ñ—É–Ω–∫—Ü–∏—é: intHash64(UserID).</p><p>–ü—Ä–æ—Å—Ç–æ–π –æ—Å—Ç–∞—Ç–æ–∫ –æ—Ç –¥–µ–ª–µ–Ω–∏—è —è–≤–ª—è–µ—Ç—Å—è –¥–æ–≤–æ–ª—å–Ω–æ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–Ω—ã–º —Ä–µ—à–µ–Ω–∏–µ–º –¥–ª—è —à–∞—Ä–¥–∏—Ä–æ–≤–∞–Ω–∏—è –∏ –ø–æ–¥—Ö–æ–¥–∏—Ç –Ω–µ –¥–ª—è –≤—Å–µ—Ö —Å–ª—É—á–∞–µ–≤. –û–Ω –ø–æ–¥—Ö–æ–¥–∏—Ç –¥–ª—è —Å—Ä–µ–¥–Ω–µ–≥–æ –∏ –±–æ–ª—å—à–æ–≥–æ –æ–±—ä—ë–º–∞ –¥–∞–Ω–Ω—ã—Ö (–¥–µ—Å—è—Ç–∫–∏ —Å–µ—Ä–≤–µ—Ä–æ–≤), –Ω–æ –Ω–µ –¥–ª—è –æ—á–µ–Ω—å –±–æ–ª—å—à–∏—Ö –æ–±—ä—ë–º–æ–≤ –¥–∞–Ω–Ω—ã—Ö (—Å–æ—Ç–Ω–∏ —Å–µ—Ä–≤–µ—Ä–æ–≤ –∏ –±–æ–ª—å—à–µ). –í –ø–æ—Å–ª–µ–¥–Ω–µ–º —Å–ª—É—á–∞–µ, –ª—É—á—à–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Å—Ö–µ–º—É —à–∞—Ä–¥–∏—Ä–æ–≤–∞–Ω–∏—è, –ø—Ä–æ–¥–∏–∫—Ç–æ–≤–∞–Ω–Ω—É—é —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è–º–∏ –ø—Ä–µ–¥–º–µ—Ç–Ω–æ–π –æ–±–ª–∞—Å—Ç–∏, –∏ –Ω–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –∑–∞–ø–∏—Å–∏ –≤ Distributed —Ç–∞–±–ª–∏—Ü—ã.</p><p>–ó–∞–ø—Ä–æ—Å—ã SELECT –æ—Ç–ø—Ä–∞–≤–ª—è—é—Ç—Å—è –Ω–∞ –≤—Å–µ —à–∞—Ä–¥—ã, –∏ —Ä–∞–±–æ—Ç–∞—é—Ç –Ω–µ–∑–∞–≤–∏—Å–∏–º–æ –æ—Ç —Ç–æ–≥–æ, –∫–∞–∫–∏–º –æ–±—Ä–∞–∑–æ–º –¥–∞–Ω–Ω—ã–µ —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω—ã –ø–æ —à–∞—Ä–¥–∞–º (–æ–Ω–∏ –º–æ–≥—É—Ç –±—ã—Ç—å —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω—ã –ø–æ–ª–Ω–æ—Å—Ç—å—é —Å–ª—É—á–∞–π–Ω–æ). –ü—Ä–∏ –¥–æ–±–∞–≤–ª–µ–Ω–∏–∏ –Ω–æ–≤–æ–≥–æ —à–∞—Ä–¥–∞, –º–æ–∂–Ω–æ –Ω–µ –ø–µ—Ä–µ–Ω–æ—Å–∏—Ç—å –Ω–∞ –Ω–µ–≥–æ —Å—Ç–∞—Ä—ã–µ –¥–∞–Ω–Ω—ã–µ, –∞ –∑–∞–ø–∏—Å—ã–≤–∞—Ç—å –Ω–æ–≤—ã–µ –¥–∞–Ω–Ω—ã–µ —Å –±–æ–ª—å—à–∏–º –≤–µ—Å–æ–º - –¥–∞–Ω–Ω—ã–µ –±—É–¥—É—Ç —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω—ã —Å–ª–µ–≥–∫–∞ –Ω–µ—Ä–∞–≤–Ω–æ–º–µ—Ä–Ω–æ, –Ω–æ –∑–∞–ø—Ä–æ—Å—ã –±—É–¥—É—Ç —Ä–∞–±–æ—Ç–∞—Ç—å –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –∏ –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ.</p><p>–ë–µ—Å–ø–æ–∫–æ–∏—Ç—å—Å—è –æ —Å—Ö–µ–º–µ —à–∞—Ä–¥–∏—Ä–æ–≤–∞–Ω–∏—è –∏–º–µ–µ—Ç —Å–º—ã—Å–ª –≤ —Å–ª–µ–¥—É—é—â–∏—Ö —Å–ª—É—á–∞—è—Ö:</p><ul><li>–∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –∑–∞–ø—Ä–æ—Å—ã, —Ç—Ä–µ–±—É—é—â–∏–µ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö (IN, JOIN) –ø–æ –æ–ø—Ä–µ–¥–µ–ª—ë–Ω–Ω–æ–º—É –∫–ª—é—á—É - —Ç–æ–≥–¥–∞ –µ—Å–ª–∏ –¥–∞–Ω–Ω—ã–µ —à–∞—Ä–¥–∏—Ä–æ–≤–∞–Ω—ã –ø–æ —ç—Ç–æ–º—É –∫–ª—é—á—É, —Ç–æ –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –ª–æ–∫–∞–ª—å–Ω—ã–µ IN, JOIN –≤–º–µ—Å—Ç–æ GLOBAL IN, GLOBAL JOIN, —á—Ç–æ –∫–∞—Ä–¥–∏–Ω–∞–ª—å–Ω–æ –±–æ–ª–µ–µ —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ.</li><li>–∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –±–æ–ª—å—à–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Å–µ—Ä–≤–µ—Ä–æ–≤ (—Å–æ—Ç–Ω–∏ –∏ –±–æ–ª—å—à–µ) –∏ –±–æ–ª—å—à–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –º–∞–ª–µ–Ω—å–∫–∏—Ö –∑–∞–ø—Ä–æ—Å–æ–≤ (–∑–∞–ø—Ä–æ—Å—ã –æ—Ç–¥–µ–ª—å–Ω—ã—Ö –∫–ª–∏–µ–Ω—Ç–æ–≤ - —Å–∞–π—Ç–æ–≤, —Ä–µ–∫–ª–∞–º–æ–¥–∞—Ç–µ–ª–µ–π, –ø–∞—Ä—Ç–Ω—ë—Ä–æ–≤) - —Ç–æ–≥–¥–∞, –¥–ª—è —Ç–æ–≥–æ, —á—Ç–æ–±—ã –º–∞–ª–µ–Ω—å–∫–∏–µ –∑–∞–ø—Ä–æ—Å—ã –Ω–µ –∑–∞—Ç—Ä–∞–≥–∏–≤–∞–ª–∏ –≤–µ—Å—å –∫–ª–∞—Å—Ç–µ—Ä, –∏–º–µ–µ—Ç —Å–º—ã—Å–ª —Ä–∞—Å–ø–æ–ª–∞–≥–∞—Ç—å –¥–∞–Ω–Ω—ã–µ –æ–¥–Ω–æ–≥–æ –∫–ª–∏–µ–Ω—Ç–∞ –Ω–∞ –æ–¥–Ω–æ–º —à–∞—Ä–¥–µ, –∏–ª–∏ —Å–¥–µ–ª–∞—Ç—å –¥–≤—É—Ö—É—Ä–æ–≤–Ω–µ–≤–æ–µ —à–∞—Ä–¥–∏—Ä–æ–≤–∞–Ω–∏–µ: —Ä–∞–∑–±–∏—Ç—å –≤–µ—Å—å –∫–ª–∞—Å—Ç–µ—Ä –Ω–∞ ¬´—Å–ª–æ–∏¬ª, –≥–¥–µ —Å–ª–æ–π –º–æ–∂–µ—Ç —Å–æ—Å—Ç–æ—è—Ç—å –∏–∑ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö —à–∞—Ä–¥–æ–≤; –¥–∞–Ω–Ω—ã–µ –¥–ª—è –æ–¥–Ω–æ–≥–æ –∫–ª–∏–µ–Ω—Ç–∞ —Ä–∞—Å–ø–æ–ª–∞–≥–∞—é—Ç—Å—è –Ω–∞ –æ–¥–Ω–æ–º —Å–ª–æ–µ, –Ω–æ –≤ –æ–¥–∏–Ω —Å–ª–æ–π –º–æ–∂–Ω–æ –ø–æ –º–µ—Ä–µ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ –¥–æ–±–∞–≤–ª—è—Ç—å —à–∞—Ä–¥—ã, –≤ —Ä–∞–º–∫–∞—Ö –∫–æ—Ç–æ—Ä—ã—Ö –¥–∞–Ω–Ω—ã–µ —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω—ã –ø—Ä–æ–∏–∑–≤–æ–ª—å–Ω—ã–º –æ–±—Ä–∞–∑–æ–º; —Å–æ–∑–¥–∞—é—Ç—Å—è —Ä–∞—Å–ø—Ä–µ–¥–µ–ª—ë–Ω–Ω—ã–µ —Ç–∞–±–ª–∏—Ü—ã –Ω–∞ –∫–∞–∂–¥—ã–π —Å–ª–æ–π –∏ –æ–¥–Ω–∞ –æ–±—â–∞—è —Ä–∞—Å–ø—Ä–µ–¥–µ–ª—ë–Ω–Ω–∞—è —Ç–∞–±–ª–∏—Ü–∞ –¥–ª—è –≥–ª–æ–±–∞–ª—å–Ω—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤.</li></ul><p>–ó–∞–ø–∏—Å—å –¥–∞–Ω–Ω—ã—Ö –æ—Å—É—â–µ—Å—Ç–≤–ª—è–µ—Ç—Å—è –ø–æ–ª–Ω–æ—Å—Ç—å—é –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ. –ü—Ä–∏ –≤—Å—Ç–∞–≤–∫–µ –≤ —Ç–∞–±–ª–∏—Ü—É, –±–ª–æ–∫ –¥–∞–Ω–Ω—ã—Ö —Å–Ω–∞—á–∞–ª–∞ –∑–∞–ø–∏—Å—ã–≤–∞–µ—Ç—Å—è –≤ —Ñ–∞–π–ª–æ–≤—É—é —Å–∏—Å—Ç–µ–º—É. –ó–∞—Ç–µ–º, –≤ —Ñ–æ–Ω–æ–≤–æ–º —Ä–µ–∂–∏–º–µ –æ—Ç–ø—Ä–∞–≤–ª—è—é—Ç—Å—è –Ω–∞ —É–¥–∞–ª—ë–Ω–Ω—ã–µ —Å–µ—Ä–≤–µ—Ä—ã –ø—Ä–∏ –ø–µ—Ä–≤–æ–π –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏. –ü–µ—Ä–∏–æ–¥ –æ—Ç–ø—Ä–∞–≤–∫–∏ —Ä–µ–≥—É–ª–∏—Ä—É–µ—Ç—Å—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞–º–∏ <a href="/ru/operations/settings/#distributed_directory_monitor_sleep_time_ms">distributed_directory_monitor_sleep_time_ms</a> –∏ <a href="/ru/operations/settings/#distributed_directory_monitor_max_sleep_time_ms">distributed_directory_monitor_max_sleep_time_ms</a>. –î–≤–∏–∂–æ–∫ —Ç–∞–±–ª–∏—Ü <code>Distributed</code> –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –∫–∞–∂–¥—ã–π —Ñ–∞–π–ª —Å–æ –≤—Å—Ç–∞–≤–ª–µ–Ω–Ω—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏ –æ—Ç–¥–µ–ª—å–Ω–æ, –Ω–æ –º–æ–∂–Ω–æ –≤–∫–ª—é—á–∏—Ç—å –ø–∞–∫–µ—Ç–Ω—É—é –æ—Ç–ø—Ä–∞–≤–∫—É –¥–∞–Ω–Ω—ã—Ö –Ω–∞—Å—Ç—Ä–æ–π–∫–æ–π <a href="/ru/operations/settings/#distributed_directory_monitor_batch_inserts">distributed_directory_monitor_batch_inserts</a>. –≠—Ç–∞ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ —É–ª—É—á—à–∞–µ—Ç –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –∫–ª–∞—Å—Ç–µ—Ä–∞ –∑–∞ —Å—á–µ—Ç –±–æ–ª–µ–µ –æ–ø—Ç–∏–º–∞–ª—å–Ω–æ–≥–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è —Ä–µ—Å—É—Ä—Å–æ–≤ —Å–µ—Ä–≤–µ—Ä–∞-–æ—Ç–ø—Ä–∞–≤–∏—Ç–µ–ª—è –∏ —Å–µ—Ç–∏. –ù–µ–æ–±—Ö–æ–¥–∏–º–æ –ø—Ä–æ–≤–µ—Ä—è—Ç—å, —á—Ç–æ –¥–∞–Ω–Ω—ã–µ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω—ã —É—Å–ø–µ—à–Ω–æ, –¥–ª—è —ç—Ç–æ–≥–æ –ø—Ä–æ–≤–µ—Ä—å—Ç–µ —Å–ø–∏—Å–æ–∫ —Ñ–∞–π–ª–æ–≤ (–¥–∞–Ω–Ω—ã—Ö, –æ–∂–∏–¥–∞—é—â–∏—Ö –æ—Ç–ø—Ä–∞–≤–∫–∏) –≤ –∫–∞—Ç–∞–ª–æ–≥–µ —Ç–∞–±–ª–∏—Ü—ã <code>/var/lib/clickhouse/data/database/table/</code>. –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø–æ—Ç–æ–∫–æ–≤ –¥–ª—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è —Ñ–æ–Ω–æ–≤—ã—Ö –∑–∞–¥–∞—á –º–æ–∂–Ω–æ –∑–∞–¥–∞—Ç—å —Å –ø–æ–º–æ—â—å—é –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ <a href="/ru/operations/settings/#background_distributed_schedule_pool_size">background_distributed_schedule_pool_size</a>.</p><p>–ï—Å–ª–∏ –ø–æ—Å–ª–µ INSERT-–∞ –≤ Distributed —Ç–∞–±–ª–∏—Ü—É, —Å–µ—Ä–≤–µ—Ä –ø–µ—Ä–µ—Å—Ç–∞–ª —Å—É—â–µ—Å—Ç–≤–æ–≤–∞—Ç—å –∏–ª–∏ –±—ã–ª –≥—Ä—É–±–æ –ø–µ—Ä–µ–∑–∞–ø—É—â–µ–Ω (–Ω–∞–ø—Ä–∏–º–µ—Ä, –≤ —Å–ª–µ–¥—Å—Ç–≤–∏–µ –∞–ø–ø–∞—Ä–∞—Ç–Ω–æ–≥–æ —Å–±–æ—è), —Ç–æ –∑–∞–ø–∏—Å–∞–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –º–æ–≥—É—Ç –±—ã—Ç—å –ø–æ—Ç–µ—Ä—è–Ω—ã. –ï—Å–ª–∏ –≤ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ —Ç–∞–±–ª–∏—Ü—ã –æ–±–Ω–∞—Ä—É–∂–µ–Ω –ø–æ–≤—Ä–µ–∂–¥—ë–Ω–Ω—ã–π –∫—É—Å–æ–∫ –¥–∞–Ω–Ω—ã—Ö, —Ç–æ –æ–Ω –ø–µ—Ä–µ–Ω–æ—Å–∏—Ç—Å—è –≤ –ø–æ–¥–¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é broken –∏ –±–æ–ª—å—à–µ –Ω–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è.</p><p>–ü—Ä–∏ –≤—ã—Å—Ç–∞–≤–ª–µ–Ω–∏–∏ –æ–ø—Ü–∏–∏ max_parallel_replicas –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –∑–∞–ø—Ä–æ—Å–∞ —Ä–∞—Å–ø–∞—Ä–∞–ª–ª–µ–ª–∏–≤–∞–µ—Ç—Å—è –ø–æ –≤—Å–µ–º —Ä–µ–ø–ª–∏–∫–∞–º –≤–Ω—É—Ç—Ä–∏ –æ–¥–Ω–æ–≥–æ —à–∞—Ä–¥–∞. –ü–æ–¥—Ä–æ–±–Ω–µ–µ —Å–º–æ—Ç—Ä–∏—Ç–µ —Ä–∞–∑–¥–µ–ª <a href="/ru/operations/settings/#settings-max_parallel_replicas">max_parallel_replicas</a>.</p><h2 class="anchor anchorWithHideOnScrollNavbar_R0VQ" id="virtual-columns">–í–∏—Ä—Ç—É–∞–ª—å–Ω—ã–µ —Å—Ç–æ–ª–±—Ü—ã<a class="hash-link" href="#virtual-columns" title="Direct link to heading">‚Äã</a></h2><ul><li><p><code>_shard_num</code> ‚Äî —Å–æ–¥–µ—Ä–∂–∏—Ç –∑–Ω–∞—á–µ–Ω–∏–µ <code>shard_num</code> –∏–∑ —Ç–∞–±–ª–∏—Ü—ã <code>system.clusters</code>. –¢–∏–ø: <a href="/ru/sql-reference/data-types/int-uint">UInt32</a>.</p><div class="codeBlockContainer_I0IT theme-code-block"><div class="codeBlockContent_wNvx" style="color:#000000;background-color:#ffffff"><pre tabindex="0" class="prism-code language-text codeBlock_jd64 thin-scrollbar"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#000000"><span class="token plain">:::note &quot;–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ&quot;</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">–¢–∞–∫ –∫–∞–∫ —Ç–∞–±–ª–∏—á–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ [remote](/ru/sql-reference/table-functions/remote) –∏ [cluster](/ru/sql-reference/table-functions/cluster) —Å–æ–∑–¥–∞—é—Ç –≤—Ä–µ–º–µ–Ω–Ω—É—é —Ç–∞–±–ª–∏—Ü—É –Ω–∞ –¥–≤–∏–∂–∫–µ `Distributed`, —Ç–æ –≤ –Ω–µ–π —Ç–∞–∫–∂–µ –¥–æ—Å—Ç—É–ø–µ–Ω —Å—Ç–æ–ª–±–µ—Ü `_shard_num`.</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">:::</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" title="Copy" class="copyButton_eDfN clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><p><strong>–°–º. —Ç–∞–∫–∂–µ</strong></p></li><li><p>–æ–±—â–µ–µ –æ–ø–∏—Å–∞–Ω–∏–µ <a href="/ru/engines/table-engines/#table_engines-virtual_columns">–≤–∏—Ä—Ç—É–∞–ª—å–Ω—ã—Ö —Å—Ç–æ–ª–±—Ü–æ–≤</a></p></li><li><p>–Ω–∞—Å—Ç—Ä–æ–π–∫–∞ <a href="/ru/operations/settings/#background_distributed_schedule_pool_size">background_distributed_schedule_pool_size</a></p></li><li><p>—Ñ—É–Ω–∫—Ü–∏–∏ <a href="/ru/sql-reference/functions/other-functions#shard-num">shardNum()</a> –∏ <a href="/ru/sql-reference/functions/other-functions#shard-count">shardCount()</a></p></li></ul></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/ClickHouse/ClickHouse/tree/docs-staging/docs/ru/engines/table-engines/special/distributed.md" target="_blank" rel="noreferrer noopener" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_dcUD" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_foO9"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/ru/engines/table-engines/special/"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">–°–ø–µ—Ü–∏–∞–ª—å–Ω—ã–µ –¥–≤–∏–∂–∫–∏ —Ç–∞–±–ª–∏—Ü</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/ru/engines/table-engines/special/dictionary"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Dictionary</div></a></div></nav></div></div><div class="col col--3"><div class="tableOfContents_cNA8 thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#virtual-columns" class="table-of-contents__link toc-highlight">–í–∏—Ä—Ç—É–∞–ª—å–Ω—ã–µ —Å—Ç–æ–ª–±—Ü—ã</a></li></ul></div></div></div></div></main></div></div><footer class="footer"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">ClickHouse</div><ul class="footer__items"><li class="footer__item"><a href="https://clickhouse.com/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Company</a></li><li class="footer__item"><a href="https://clickhouse.com/cloud/" target="_blank" rel="noopener noreferrer" class="footer__link-item">ClickHouse as a Service</a></li><li class="footer__item"><a href="https://clickhouse.com/careers/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Careers</a></li><li class="footer__item"><a href="https://clickhouse.com/learn/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Learn ClickHouse</a></li></ul></div><div class="col footer__col"><div class="footer__title">Community</div><ul class="footer__items"><li class="footer__item"><a href="https://github.com/ClickHouse/ClickHouse" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_I5OW"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://clickhouse.com/blog/en/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Blog<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_I5OW"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://www.youtube.com/c/ClickHouseDB" target="_blank" rel="noopener noreferrer" class="footer__link-item">YouTube<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_I5OW"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://twitter.com/ClickHouseDB" target="_blank" rel="noopener noreferrer" class="footer__link-item">Twitter<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_I5OW"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://join.slack.com/t/clickhousedb/shared_invite/zt-rxm3rdrk-lIUmhLC3V8WTaL0TGxsOmg" target="_blank" rel="noopener noreferrer" class="footer__link-item">Slack<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_I5OW"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">Policies</div><ul class="footer__items"><li class="footer__item"><a href="https://clickhouse.com/legal/trademark-policy/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Trademark Policy</a></li><li class="footer__item"><a href="https://clickhouse.com/legal/privacy-policy/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Privacy Policy</a></li><li class="footer__item"><a href="https://clickhouse.com/legal/cookie-policy/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Cookie Policy</a></li></ul></div></div><div class="footer__bottom text--center"><div class="margin-bottom--sm"><img src="/img/logo.png" alt="ClickHouse Documentation" class="themedImage_W2Cr themedImage--light_TfLj footer__logo"><img src="/img/logo.png" alt="ClickHouse Documentation" class="themedImage_W2Cr themedImage--dark_oUvU footer__logo"></div><div class="footer__copyright">Copyright &copy; 2016&ndash;2022 ClickHouse, Inc. ClickHouse Docs provided under the Creative Commons CC BY-NC-SA license. ClickHouse&reg; is a registered trademark of ClickHouse, Inc.</div></div></div></footer></div>
<script src="/assets/js/runtime~main.db9e59e5.js"></script>
<script src="/assets/js/main.028d105f.js"></script>
</body>
</html>